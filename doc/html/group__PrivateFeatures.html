<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCLib: (Private)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>(Private)<br>
<small>
[<a class="el" href="group__Features.html">Features</a>]</small>
</h1>
<p>
Collaboration diagram for (Private):
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Feature object.  <a href="struct__FC__Feature.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g08c98320377d7678b3c578a13b7e51af">_fc_createFeature</a> (int id, <a class="el" href="struct__FC__Feature.html">_FC_Feature</a> **feature)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new (empty) feature and assign ID.  <a href="#g08c98320377d7678b3c578a13b7e51af"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g9926ec8c50bbab1c8774f2e9c681f02b">_fc_freeFeature</a> (<a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *feature)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free memory associated with a feature.  <a href="#g9926ec8c50bbab1c8774f2e9c681f02b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g4d9c239e0f3ff26c2ea4fe2aca867ec4">_fc_feature_addROI</a> (<a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *feature, int stepID, int ROI_ID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an ROI reference to a feature.  <a href="#g4d9c239e0f3ff26c2ea4fe2aca867ec4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g87041dfb08969cdd70e931624f927d60">_fc_feature_addParent</a> (<a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *feature, int featureID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a parent reference to this feature.  <a href="#g87041dfb08969cdd70e931624f927d60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g9fa0e20feac75d74af58c3d1f13dc4c7">_fc_feature_addChild</a> (<a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *feature, int featureID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a child reference to this feature.  <a href="#g9fa0e20feac75d74af58c3d1f13dc4c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g012c7af91801080794d684919c232493">_fc_featureGroup_getFeature</a> (<a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a> *group, int featureID, <a class="el" href="struct__FC__Feature.html">_FC_Feature</a> **feature)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a feature from the feature group.  <a href="#g012c7af91801080794d684919c232493"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateFeatures.html#g37a96a720cde2f64b1bc823662eee78f">_fc_featureGroup_getFeatures</a> (<a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a> *group, int *numFeature_p, <a class="el" href="struct__FC__Feature.html">_FC_Feature</a> ***features_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the features in a feature group.  <a href="#g37a96a720cde2f64b1bc823662eee78f"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g08c98320377d7678b3c578a13b7e51af"></a><!-- doxytag: member="feature.c::_fc_createFeature" ref="g08c98320377d7678b3c578a13b7e51af" args="(int id, _FC_Feature **feature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_createFeature           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> **&nbsp;</td>
          <td class="paramname"> <em>feature</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create new (empty) feature and assign ID. 
<p>
<b>Modifications:</b> <ul>
<li>FEB-18-2003 W Koegler Created</li><li>11/11/04 WSK Changed so that allocates room for itself.</li></ul>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd>?: Change so have to specify an ROI? </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>id</em>&nbsp;</td><td>
input - the feature's ID </td></tr>
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
output - the new feature </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01193">1193</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="feature_8c-source.html#l00243">fc_featureGroup_newFeature()</a>.<div class="fragment"><pre class="fragment"><a name="l01196"></a>01196   {
<a name="l01197"></a>01197   <span class="comment">// default return</span>
<a name="l01198"></a>01198   <span class="keywordflow">if</span> (feature)
<a name="l01199"></a>01199     *feature = NULL;
<a name="l01200"></a>01200 
<a name="l01201"></a>01201   <span class="comment">// check input</span>
<a name="l01202"></a>01202   <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; 0 || !feature) {
<a name="l01203"></a>01203     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01204"></a>01204     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01205"></a>01205   }
<a name="l01206"></a>01206   
<a name="l01207"></a>01207   <span class="comment">// log message</span>
<a name="l01208"></a>01208   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new feature."</span>);
<a name="l01209"></a>01209 
<a name="l01210"></a>01210   <span class="comment">// create</span>
<a name="l01211"></a>01211   *feature = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct__FC__Feature.html">_FC_Feature</a>));
<a name="l01212"></a>01212   <span class="keywordflow">if</span> (*feature == NULL) {
<a name="l01213"></a>01213     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01214"></a>01214     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01215"></a>01215   }
<a name="l01216"></a>01216 
<a name="l01217"></a>01217   <span class="comment">// assign values</span>
<a name="l01218"></a>01218   (*feature)-&gt;id = id;
<a name="l01219"></a>01219   (*feature)-&gt;numROI = 0;
<a name="l01220"></a>01220   (*feature)-&gt;stepIDs = NULL;
<a name="l01221"></a>01221   (*feature)-&gt;roiIDs = NULL;
<a name="l01222"></a>01222   (*feature)-&gt;numParent = 0;
<a name="l01223"></a>01223   (*feature)-&gt;parentIDs = NULL;
<a name="l01224"></a>01224   (*feature)-&gt;numChild = 0;
<a name="l01225"></a>01225   (*feature)-&gt;childIDs = NULL;
<a name="l01226"></a>01226 
<a name="l01227"></a>01227   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01228"></a>01228 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9fa0e20feac75d74af58c3d1f13dc4c7"></a><!-- doxytag: member="feature.c::_fc_feature_addChild" ref="g9fa0e20feac75d74af58c3d1f13dc4c7" args="(_FC_Feature *feature, int featureID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_feature_addChild           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *&nbsp;</td>
          <td class="paramname"> <em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a child reference to this feature. 
<p>
<b>Description:</b> <p>
Add the specified feature to this feature's child list. The reference is the id of the parent in the feature group.<p>
<b>Modifications:</b> <ul>
<li>FEB-18-2003 W Koegler Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
input - pointer to the feature </td></tr>
<tr><td valign="top"><em>featureID</em>&nbsp;</td><td>
input - the index of the child feature </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01397">1397</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="feature_8h-source.html#l00077">_FC_Feature::childIDs</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, and <a class="el" href="feature_8h-source.html#l00076">_FC_Feature::numChild</a>.
<p>
Referenced by <a class="el" href="feature_8c-source.html#l00306">fc_featureGroup_setParentChildPair()</a>.<div class="fragment"><pre class="fragment"><a name="l01400"></a>01400  {
<a name="l01401"></a>01401   <span class="keywordtype">int</span> i;
<a name="l01402"></a>01402   <span class="keywordtype">int</span> *temp_ids;
<a name="l01403"></a>01403 
<a name="l01404"></a>01404   <span class="comment">// check input</span>
<a name="l01405"></a>01405   <span class="keywordflow">if</span> (!feature || featureID &lt; 0) {
<a name="l01406"></a>01406     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01407"></a>01407     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01408"></a>01408   }
<a name="l01409"></a>01409 
<a name="l01410"></a>01410   <span class="comment">// log message</span>
<a name="l01411"></a>01411   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Adding child to a feature."</span>); 
<a name="l01412"></a>01412 
<a name="l01413"></a>01413   <span class="comment">// expand id array</span>
<a name="l01414"></a>01414   temp_ids = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(feature-&gt;<a class="code" href="struct__FC__Feature.html#771f45fea8c9db56abaa582eda8490a6">numChild</a> + 1));
<a name="l01415"></a>01415   <span class="keywordflow">if</span> (temp_ids == NULL ) {
<a name="l01416"></a>01416     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01417"></a>01417     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01418"></a>01418   } 
<a name="l01419"></a>01419   <span class="keywordflow">for</span> (i = 0; i &lt; feature-&gt;<a class="code" href="struct__FC__Feature.html#771f45fea8c9db56abaa582eda8490a6">numChild</a>; i++) 
<a name="l01420"></a>01420     temp_ids[i] = feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a>[i];
<a name="l01421"></a>01421   free(feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a>);
<a name="l01422"></a>01422   feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a> = temp_ids;
<a name="l01423"></a>01423     
<a name="l01424"></a>01424   <span class="comment">// new values</span>
<a name="l01425"></a>01425   feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a>[feature-&gt;<a class="code" href="struct__FC__Feature.html#771f45fea8c9db56abaa582eda8490a6">numChild</a>] = featureID;
<a name="l01426"></a>01426   feature-&gt;<a class="code" href="struct__FC__Feature.html#771f45fea8c9db56abaa582eda8490a6">numChild</a>++;
<a name="l01427"></a>01427 
<a name="l01428"></a>01428   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01429"></a>01429 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g87041dfb08969cdd70e931624f927d60"></a><!-- doxytag: member="feature.c::_fc_feature_addParent" ref="g87041dfb08969cdd70e931624f927d60" args="(_FC_Feature *feature, int featureID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_feature_addParent           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *&nbsp;</td>
          <td class="paramname"> <em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a parent reference to this feature. 
<p>
<b>Description:</b> <p>
Add the specified feature to this feature's parent list. The reference is the id of the parent in the feature group.<p>
<b>Modifications:</b> <ul>
<li>FEB-18-2003 W Koegler Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
input - pointer to the feature </td></tr>
<tr><td valign="top"><em>featureID</em>&nbsp;</td><td>
input - the index of the parent feature </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01351">1351</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="feature_8h-source.html#l00074">_FC_Feature::numParent</a>, and <a class="el" href="feature_8h-source.html#l00075">_FC_Feature::parentIDs</a>.
<p>
Referenced by <a class="el" href="feature_8c-source.html#l00306">fc_featureGroup_setParentChildPair()</a>.<div class="fragment"><pre class="fragment"><a name="l01354"></a>01354   {
<a name="l01355"></a>01355   <span class="keywordtype">int</span> i;
<a name="l01356"></a>01356   <span class="keywordtype">int</span> *temp_ids;
<a name="l01357"></a>01357   
<a name="l01358"></a>01358   <span class="comment">// check input &amp; state (this only catches automatically allocated features)</span>
<a name="l01359"></a>01359   <span class="keywordflow">if</span> (!feature || featureID &lt; 0)  {
<a name="l01360"></a>01360     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01361"></a>01361     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01362"></a>01362   }
<a name="l01363"></a>01363 
<a name="l01364"></a>01364   <span class="comment">// log message</span>
<a name="l01365"></a>01365   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Adding parent to a feature."</span>); 
<a name="l01366"></a>01366 
<a name="l01367"></a>01367   <span class="comment">// expand id array</span>
<a name="l01368"></a>01368   temp_ids = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(feature-&gt;<a class="code" href="struct__FC__Feature.html#5d85d0030261c5a0bafd315a8a8aaaab">numParent</a> + 1));
<a name="l01369"></a>01369   <span class="keywordflow">if</span> (temp_ids == NULL ) {
<a name="l01370"></a>01370     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01371"></a>01371     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01372"></a>01372   } 
<a name="l01373"></a>01373   <span class="keywordflow">for</span> (i = 0; i &lt; feature-&gt;<a class="code" href="struct__FC__Feature.html#5d85d0030261c5a0bafd315a8a8aaaab">numParent</a>; i++) 
<a name="l01374"></a>01374     temp_ids[i] = feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a>[i];
<a name="l01375"></a>01375   free(feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a>);
<a name="l01376"></a>01376   feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a> = temp_ids;
<a name="l01377"></a>01377     
<a name="l01378"></a>01378   <span class="comment">// new values</span>
<a name="l01379"></a>01379   feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a>[feature-&gt;<a class="code" href="struct__FC__Feature.html#5d85d0030261c5a0bafd315a8a8aaaab">numParent</a>] = featureID;
<a name="l01380"></a>01380   feature-&gt;<a class="code" href="struct__FC__Feature.html#5d85d0030261c5a0bafd315a8a8aaaab">numParent</a>++;
<a name="l01381"></a>01381   
<a name="l01382"></a>01382   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01383"></a>01383 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4d9c239e0f3ff26c2ea4fe2aca867ec4"></a><!-- doxytag: member="feature.c::_fc_feature_addROI" ref="g4d9c239e0f3ff26c2ea4fe2aca867ec4" args="(_FC_Feature *feature, int stepID, int ROI_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_feature_addROI           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *&nbsp;</td>
          <td class="paramname"> <em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stepID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ROI_ID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an ROI reference to a feature. 
<p>
<b>Description:</b> <p>
Adds an ROI to the end of a Feature's ROI list. The ROI is really in the feature group, here we store a reference to the ROI in the group. The reference is specified first by the step it is in, and then by its index in that step.<p>
<b>Modifications:</b> <ul>
<li>FEB-18-2003 W Koegler Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
input - pointer to the feature </td></tr>
<tr><td valign="top"><em>stepID</em>&nbsp;</td><td>
input - the index for the step the ROI is in </td></tr>
<tr><td valign="top"><em>ROI_ID</em>&nbsp;</td><td>
input - the ROI's index (in the feature group) within the specified step </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01283">1283</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="feature_8h-source.html#l00069">_FC_Feature::numROI</a>, <a class="el" href="feature_8h-source.html#l00072">_FC_Feature::roiIDs</a>, and <a class="el" href="feature_8h-source.html#l00071">_FC_Feature::stepIDs</a>.
<p>
Referenced by <a class="el" href="feature_8c-source.html#l00344">fc_featureGroup_continueFeature()</a>, and <a class="el" href="feature_8c-source.html#l00243">fc_featureGroup_newFeature()</a>.<div class="fragment"><pre class="fragment"><a name="l01288"></a>01288   {
<a name="l01289"></a>01289   <span class="keywordtype">int</span> i;
<a name="l01290"></a>01290   <span class="keywordtype">int</span> *temp_steps;
<a name="l01291"></a>01291   <span class="keywordtype">int</span> *temp_ROIs;
<a name="l01292"></a>01292 
<a name="l01293"></a>01293   <span class="comment">// check input -- this is an internal routine so we don't check that</span>
<a name="l01294"></a>01294   <span class="comment">// ROI actually exists on the group, or that ROI doesn't already exits</span>
<a name="l01295"></a>01295   <span class="comment">// on this feature</span>
<a name="l01296"></a>01296   <span class="keywordflow">if</span> (!feature || stepID &lt; 0 || ROI_ID &lt; 0) {
<a name="l01297"></a>01297     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01298"></a>01298     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01299"></a>01299   }
<a name="l01300"></a>01300 
<a name="l01301"></a>01301   <span class="comment">// log message</span>
<a name="l01302"></a>01302   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Add ROI to a feature."</span>);  
<a name="l01303"></a>01303 
<a name="l01304"></a>01304   <span class="comment">// expand id arrays</span>
<a name="l01305"></a>01305   <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a> &gt; 0) {
<a name="l01306"></a>01306     temp_steps = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a> + 1));
<a name="l01307"></a>01307     temp_ROIs = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a> + 1));
<a name="l01308"></a>01308     <span class="keywordflow">if</span> (temp_steps == NULL || temp_ROIs == NULL) {
<a name="l01309"></a>01309       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01310"></a>01310       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01311"></a>01311     }
<a name="l01312"></a>01312     <span class="keywordflow">for</span> (i = 0; i &lt; feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a>; i++) {
<a name="l01313"></a>01313       temp_steps[i] = feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a>[i];
<a name="l01314"></a>01314       temp_ROIs[i] = feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a>[i];
<a name="l01315"></a>01315     }
<a name="l01316"></a>01316     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a>);
<a name="l01317"></a>01317     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a>);
<a name="l01318"></a>01318     feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a> = temp_steps;
<a name="l01319"></a>01319     feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a> = temp_ROIs;
<a name="l01320"></a>01320   }
<a name="l01321"></a>01321   <span class="keywordflow">else</span> {
<a name="l01322"></a>01322     feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a> = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01323"></a>01323     feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a> = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01324"></a>01324     <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a> == NULL || feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a> == NULL) {
<a name="l01325"></a>01325       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01326"></a>01326       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01327"></a>01327     }
<a name="l01328"></a>01328     feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a> = 0;
<a name="l01329"></a>01329   }
<a name="l01330"></a>01330 
<a name="l01331"></a>01331   <span class="comment">// new values</span>
<a name="l01332"></a>01332   feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a>[feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a>] = stepID;
<a name="l01333"></a>01333   feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a>[feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a>] = ROI_ID;
<a name="l01334"></a>01334   feature-&gt;<a class="code" href="struct__FC__Feature.html#559181d14f158688c50d8e32feff05fa">numROI</a>++;
<a name="l01335"></a>01335 
<a name="l01336"></a>01336   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01337"></a>01337 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g012c7af91801080794d684919c232493"></a><!-- doxytag: member="feature.c::_fc_featureGroup_getFeature" ref="g012c7af91801080794d684919c232493" args="(FC_FeatureGroup *group, int featureID, _FC_Feature **feature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_featureGroup_getFeature           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a> *&nbsp;</td>
          <td class="paramname"> <em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> **&nbsp;</td>
          <td class="paramname"> <em>feature</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a feature from the feature group. 
<p>
<b>Description:</b> <p>
Given a feature's ID, get the feature from a feature group.<p>
<b>Modifications:</b> <ul>
<li>MAR-17-2003 W Koegler Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>group</em>&nbsp;</td><td>
input - pointer to feature group </td></tr>
<tr><td valign="top"><em>featureID</em>&nbsp;</td><td>
input - a feature's ID </td></tr>
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
output - pointer to the feature </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01637">1637</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="feature_8h-source.html#l00107">FC_FeatureGroup::features</a>, and <a class="el" href="feature_8h-source.html#l00106">FC_FeatureGroup::numFeature</a>.<div class="fragment"><pre class="fragment"><a name="l01641"></a>01641  {
<a name="l01642"></a>01642   <span class="comment">// default output</span>
<a name="l01643"></a>01643   <span class="keywordflow">if</span> (feature)
<a name="l01644"></a>01644     *feature = NULL;
<a name="l01645"></a>01645 
<a name="l01646"></a>01646   <span class="comment">// check input</span>
<a name="l01647"></a>01647   <span class="keywordflow">if</span> (!group || !feature) {
<a name="l01648"></a>01648      <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01649"></a>01649     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01650"></a>01650   }
<a name="l01651"></a>01651   
<a name="l01652"></a>01652   <span class="comment">// log message</span>
<a name="l01653"></a>01653   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting feature from a feature group."</span>);  
<a name="l01654"></a>01654    
<a name="l01655"></a>01655   
<a name="l01656"></a>01656   <span class="comment">// get return value</span>
<a name="l01657"></a>01657   <span class="keywordflow">if</span> (featureID &gt;= group-&gt;<a class="code" href="structFC__FeatureGroup.html#4522a7da83a49d17338c94f8e7c21270">numFeature</a>)  <span class="comment">// FIX? should this error?</span>
<a name="l01658"></a>01658     *feature = NULL;
<a name="l01659"></a>01659   <span class="keywordflow">else</span>
<a name="l01660"></a>01660     *feature = group-&gt;<a class="code" href="structFC__FeatureGroup.html#0345b476095ab95207c3b91cba70611e">features</a>[featureID];
<a name="l01661"></a>01661  
<a name="l01662"></a>01662   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01663"></a>01663 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g37a96a720cde2f64b1bc823662eee78f"></a><!-- doxytag: member="feature.c::_fc_featureGroup_getFeatures" ref="g37a96a720cde2f64b1bc823662eee78f" args="(FC_FeatureGroup *group, int *numFeature_p, _FC_Feature ***features_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_featureGroup_getFeatures           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a> *&nbsp;</td>
          <td class="paramname"> <em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numFeature_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> ***&nbsp;</td>
          <td class="paramname"> <em>features_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the features in a feature group. 
<p>
<b>Description:</b> <p>
Returns the number of features in the feature group and an array of pointers to the features in the feature group. This array needs to be freed by the calling routine. (But don't free the features, they belong to the group, free the group when completely done with the features.)<p>
<b>Modifications:</b> <ul>
<li>MAR-17-2003 W Koegler Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>group</em>&nbsp;</td><td>
input - pointer to feature group </td></tr>
<tr><td valign="top"><em>numFeature_p</em>&nbsp;</td><td>
output - number of features in the group </td></tr>
<tr><td valign="top"><em>features_p</em>&nbsp;</td><td>
output - array of pointers to features </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01680">1680</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="feature_8h-source.html#l00107">FC_FeatureGroup::features</a>, and <a class="el" href="feature_8h-source.html#l00106">FC_FeatureGroup::numFeature</a>.<div class="fragment"><pre class="fragment"><a name="l01684"></a>01684   {
<a name="l01685"></a>01685   <span class="keywordtype">int</span> i;
<a name="l01686"></a>01686 
<a name="l01687"></a>01687   <span class="comment">// default output</span>
<a name="l01688"></a>01688   <span class="keywordflow">if</span> (numFeature_p)
<a name="l01689"></a>01689     *numFeature_p = -1;
<a name="l01690"></a>01690   <span class="keywordflow">if</span> (features_p)
<a name="l01691"></a>01691     *features_p = NULL;
<a name="l01692"></a>01692  
<a name="l01693"></a>01693   <span class="comment">// check input</span>
<a name="l01694"></a>01694   <span class="keywordflow">if</span> (!group || !numFeature_p || !features_p) {
<a name="l01695"></a>01695     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01696"></a>01696     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01697"></a>01697   }
<a name="l01698"></a>01698 
<a name="l01699"></a>01699   <span class="comment">// log message</span>
<a name="l01700"></a>01700   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting features in a feature group."</span>);  
<a name="l01701"></a>01701  
<a name="l01702"></a>01702   <span class="comment">// make arrays</span>
<a name="l01703"></a>01703   *numFeature_p = group-&gt;<a class="code" href="structFC__FeatureGroup.html#4522a7da83a49d17338c94f8e7c21270">numFeature</a>;
<a name="l01704"></a>01704   <span class="keywordflow">if</span> (*numFeature_p &gt; 0) {
<a name="l01705"></a>01705     *features_p = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct__FC__Feature.html">_FC_Feature</a>*) * (*numFeature_p));
<a name="l01706"></a>01706     <span class="keywordflow">if</span> (*features_p == NULL ) {
<a name="l01707"></a>01707       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01708"></a>01708       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01709"></a>01709     } 
<a name="l01710"></a>01710     <span class="keywordflow">for</span> (i = 0; i &lt; *numFeature_p; i++)
<a name="l01711"></a>01711       (*features_p)[i] = group-&gt;<a class="code" href="structFC__FeatureGroup.html#0345b476095ab95207c3b91cba70611e">features</a>[i];
<a name="l01712"></a>01712   }
<a name="l01713"></a>01713   <span class="keywordflow">else</span>
<a name="l01714"></a>01714     *features_p = NULL;
<a name="l01715"></a>01715 
<a name="l01716"></a>01716   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01717"></a>01717 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9926ec8c50bbab1c8774f2e9c681f02b"></a><!-- doxytag: member="feature.c::_fc_freeFeature" ref="g9926ec8c50bbab1c8774f2e9c681f02b" args="(_FC_Feature *feature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _fc_freeFeature           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__Feature.html">_FC_Feature</a> *&nbsp;</td>
          <td class="paramname"> <em>feature</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free memory associated with a feature. 
<p>
<b>Description:</b> <p>
This routine should only be called on features created using fc_createFeature. This frees the dynamically allocated memory inside a feature, then the feature itself.<p>
<b>Modifications:</b> <ul>
<li>FEB-18-2003 W Koegler Created.</li><li>11/11/04 WSK Changed so that it frees itself as well as it's dynamically allocated arrays. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>feature</em>&nbsp;</td><td>
input - pointer to the feature </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="feature_8c-source.html#l01245">1245</a> of file <a class="el" href="feature_8c-source.html">feature.c</a>.
<p>
References <a class="el" href="feature_8h-source.html#l00077">_FC_Feature::childIDs</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="feature_8h-source.html#l00075">_FC_Feature::parentIDs</a>, <a class="el" href="feature_8h-source.html#l00072">_FC_Feature::roiIDs</a>, and <a class="el" href="feature_8h-source.html#l00071">_FC_Feature::stepIDs</a>.
<p>
Referenced by <a class="el" href="feature_8c-source.html#l00177">fc_freeFeatureGroup()</a>.<div class="fragment"><pre class="fragment"><a name="l01247"></a>01247   {
<a name="l01248"></a>01248   <span class="comment">// early return</span>
<a name="l01249"></a>01249   <span class="keywordflow">if</span> (feature == NULL)
<a name="l01250"></a>01250     <span class="keywordflow">return</span>;
<a name="l01251"></a>01251   
<a name="l01252"></a>01252   <span class="comment">// log message</span>
<a name="l01253"></a>01253   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Freeing feature."</span>);  
<a name="l01254"></a>01254 
<a name="l01255"></a>01255   <span class="comment">// free allocated arrays</span>
<a name="l01256"></a>01256   <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a>)
<a name="l01257"></a>01257     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#b3a0211c9bf4f7dfd90d6a996fd1ec50">stepIDs</a>);
<a name="l01258"></a>01258   <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a>)
<a name="l01259"></a>01259     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#e65580b14cc2e6fb44c324b0c57ddf37">roiIDs</a>);
<a name="l01260"></a>01260   <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a>) 
<a name="l01261"></a>01261     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#9881dc774eb98b9b107797a6c02fc520">parentIDs</a>);
<a name="l01262"></a>01262   <span class="keywordflow">if</span> (feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a>)
<a name="l01263"></a>01263     free(feature-&gt;<a class="code" href="struct__FC__Feature.html#89326f62cb155e611116640ef9595c07">childIDs</a>);
<a name="l01264"></a>01264 
<a name="l01265"></a>01265   <span class="comment">// free itself</span>
<a name="l01266"></a>01266   free(feature);
<a name="l01267"></a>01267 }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Oct 31 11:10:02 2007 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
