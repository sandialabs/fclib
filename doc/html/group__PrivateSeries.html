<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FCLib: (Private)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>(Private)<br>
<small>
[<a class="el" href="group__Series.html">Series Routines</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for (Private):</div>
<div class="dynsection">
<center><table><tr><td><img src="group__PrivateSeries.gif" border="0" alt="" usemap="#group____PrivateSeries_map">
<map name="group____PrivateSeries_map">
<area shape="rect" href="group__Series.html" title="Sequence&#45;based analysis routines (e.g., time series) and helper functions." alt="" coords="7,5,137,32"></map></td></tr></table></center>
</div>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateSeries.html#g85558d3a96772fc12d86f399f7eece30">_fc_makeNewSeqVar</a> (int numStep, <a class="el" href="structFC__Variable.html">FC_Variable</a> *seqvar, char *varname, <a class="el" href="structFC__Variable.html">FC_Variable</a> **newseqvar)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Makes a new seq var on the mesh that is on the same sequence as a given variable. this is a helper function. inputs are not checked.  <a href="#g85558d3a96772fc12d86f399f7eece30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateSeries.html#ga78492e16d4f05bf8df42ac451b15a14">_fc_createSeqVariableFromVariable</a> (int numStep, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> seq, <a class="el" href="structFC__Variable.html">FC_Variable</a> normal, char *seq_var_name, <a class="el" href="structFC__Variable.html">FC_Variable</a> **seqvar)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a regular multi-datapoint variable, make a sequence variable from it.  <a href="#ga78492e16d4f05bf8df42ac451b15a14"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga78492e16d4f05bf8df42ac451b15a14"></a><!-- doxytag: member="series.c::_fc_createSeqVariableFromVariable" ref="ga78492e16d4f05bf8df42ac451b15a14" args="(int numStep, FC_Sequence seq, FC_Variable normal, char *seq_var_name, FC_Variable **seqvar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> _fc_createSeqVariableFromVariable           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a>&nbsp;</td>
          <td class="paramname"> <em>normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seq_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a> **&nbsp;</td>
          <td class="paramname"> <em>seqvar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a regular multi-datapoint variable, make a sequence variable from it. 
<p>
<b>Description:</b> <p>
Given a regular multi-datapoint variable, make a sequence variable from it. Each data point maps into a different step in the sequence (lenght of sequnce = num data point) in the order they are in the regular variable's data array. Values then are assigned the assocation FC_AT_WHOLE_MESH.<p>
A sequence must be provided such that the length of the sequence must equal the number of datapoints. fc_createRegularSequence exists in sequence module for assistance with that.<p>
Handles multi component data.<p>
NOTE: becuase this uses createSeqVariable the user must call deleteseqvariable *and* free when deallocating it unless delete gets changed.<p>
<b>Modifications:</b> <ul>
<li>2/1/05 ACG, Moved here from checkstats.c and renamed from fc_seqVarFromNormalVar to fc_createSeqVariableFromRegularVariable</li><li>2/2/05 ACG, changed to require user to pass in sequence, so that user can create several seq variables on the same sequence by this method. seqvars have to be on the same sequence to use the seqvar comparison routines in this module. Removed word "regular" from title so as not to confuse with use of "regular" elsewhere in this module. -2/10/05 ACG moved to private, since it may or may not be something we want to keep since ordering isnt necessarily meaningful in the translations. nevertheless, its worth hanging onto for the time being</li><li>01/09/06 ACG changing/removing handling/cleanup in case of datatype error at WSK recommendation since it skews the coverage testing. Either there is already an explict type check or if those lines are reached you've got serious errors and the cleanup doesnt matter. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numstep in the provided seq </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
input - handle to the provided sequence </td></tr>
<tr><td valign="top"><em>normal</em>&nbsp;</td><td>
input - the regular variable </td></tr>
<tr><td valign="top"><em>seq_var_name</em>&nbsp;</td><td>
output - name of the new seq variable </td></tr>
<tr><td valign="top"><em>seqvar</em>&nbsp;</td><td>
output - handles to the new seq var </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="series_8c-source.html#l00205">205</a> of file <a class="el" href="series_8c-source.html">series.c</a>.</p>

<p>References <a class="el" href="base_8h-source.html#l00197">FC_AT_WHOLE_MESH</a>, <a class="el" href="variable_8c-source.html#l00350">fc_createSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l05062">fc_deleteSeqVariable()</a>, <a class="el" href="base_8h-source.html#l00139">FC_DT_CHAR</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="variable_8c-source.html#l05392">fc_getMeshFromVariable()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="variable_8c-source.html#l05715">fc_getVariableDataPtr()</a>, <a class="el" href="variable_8c-source.html#l05433">fc_getVariableInfo()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01505">fc_isSequenceValid()</a>, <a class="el" href="variable_8c-source.html#l05156">fc_isVariableValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="variable_8c-source.html#l00469">fc_setVariableData()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00102">numComponent</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00211"></a>00211  {
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00214"></a>00214   <span class="keywordtype">int</span> i;
<a name="l00215"></a>00215   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh;
<a name="l00216"></a>00216   <a class="code" href="group__DataTypes.html#g60d16c50c365cd12f1f61ce8f4cebb20" title="Possible ways of organizing data values.">FC_MathType</a> mathtype;
<a name="l00217"></a>00217   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> datatype;
<a name="l00218"></a>00218   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00219"></a>00219   <span class="keywordtype">int</span> <a class="code" href="seriesAnalyzer_8c.html#9ba814c62f21460639802c7771e86fa6">numComponent</a>, numDataPoint, mystery;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221   <span class="keywordtype">void</span> *data, *dcounter;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00224"></a>00224   <span class="keywordflow">if</span> (seqvar)
<a name="l00225"></a>00225     *seqvar = NULL;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227   <span class="keywordflow">if</span> ((!<a class="code" href="group__Variable.html#g31f5830cdcafcce9ffec2c8bb2ff46e2" title="Check that the handle refers to a valid variable.">fc_isVariableValid</a>(normal)) || (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(seq))
<a name="l00228"></a>00228       || seq_var_name == NULL){ 
<a name="l00229"></a>00229     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00230"></a>00230     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00231"></a>00231   };
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   rc = <a class="code" href="group__Variable.html#gcd52b4ee0552c63ff2819e5f30549cbc" title="Get information about a variable.">fc_getVariableInfo</a> (normal,&amp;numDataPoint,&amp;numComponent,
<a name="l00235"></a>00235                           &amp;assoc, &amp;mathtype, &amp;datatype);
<a name="l00236"></a>00236   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l00237"></a>00237     <span class="keywordflow">return</span> rc;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   <span class="keywordflow">if</span> (numDataPoint != numStep){
<a name="l00240"></a>00240     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <span class="stringliteral">"invalid sized seq for this regular variable"</span>);
<a name="l00241"></a>00241     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00242"></a>00242   }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating seqvar from var"</span>);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 
<a name="l00247"></a>00247   <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> &amp;&amp; 
<a name="l00248"></a>00248       datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a> &amp;&amp;
<a name="l00249"></a>00249       datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>){
<a name="l00250"></a>00250     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Cant handle this datatype"</span>);
<a name="l00251"></a>00251     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00252"></a>00252   }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254   rc = <a class="code" href="group__Variable.html#g6808d2015766d9b530b93375f42296a3" title="Get the parent mesh of the variable.">fc_getMeshFromVariable</a>(normal,&amp;mesh);
<a name="l00255"></a>00255   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l00256"></a>00256     <span class="keywordflow">return</span> rc;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   rc = <a class="code" href="group__Variable.html#g05d5098e68c1761ac851b2509dfbea70" title="Create a new sequence variable.">fc_createSeqVariable</a>(mesh,seq,seq_var_name,
<a name="l00259"></a>00259                             &amp;mystery, seqvar);
<a name="l00260"></a>00260   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l00261"></a>00261     <span class="keywordflow">return</span> rc;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   rc = <a class="code" href="group__Variable.html#g40a4d68cafd7134b908b78d053d3c47d" title="Get the data in a variable.">fc_getVariableDataPtr</a>(normal,&amp;data);
<a name="l00264"></a>00264   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00265"></a>00265     <a class="code" href="group__Variable.html#gef5ebe119abe1d217a216f0faad0e667" title="Delete a sequence variable.">fc_deleteSeqVariable</a>(numStep,*seqvar);
<a name="l00266"></a>00266     free(*seqvar);
<a name="l00267"></a>00267     *seqvar=NULL;
<a name="l00268"></a>00268     <span class="keywordflow">return</span> rc;
<a name="l00269"></a>00269   }
<a name="l00270"></a>00270   <span class="keywordflow">for</span> (i = 0; i &lt;numStep; i++){
<a name="l00271"></a>00271     <span class="keywordflow">switch</span> (datatype){
<a name="l00272"></a>00272     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>:
<a name="l00273"></a>00273       dcounter = &amp;(((<span class="keywordtype">int</span>*)data)[i*numComponent]);
<a name="l00274"></a>00274       <span class="keywordflow">break</span>;
<a name="l00275"></a>00275     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>:
<a name="l00276"></a>00276       dcounter = &amp;(((<span class="keywordtype">float</span>*)data)[i*numComponent]);
<a name="l00277"></a>00277       <span class="keywordflow">break</span>;
<a name="l00278"></a>00278     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>:
<a name="l00279"></a>00279       dcounter = &amp;(((<span class="keywordtype">double</span>*)data)[i*numComponent]);
<a name="l00280"></a>00280       <span class="keywordflow">break</span>;
<a name="l00281"></a>00281     <span class="keywordflow">default</span>: <span class="comment">//its a char cuase i checked types above</span>
<a name="l00282"></a>00282       dcounter = &amp;(((<span class="keywordtype">char</span>*)data)[i*numComponent]);
<a name="l00283"></a>00283       <span class="keywordflow">break</span>;
<a name="l00284"></a>00284     }
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     rc = <a class="code" href="group__Variable.html#g3f958d3b630c9df78a4e7fbca287b039" title="Set the variable data by copy.">fc_setVariableData</a>((*seqvar)[i],1,numComponent,
<a name="l00288"></a>00288                             <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af62b7e38452f200e9abd5767534b43d670">FC_AT_WHOLE_MESH</a>,mathtype,
<a name="l00289"></a>00289                             datatype,dcounter);
<a name="l00290"></a>00290     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00291"></a>00291       <a class="code" href="group__Variable.html#gef5ebe119abe1d217a216f0faad0e667" title="Delete a sequence variable.">fc_deleteSeqVariable</a>(numStep,*seqvar);
<a name="l00292"></a>00292       free(*seqvar);
<a name="l00293"></a>00293       *seqvar=NULL;
<a name="l00294"></a>00294       <span class="keywordflow">return</span> rc;
<a name="l00295"></a>00295     }
<a name="l00296"></a>00296   }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298   data = NULL;
<a name="l00299"></a>00299 
<a name="l00300"></a>00300   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00301"></a>00301 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g85558d3a96772fc12d86f399f7eece30"></a><!-- doxytag: member="series.c::_fc_makeNewSeqVar" ref="g85558d3a96772fc12d86f399f7eece30" args="(int numStep, FC_Variable *seqvar, char *varname, FC_Variable **newseqvar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> _fc_makeNewSeqVar           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a> *&nbsp;</td>
          <td class="paramname"> <em>seqvar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>varname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a> **&nbsp;</td>
          <td class="paramname"> <em>newseqvar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Makes a new seq var on the mesh that is on the same sequence as a given variable. this is a helper function. inputs are not checked. 
<p>
<b>Description:</b> <p>
Makes a new seq var on the mesh that is on the same sequence as a given variable. this is a helper function. inputs are not checked.<p>
Like fc_createSeqVariable, it actaully allocates the memory for the array here. Since this uses createseqvar, the user has to call a deleteSeqvar *and* a free on the seq var when deallocating it, unless delete gets changed.<p>
<b>Modifications:</b> <ul>
<li>1/26/05 ACG, Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numSteps in orig seq </td></tr>
<tr><td valign="top"><em>seqvar</em>&nbsp;</td><td>
input - orig seq var </td></tr>
<tr><td valign="top"><em>varname</em>&nbsp;</td><td>
output - name of new seq </td></tr>
<tr><td valign="top"><em>newseqvar</em>&nbsp;</td><td>
output - new seqvar </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="series_8c-source.html#l00122">122</a> of file <a class="el" href="series_8c-source.html">series.c</a>.</p>

<p>References <a class="el" href="variable_8c-source.html#l00350">fc_createSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l05062">fc_deleteSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l05392">fc_getMeshFromVariable()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="variable_8c-source.html#l05317">fc_getSequenceFromSeqVariable()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="series_8c-source.html#l01506">fc_centeredWindowAverage()</a>, <a class="el" href="series_8c-source.html#l01715">fc_centeredWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l00676">fc_firstDerivative_REA()</a>, <a class="el" href="series_8c-source.html#l01027">fc_leadingWindowAverage()</a>, <a class="el" href="series_8c-source.html#l01261">fc_leadingWindowAverage_Time()</a>, and <a class="el" href="series_8c-source.html#l02072">fc_normalForm()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00127"></a>00127    {
<a name="l00128"></a>00128 
<a name="l00129"></a>00129   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00130"></a>00130   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh;
<a name="l00131"></a>00131   <a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a> seq;
<a name="l00132"></a>00132   <span class="keywordtype">int</span> newSteps;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134   <span class="comment">//not checking input since helper function</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   rc = <a class="code" href="group__Variable.html#g6808d2015766d9b530b93375f42296a3" title="Get the parent mesh of the variable.">fc_getMeshFromVariable</a>(seqvar[0],&amp;mesh);
<a name="l00137"></a>00137   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00138"></a>00138     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(rc));
<a name="l00139"></a>00139     <span class="keywordflow">return</span> rc;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143   rc = <a class="code" href="group__Variable.html#g314a992ec5ba07d7075f1172b13ef166" title="Get the parent sequence of a sequence variable.">fc_getSequenceFromSeqVariable</a>(numStep,seqvar,&amp;seq);
<a name="l00144"></a>00144   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l00145"></a>00145     <span class="keywordflow">return</span> rc;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147   <span class="comment">//like the implementation of fc_createSeqVariable method,</span>
<a name="l00148"></a>00148   <span class="comment">//actaully allocating the memory for the return variable here.</span>
<a name="l00149"></a>00149   <span class="comment">//but i will free it in case of error, if i can</span>
<a name="l00150"></a>00150   rc = <a class="code" href="group__Variable.html#g05d5098e68c1761ac851b2509dfbea70" title="Create a new sequence variable.">fc_createSeqVariable</a>(mesh, seq, varname, &amp;newSteps,newseqvar);
<a name="l00151"></a>00151   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00152"></a>00152     <a class="code" href="group__Variable.html#gef5ebe119abe1d217a216f0faad0e667" title="Delete a sequence variable.">fc_deleteSeqVariable</a>(newSteps, *newseqvar); 
<a name="l00153"></a>00153     free(*newseqvar);
<a name="l00154"></a>00154     *newseqvar=NULL;
<a name="l00155"></a>00155     <span class="keywordflow">return</span> rc;
<a name="l00156"></a>00156   }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 27 13:26:22 2008 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
