<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCLib: Conventions for Doxygen documentation (for developers)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="dox_page">Conventions for Doxygen documentation (for developers)</a></h1>This page describes FCLib specific conventions for creating comments blocks that produce the Doxygen documentation.<h2><a class="anchor" name="DoxTOC">
Table of Contents:</a></h2>
<ul>
<li><a class="el" href="dox_page.html#CommentBlocks">Doxygen comment blocks</a></li><li><a class="el" href="dox_page.html#DoxygenCommands">Doxygen commands</a></li><li><a class="el" href="dox_page.html#FormattedLists">Bulleted and Numbered Lists</a></li><li><a class="el" href="dox_page.html#Modules">Modules</a></li><li><a class="el" href="dox_page.html#ExampleModule">Example: Module documentation</a></li><li><a class="el" href="dox_page.html#ExampleFile">Example: File documentation</a></li><li><a class="el" href="dox_page.html#ExampleFunction">Example: Function documentation</a></li><li><a class="el" href="dox_page.html#ExamplePage">Example: Page documentation</a></li></ul>
<h2><a class="anchor" name="CommentBlocks">
Doxygen comment blocks</a></h2>
Doxygen only examines comments that are marked as special. For example<p>
<div class="fragment"><pre class="fragment">
/**  
 * This is a Doxygen comment block because it starts with an
 * an extra '*'.
   '*'s on middle lines are optional.
 */

/* 
 * This is a normal 
 * comment block
 */
</pre></div><p>
Doxygen comment blocks usually proceed the entity (function, struct, etc) that they define. An exception is for function arguments and members of structs and enums where a special character ('&lt;') is used to indicate that the comment has come after the entity.<p>
Here is an example of documentation for a struct<p>
<div class="fragment"><pre class="fragment">
/** documentation for some_struct */
struct { 
   int member1; /**&lt; documentation for member1 */
   int member2; /**&lt; documentation for member2 */
} some_struct;
</pre></div><h2><a class="anchor" name="DoxygenCommands">
Doxygen commands</a></h2>
Doxygen commands start with a backslash ('\') and are used to specify extra formatting, what entities the documentation belongs to, etc. They can have a few different types of arguments:<p>
<ul>
<li>&lt;argument&gt; - the argument is is a single word</li><li>(argument) - the argument extends until the end of the line on which it is found</li><li>{argument} - the argument extends until the next paragraph. Paragraphs are delimited by a blank line or by a section indicator.</li></ul>
<p>
Note that many entities have a name (single token identifier) <b>and</b> a title (phrase used for display).<p>
We are using the following subset of Doxygen commands (these are the FCLib uses for these commands, see Doxygen's documentation for their general purpose usage):<p>
<div class="fragment"><pre class="fragment">
\addtogroup &lt;name&gt; (title) - will define a group like \defgroup if &lt;name&gt;
   has already been used, or will append this comment blocks documentation
   to previous documentation for the group.

\b &lt;word&gt; - displays word in bold. To put multiple words in bold use
  &lt;b&gt;multiple words&lt;\b&gt;.

\brief {brief description} - Provide one sentence summary of entity.

\bug {bug description} - Comments about code that is suspect (will show up on 
   current entity and on separate 'Bug List' Page).
 
\defgroup &lt;module_name&gt; (module title) - defines a module (a module is a
   user defined grouping of entities).

\htmlinclude &lt;file_name&gt; - paste html file in as-is.

\ingroup &lt;module_name&gt; - add entity to the module 

\file &lt;file_name&gt; - Specify that block is documentation for a file.

\page &lt;page_name&gt; (page_title) - indicates comment block that contains 
  documentation not directly related to entities like functions, files, etc.

\ref &lt;name&gt; - will make a hyper-link to the named entity.

\sa {references} - Produces bold face 'See also' before the references.

\section &lt;section_name&gt; (section title) - starts a new section in the current 
   comment block

\subsection &lt;subsection_name&gt; (subsection title) - starts a new subsection in 
   the current

\todo {to do description} - Comments of things that need to be done (will show
  up on current entity and on separate 'Todo List' Page).

\verbatim/endverbatim - these commands are used to bracket text that will 
   appear exactly as typed (Doxygen commands disabled within).
</pre></div><p>
We have defined the following aliases for our project:<p>
<div class="fragment"><pre class="fragment">
 \description - Inserts a bold face 'Description:'.

 \modifications - Inserts a bold face 'Modifications:'.
</pre></div><h2><a class="anchor" name="FormattedLists">
Bulleted and Numbered Lists</a></h2>
Lists and nested lists can be easily created.<p>
<div class="fragment"><pre class="fragment">
/**
 * The bulleted list:  
 *  - item
 *     - subitem
 *     - subitem
 *  - item
 *  - ....
 */
</pre></div><p>
The above comment produces:<p>
The bulleted list:<ul>
<li>item<ul>
<li>subitem</li><li>subitem</li></ul>
</li><li>item2</li><li>....</li></ul>
<p>
Numbered lists can also be made, but the subitems are not properly numbered (a bulleted list inside a numbered list works fine).<p>
<div class="fragment"><pre class="fragment">
/**
 * The numbered list:  
 *  -# item
 *     -# subitem
 *     -# subitem
 *  -# item
 *  -# ....
 */
</pre></div><p>
The above comment produces:<p>
The numbered list:<ol type=1>
<li>item<ol type=a>
<li>subitem</li><li>subitem</li></ol>
</li><li>item</li><li>....</li></ol>
<h2><a class="anchor" name="Modules">
Modules</a></h2>
The data types and functions in FCLib are grouped together into user-defined modules for easier reference. Top level module definitions are created like this:<p>
<div class="fragment"><pre class="fragment">
/** 
 * \defgroup  API FCLib API
 */
</pre></div><p>
which defines a group named 'API' and titled 'FCLib API'. Submodules can be defined like this:<p>
<div class="fragment"><pre class="fragment">
/**
 * \ingroup  API
 * \defgroup DataInterface Data Interface
 */
</pre></div><p>
Any entities that you want to appear in a module should have an 'ingroup' command in their documentation.<p>
The top level modules for FCLib are declared in <a class="el" href="doxy__module__defs.html">doxy_module_defs</a> to insure that the appear in the documentation in the desired order. Further documentation is added to some of the groups in the appropriate source files using the 'addtogroup' command (see next section).<h2><a class="anchor" name="ExampleModule">
Example: Module documentation</a></h2>
Below are code snippets to create a (fictitious) module and its two submodules.<p>
In file <a class="el" href="doxy__module__defs.html">doxy_module_defs</a> : <div class="fragment"><pre class="fragment">
/**
 * \defgroup API FCLib API
 * \brief Feature Characterization Library API
 *
 * \description
 *
 *    ...
 */

...

    /** 
     * \ingroup API
     * \defgroup ExampleModuleTag Example Module Name 
     */

...
</pre></div><p>
and in example_module.c: <div class="fragment"><pre class="fragment">
/**
 * \addtogroup  ExampleModuleTag
 * \brief  One sentence explanation about the example module
 *
 * \description
 * 
 *    General, detailed text about the example module
 *
 *   ...
 */

/**
 * \ingroup  ExampleModuleTag
 * \defgroup SubModule1Tag Submodule 1
 */

/**
 * \ingroup  ExampleModuleTag
 * \defgroup SubModule2Tab Submodule 2  
 *
 * \brief Can add text here to explain submodule.
 */


...
</pre></div><p>
Note the use of the 'addtogroup' command to provide documentation to the module because it had already been defined. This is done so that the documentation for module can be maintained in the appropriate .c file.<h2><a class="anchor" name="ExampleFile">
Example: File documentation</a></h2>
In addition to entity documentation within files, each source file should also be documented as a file. Here is an example of the minimum required documentation for FCLib source files:<p>
<div class="fragment"><pre class="fragment">
/** 
 * \file  some_file.h
 * \brief Public declarations for the \ref SomeModule Module.
 *
 * $ Source$              (but without space between '$' and the word
 * $ Revision$             which we had to do here to prevent CVS
 * $ Date$                 from messing up our documentation).
 */
</pre></div><p>
where Source, Revision, and Date (when between '$'s) are helpful cvs keywords. Files that are the source for command line programs will generally have extensive documentation in the the file comment block (for example, see source code for <a class="el" href="fcdump_8c.html">fcdump.c</a>).<h2><a class="anchor" name="ExampleFunction">
Example: Function documentation</a></h2>
Here is an example of how to document a function. The format is essential the same for structs, enums, typedefs, global variables, defines, etc.<p>
<div class="fragment"><pre class="fragment">
/**
 * \ingroup  SomeModule
 * \brief  This function does something.
 *
 * \description
 *
 *    This function does something by first examining it's arguments and
 *    and then manipulating them this way and that:
 *      - first it squeezes them
 *      - then it freezes them
 *      - and finally it sneezes them
 *
 *    After all of that, it calls \ref another_function and returns a number.
 *
 * \todo Somebody really ought to rewrite this vague documentation
 *
 * \bug This functions doesn't handle candy types yet!
 *
 * \modifications  
 *    - 01/02/03  JD,  Created.
 *    - 01/04/03  PNT, Added handling of savory types
 */
int some_function(
  Snack* snack,  /**&lt; input/output - a pointer to the snack to be modified */
  int numSalt,   /**&lt; input - the number of salt grains to add*/
  int* shouldIEatIt  /**&lt; output - flag for whether to eat the snack */
) {
  // check input
  if (!snack || numSalt &lt; 0)
    return FC_INPUT_ERROR;

  ...
}
</pre></div><p>
Most functions (structs, enums, etc) should be in a module so use the command 'ingroup' to specify which module this documentation belongs to. Next provide a brief description and a blank line (brief descriptions must always be followed by a blank line unless they are the last command in the comment block).<p>
The rest of the documentation is considered the detailed description. The description command just produces a bold 'Description:' as a heading. The 'todo' and 'bug' commands create headings and also put their comments on the <a class="el" href="todo.html">Todo List</a> and bug pages. The 'modification' command also produces a bold heading and it an FCLib convention to put each modification in a list with the date, modifiers initials, and a brief comment.<p>
The arguments of functions should also be documented. It is an FCLib convention to start the comment with 'input' (argument is purely for input), 'output' (argument is purely for output), or 'input/out' (argument that is modified). Be sure to use '-' after this tag--for some reason Doxygen does not like ':'.<h2><a class="anchor" name="ExamplePage">
Example: Page documentation</a></h2>
Pages are entities that are used to generate documentation that isn't associated with actual code entities like functions or variables. Here is a section of the file used to create this page:<p>
<div class="fragment"><pre class="fragment">
/*
\page page1  FCLib conventions for Doxygen documentation (for developers)

This page describes FCLib specific conventions for creating comments blocks
that produce the Doxygen documentation.

\section TOC Table of Contents:

 - \ref CommentBlocks
 - \ref DoxygenCommands
 
...

\section CommentBlocks Doxygen comment blocks

Doxygen only examines comments that are marked as special. For example

\verbatim
/**  
 * This is a Doxygen comment block because it starts with an
 * an extra '*'.
   '*'s on middle lines are optional.
 */

/* 
 * This is a normal 
 * comment block
 */
\ endverbatim

...

*/
</pre></div><p>
A page comment block is declared with the 'page' command. The documentation can be broken into sections and subsections which can be referenced, for example to build a table of contents. 'verbatim/endverbatim' commands can be used to set off code samples. <hr size="1"><address style="align: right;"><small>Generated on Wed Oct 31 11:10:00 2007 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
