<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FCLib: Sequence</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Sequence<br>
<small>
[<a class="el" href="group__DataInterface.html">Data Interface</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for Sequence:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__Sequence.gif" border="0" alt="" usemap="#group____Sequence_map">
<map name="group____Sequence_map">
<area shape="rect" href="group__PrivateSequence.html" title="(Private)" alt="" coords="324,5,404,32"><area shape="rect" href="group__DataInterface.html" title="Primary interface between computational routines and actual data." alt="" coords="5,5,131,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Operations on sequences. 
<p>
<b>Description:</b> <p>
(For an explanation of general data manipulations, see <a class="el" href="group__DataInterface.html">Data Interface</a>.) 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateSequence.html">(Private)</a></td></tr>

<tr><td colspan="2"><br><h2>Create new sequence from scratch.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g52215110a3bf2f4bd1aa74437ce89c54">fc_createSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *seqname, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new sequence.  <a href="#g52215110a3bf2f4bd1aa74437ce89c54"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g6c813882deb504a061aa7d24ad3c8d7a">fc_setSequenceCoords</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int numStep, <a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> dataType, void *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the sequence coordinates by copy.  <a href="#g6c813882deb504a061aa7d24ad3c8d7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g7ef85cd92a594d925914478d8f0b306e">fc_setSequenceCoordsPtr</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int numStep, <a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> dataType, void *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the pointer to the mesh coordinates.  <a href="#g7ef85cd92a594d925914478d8f0b306e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Other ways to get new sequences.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g75c324c79f7f053ef9e7c568dcb7bc5b">fc_copySequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> src_seq, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, char *newName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *new_seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy a sequence.  <a href="#g75c324c79f7f053ef9e7c568dcb7bc5b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g88c2a12de09ec8b828571b1c584629ff">fc_shiftAndScaleSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> src_seq, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, double shift, double scale, char *newName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *new_seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a seq, return a new sequence that is the old one shifted and scaled.  <a href="#g88c2a12de09ec8b828571b1c584629ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gb463ade555195cfd7561d396da5da82d">fc_createRegularSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dset, int numStep, double offset, double stepsize, char *seq_name, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a sequence of specified length, starting at a given val with subsequent vals spaced by given stepsize.  <a href="#gb463ade555195cfd7561d396da5da82d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g29f436cbe3cc4205af9a157bb01d2f3d">fc_createIntersectingRegularSequence</a> (int numseqs, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seqs, int numStep, char *seqName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences.  <a href="#g29f436cbe3cc4205af9a157bb01d2f3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g5d21513b7ef78ac41c5d8482122c9376">fc_createIntersectingRangeRegularSequence</a> (int numseqs, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seqs, double seqmin, double seqmax, char *seqName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range.  <a href="#g5d21513b7ef78ac41c5d8482122c9376"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get existing sequences.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g0ad1217500f245d78aaad5c79f960ba1">fc_getSequences</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numSeq, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> **sequences)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the sequences in a dataset.  <a href="#g0ad1217500f245d78aaad5c79f960ba1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g0a34e117ec28b745d0ed26801edcd36e">fc_getNumSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numSeq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of sequences in a dataset.  <a href="#g0a34e117ec28b745d0ed26801edcd36e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gea35f13c19e88c30cda4e23af42c78f5">fc_getSequenceByName</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *seqName, int *numSequences, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> **sequences)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all sequences with a given name from a dataset.  <a href="#gea35f13c19e88c30cda4e23af42c78f5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Change the name of a sequence.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gd10c253888f406f5e6bcfbb5e41fc26a">fc_changeSequenceName</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *newName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the name of a sequence.  <a href="#gd10c253888f406f5e6bcfbb5e41fc26a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Release/delete sequences.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g9cf943a9d8be39fea7de788bb90e848c">fc_releaseSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to minimize sequence's memory usage.  <a href="#g9cf943a9d8be39fea7de788bb90e848c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#ga14671e26b688c9f1e05fb966169b4d6">fc_deleteSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a sequence.  <a href="#ga14671e26b688c9f1e05fb966169b4d6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get sequence metadata.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9">fc_isSequenceValid</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the handle refers to a valid sequence.  <a href="#g55e1bf7be4e19be93103378503b123b9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g94959dc695412dd18bd1e968b1ce3d59">fc_getSequenceName</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char **seqname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return name of a sequence.  <a href="#g94959dc695412dd18bd1e968b1ce3d59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gb9a183fb6229235d8d40baabe29ceafd">fc_getDatasetFromSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> *dataset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parent dataset of the sequence.  <a href="#gb9a183fb6229235d8d40baabe29ceafd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71">fc_getSequenceInfo</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int *numStep, <a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> *datatype)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about a sequence.  <a href="#g39b5198d7c58288101f909fac5569f71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g194ee559cc88eaefc57a556dbcd6b6cb">fc_getSequenceNumStep</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int *numStep)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of steps in a sequence.  <a href="#g194ee559cc88eaefc57a556dbcd6b6cb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g6d5a8a30edd00c973804c7ce31a3a2e6">fc_getSequenceDataType</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> *datatype)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the data type of a sequence's coordinates.  <a href="#g6d5a8a30edd00c973804c7ce31a3a2e6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get sequence big data.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6">fc_getSequenceCoordsPtr</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, void **coords_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get sequence coordinates.  <a href="#ga88160e25be202c8de18ac89edf876c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gea571d126666a139232f8800e5abac0c">fc_getSequenceCoordsAsDataType</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> dataType, void **coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a copy of the sequence's coords as the requested data type.  <a href="#gea571d126666a139232f8800e5abac0c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print sequence.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g44641d117e4ccb182f2797fa8fa282f9">fc_printSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *label, int print_coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print sequence meta data to stdout, and optionally the coordinates.  <a href="#g44641d117e4ccb182f2797fa8fa282f9"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gd10c253888f406f5e6bcfbb5e41fc26a"></a><!-- doxytag: member="sequence.c::fc_changeSequenceName" ref="gd10c253888f406f5e6bcfbb5e41fc26a" args="(FC_Sequence sequence, char *newName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_changeSequenceName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the name of a sequence. 
<p>
<b>Modifications:</b> <ul>
<li>8/24/2005 WSD. Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - the sequence. </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - new name for the sequence. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01335">1335</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01338"></a>01338   {
<a name="l01339"></a>01339   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01340"></a>01340 
<a name="l01341"></a>01341   <span class="comment">// check input</span>
<a name="l01342"></a>01342   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01343"></a>01343   <span class="keywordflow">if</span> (seqSlot == NULL || newName == NULL) {
<a name="l01344"></a>01344     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01345"></a>01345     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01346"></a>01346   }
<a name="l01347"></a>01347 
<a name="l01348"></a>01348   <span class="comment">// log message</span>
<a name="l01349"></a>01349   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Changing name of sequence from '%s' to '%s'"</span>, 
<a name="l01350"></a>01350                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l01351"></a>01351   
<a name="l01352"></a>01352   <span class="comment">// Do it</span>
<a name="l01353"></a>01353   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>, newName);
<a name="l01354"></a>01354 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g75c324c79f7f053ef9e7c568dcb7bc5b"></a><!-- doxytag: member="sequence.c::fc_copySequence" ref="g75c324c79f7f053ef9e7c568dcb7bc5b" args="(FC_Sequence src_seq, FC_Dataset dest_ds, char *newName, FC_Sequence *new_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_copySequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>src_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>new_seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy a sequence. 
<p>
<b>Description:</b> <p>
Create a copy of a sequence, in the specified dataset, with the given name.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000056">Todo:</a></b></dt><dd>Perhaps somehow flag when the destination dataset is the same as the source dataset. Also do this for other copies. Very useful for fc_copyVariable.</dd></dl>
<b>Modifications:</b> <ul>
<li>2003-NOV-11 WSK Created</li><li>2008-MAR-26 CDU Updated to allow zero-length sequences </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>src_seq</em>&nbsp;</td><td>
Input - the source sequence to be copied </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
Input - the destination dataset to be copied into </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new sequence, a NULL value is a flag to use the name of the source sequence </td></tr>
<tr><td valign="top"><em>new_seq</em>&nbsp;</td><td>
Output - handle to the new sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00310">310</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="sequence_8c-source.html#l00182">fc_setSequenceCoords()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="lib__skeleton_8c-source.html#l00817">fc_convertTreeToMesh()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="lib__skeleton_8c-source.html#l00651">fc_saveSkeleton()</a>, and <a class="el" href="subsetter_8c-source.html#l00129">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00316"></a>00316   { 
<a name="l00317"></a>00317   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00318"></a>00318   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00319"></a>00319   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* src_seqSlot;
<a name="l00320"></a>00320   <span class="keywordtype">int</span> numStep;
<a name="l00321"></a>00321   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> dataType;
<a name="l00322"></a>00322   <span class="keywordtype">void</span>* coords;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="comment">// default return</span>
<a name="l00325"></a>00325   <span class="keywordflow">if</span> (new_seq)
<a name="l00326"></a>00326     *new_seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00327"></a>00327 
<a name="l00328"></a>00328   <span class="comment">// check input</span>
<a name="l00329"></a>00329   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dest_ds);
<a name="l00330"></a>00330   src_seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(src_seq);
<a name="l00331"></a>00331   <span class="keywordflow">if</span> (dest_dsSlot == NULL || src_seqSlot == NULL || new_seq == NULL) {
<a name="l00332"></a>00332     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00333"></a>00333     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00334"></a>00334   }
<a name="l00335"></a>00335 
<a name="l00336"></a>00336   <span class="comment">// test for NULL name</span>
<a name="l00337"></a>00337   <span class="keywordflow">if</span> (newName == NULL)
<a name="l00338"></a>00338     newName = src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l00339"></a>00339 
<a name="l00340"></a>00340   <span class="comment">// log message</span>
<a name="l00341"></a>00341   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Copying sequence '%s' to '%s'"</span>, 
<a name="l00342"></a>00342                       src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   <span class="comment">// get src data</span>
<a name="l00345"></a>00345   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(src_seq, &amp;numStep, &amp;dataType);
<a name="l00346"></a>00346   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00347"></a>00347     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for sequence '%s'"</span>,
<a name="l00348"></a>00348                           src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00349"></a>00349     <span class="keywordflow">return</span> rc;
<a name="l00350"></a>00350   }
<a name="l00351"></a>00351   rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(src_seq, &amp;coords);
<a name="l00352"></a>00352   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00353"></a>00353     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for sequence '%s'"</span>,
<a name="l00354"></a>00354                           src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00355"></a>00355     <span class="keywordflow">return</span> rc;
<a name="l00356"></a>00356   }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358   <span class="comment">// create new sequence </span>
<a name="l00359"></a>00359   rc = <a class="code" href="group__Sequence.html#g52215110a3bf2f4bd1aa74437ce89c54" title="Create a new sequence.">fc_createSequence</a>(dest_ds, newName, new_seq);
<a name="l00360"></a>00360   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00361"></a>00361     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create sequence '%s'"</span>, newName);
<a name="l00362"></a>00362     <span class="keywordflow">return</span> rc;
<a name="l00363"></a>00363   }
<a name="l00364"></a>00364 
<a name="l00365"></a>00365   <span class="comment">// Copy the coordinates</span>
<a name="l00366"></a>00366   <span class="keywordflow">if</span>(numStep==0){
<a name="l00367"></a>00367     <span class="comment">//Some datasets have sequences that have 0 steps (eg, Cubit</span>
<a name="l00368"></a>00368     <span class="comment">//will add a sequence named "time" that has 0 steps). Thus, we</span>
<a name="l00369"></a>00369     <span class="comment">//allow users to copy the empty subset from one dataset to another.</span>
<a name="l00370"></a>00370     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Copying an empty sequence named '%s'"</span>,
<a name="l00371"></a>00371                    src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a> );
<a name="l00372"></a>00372 
<a name="l00373"></a>00373   } <span class="keywordflow">else</span> {
<a name="l00374"></a>00374     rc = <a class="code" href="group__Sequence.html#g6c813882deb504a061aa7d24ad3c8d7a" title="Set the sequence coordinates by copy.">fc_setSequenceCoords</a>(*new_seq, numStep, dataType, coords);
<a name="l00375"></a>00375     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00376"></a>00376       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to set coords for sequence '%s'"</span>, newName);
<a name="l00377"></a>00377       <span class="keywordflow">return</span> rc;
<a name="l00378"></a>00378     }
<a name="l00379"></a>00379   }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381   <span class="keywordflow">return</span> rc;
<a name="l00382"></a>00382 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g5d21513b7ef78ac41c5d8482122c9376"></a><!-- doxytag: member="sequence.c::fc_createIntersectingRangeRegularSequence" ref="g5d21513b7ef78ac41c5d8482122c9376" args="(int numseqs, FC_Sequence *seqs, double seqmin, double seqmax, char *seqName, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createIntersectingRangeRegularSequence           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numseqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>seqmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>seqmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range. 
<p>
<b>Description:</b> <p>
Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range. This is similar to fc_getIntersectingReqularSequence with input parameter numStep = 0, but where the range is specified, rather than the entire overlapping range.<p>
Input sequences must be numerical, but dont have to be same datatype. Input sequences must be monotonically increasing. New seq data type is FC_DT_DOUBLE. The bounds must be included within every input sequence.<p>
This routine is often used as a companion function to functions in the timeseries module. This function creates a common sequence for two or more sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000060">Todo:</a></b></dt><dd>see if can combine this with rc_getIntersectingRegularSequence</dd></dl>
<b>Modifications:</b> <ul>
<li>6/27/05 ACG created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numseqs</em>&nbsp;</td><td>
input - num of seqs in orig sequence array </td></tr>
<tr><td valign="top"><em>seqs</em>&nbsp;</td><td>
input - orig sequence array </td></tr>
<tr><td valign="top"><em>seqmin</em>&nbsp;</td><td>
input - min val for new sequence </td></tr>
<tr><td valign="top"><em>seqmax</em>&nbsp;</td><td>
input - max val for new sequence </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of created sequence </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00934">934</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00572">fc_createRegularSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01570">fc_getDatasetFromSequence()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01505">fc_isSequenceValid()</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00941"></a>00941    {
<a name="l00942"></a>00942 
<a name="l00943"></a>00943   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00944"></a>00944   <a class="code" href="structFC__Dataset.html" title="Dataset Handle.">FC_Dataset</a> dset, dsetcomp;
<a name="l00945"></a>00945   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l00946"></a>00946   <span class="keywordtype">double</span> closemintime, closemaxtime, timespacing;
<a name="l00947"></a>00947   <span class="keywordtype">int</span> closeminindex, closemaxindex;
<a name="l00948"></a>00948   <span class="keywordtype">void</span> *data;
<a name="l00949"></a>00949   <span class="keywordtype">int</span> numStep, holdnpts;
<a name="l00950"></a>00950   <span class="keywordtype">int</span> mono;
<a name="l00951"></a>00951   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> datatype;
<a name="l00952"></a>00952   <span class="keywordtype">int</span> i;
<a name="l00953"></a>00953 
<a name="l00954"></a>00954   <span class="keywordflow">if</span> (seq)
<a name="l00955"></a>00955     *seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00956"></a>00956 
<a name="l00957"></a>00957   <span class="keywordflow">if</span> (!seqName || !seq || seqmin &gt; seqmax || numseqs &lt; 1 || !seqs){
<a name="l00958"></a>00958     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00959"></a>00959     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00960"></a>00960   }
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 
<a name="l00963"></a>00963   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating Intersecting Range regular sequence"</span>);
<a name="l00964"></a>00964 
<a name="l00965"></a>00965   <span class="comment">//checks</span>
<a name="l00966"></a>00966 
<a name="l00967"></a>00967   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(seqs[0])){
<a name="l00968"></a>00968     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00969"></a>00969     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00970"></a>00970   };
<a name="l00971"></a>00971 
<a name="l00972"></a>00972   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(seqs[0], &amp;numStep,&amp;datatype);
<a name="l00973"></a>00973   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00974"></a>00974     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00975"></a>00975     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00976"></a>00976   }
<a name="l00977"></a>00977 
<a name="l00978"></a>00978   <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00979"></a>00979       datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>){
<a name="l00980"></a>00980     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00981"></a>00981     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00982"></a>00982   }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984   rc = <a class="code" href="group__Sequence.html#gb9a183fb6229235d8d40baabe29ceafd" title="Get the parent dataset of the sequence.">fc_getDatasetFromSequence</a> (seqs[0], &amp;dset);
<a name="l00985"></a>00985   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00986"></a>00986     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00987"></a>00987     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00988"></a>00988   }
<a name="l00989"></a>00989 
<a name="l00990"></a>00990   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dset);
<a name="l00991"></a>00991   <span class="keywordflow">if</span> (dsSlot == NULL){
<a name="l00992"></a>00992     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00993"></a>00993     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00994"></a>00994   }
<a name="l00995"></a>00995 
<a name="l00996"></a>00996 
<a name="l00997"></a>00997   rc = <a class="code" href="group__Statistics.html#g31eedcdb364aa8ab2bdf2dde14c8bfbe" title="Returns min and max of a sequence and the indicies where they occur and returns monotonicity...">fc_getSequenceMinMaxMono</a>(seqs[0],NULL,NULL,
<a name="l00998"></a>00998                                 NULL,NULL,&amp;mono);
<a name="l00999"></a>00999   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01000"></a>01000     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l01001"></a>01001     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01002"></a>01002   }
<a name="l01003"></a>01003 
<a name="l01004"></a>01004   <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l01005"></a>01005     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l01006"></a>01006     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01007"></a>01007   }
<a name="l01008"></a>01008 
<a name="l01009"></a>01009   <span class="keywordflow">for</span> (i= 1; i &lt; numseqs; i++){
<a name="l01010"></a>01010     <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(seqs[i])){
<a name="l01011"></a>01011       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01012"></a>01012       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01013"></a>01013     }
<a name="l01014"></a>01014     rc = <a class="code" href="group__Sequence.html#gb9a183fb6229235d8d40baabe29ceafd" title="Get the parent dataset of the sequence.">fc_getDatasetFromSequence</a> (seqs[i], &amp;dsetcomp);
<a name="l01015"></a>01015     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01016"></a>01016       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l01017"></a>01017       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01018"></a>01018     }
<a name="l01019"></a>01019     
<a name="l01020"></a>01020     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(dset,dsetcomp)){
<a name="l01021"></a>01021       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Input sequences not on same dataset"</span>);
<a name="l01022"></a>01022       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01023"></a>01023     } 
<a name="l01024"></a>01024 
<a name="l01025"></a>01025     rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(seqs[i], &amp;numStep,&amp;datatype);
<a name="l01026"></a>01026     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01027"></a>01027       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l01028"></a>01028       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031     <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> &amp;&amp;
<a name="l01032"></a>01032         datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>){
<a name="l01033"></a>01033       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l01034"></a>01034       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01035"></a>01035     }
<a name="l01036"></a>01036 
<a name="l01037"></a>01037     rc = <a class="code" href="group__Statistics.html#g31eedcdb364aa8ab2bdf2dde14c8bfbe" title="Returns min and max of a sequence and the indicies where they occur and returns monotonicity...">fc_getSequenceMinMaxMono</a>(seqs[i],NULL,NULL,
<a name="l01038"></a>01038                                   NULL,NULL,&amp;mono);
<a name="l01039"></a>01039     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01040"></a>01040       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l01041"></a>01041       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01042"></a>01042     }
<a name="l01043"></a>01043 
<a name="l01044"></a>01044     <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l01045"></a>01045       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l01046"></a>01046       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01047"></a>01047     }
<a name="l01048"></a>01048   }
<a name="l01049"></a>01049 
<a name="l01050"></a>01050   <span class="comment">//finally ok </span>
<a name="l01051"></a>01051 
<a name="l01052"></a>01052   <span class="comment">// now get npts and make sure bounds are valid for all exisitng seqs</span>
<a name="l01053"></a>01053   <span class="comment">// know all are monotonically increasing</span>
<a name="l01054"></a>01054   holdnpts = -1;
<a name="l01055"></a>01055   <span class="keywordflow">for</span> (i= 0 ; i &lt; numseqs; i++){
<a name="l01056"></a>01056     <span class="keywordtype">int</span> npts;
<a name="l01057"></a>01057     rc = <a class="code" href="group__Statistics.html#g81bf9960f929feabd7aed96c1730f3cb" title="Given a value and a criteria for comparison (&amp;lt;, &amp;lt;=, =, !=, &amp;gt;=, &amp;gt;) returns...">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&lt;="</span>,seqmin,&amp;closemintime,
<a name="l01058"></a>01058                                     &amp;closeminindex);
<a name="l01059"></a>01059     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01060"></a>01060       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l01061"></a>01061       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01062"></a>01062     }
<a name="l01063"></a>01063 
<a name="l01064"></a>01064     <span class="keywordflow">if</span> (closeminindex == -1){
<a name="l01065"></a>01065       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"seqmin is out of bounds for input sequence"</span>);
<a name="l01066"></a>01066       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01067"></a>01067     }
<a name="l01068"></a>01068 
<a name="l01069"></a>01069     rc = <a class="code" href="group__Statistics.html#g81bf9960f929feabd7aed96c1730f3cb" title="Given a value and a criteria for comparison (&amp;lt;, &amp;lt;=, =, !=, &amp;gt;=, &amp;gt;) returns...">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&gt;="</span>,seqmax,&amp;closemaxtime,
<a name="l01070"></a>01070                                     &amp;closemaxindex);
<a name="l01071"></a>01071     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01072"></a>01072       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l01073"></a>01073       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01074"></a>01074     }
<a name="l01075"></a>01075 
<a name="l01076"></a>01076     <span class="keywordflow">if</span> (closemaxindex == -1){
<a name="l01077"></a>01077       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"seqmax is out of bounds for input sequence"</span>);
<a name="l01078"></a>01078       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01079"></a>01079     }
<a name="l01080"></a>01080         
<a name="l01081"></a>01081     npts = closemaxindex-closeminindex+1;
<a name="l01082"></a>01082     <span class="keywordflow">if</span> (holdnpts == -1 || npts &gt; holdnpts){
<a name="l01083"></a>01083       holdnpts = npts;
<a name="l01084"></a>01084     }
<a name="l01085"></a>01085   }
<a name="l01086"></a>01086   numStep = holdnpts;
<a name="l01087"></a>01087   <span class="comment">//now have valid range and numpts</span>
<a name="l01088"></a>01088 
<a name="l01089"></a>01089   <span class="comment">/*</span>
<a name="l01090"></a>01090 <span class="comment">  if (numStep == 1 &amp;&amp; !FC_DBL_EQUIV(seqmax,seqmin)){</span>
<a name="l01091"></a>01091 <span class="comment">    //got a problem</span>
<a name="l01092"></a>01092 <span class="comment">    fc_printfErrorMessage("DEVELOEPR ERROR _ HOW CAN THIS BE ?");</span>
<a name="l01093"></a>01093 <span class="comment">    printf("DEVELOEPR ERROR _ HOW CAN THIS BE ?");</span>
<a name="l01094"></a>01094 <span class="comment">    return FC_ERROR;</span>
<a name="l01095"></a>01095 <span class="comment">  }</span>
<a name="l01096"></a>01096 <span class="comment">  */</span>
<a name="l01097"></a>01097 
<a name="l01098"></a>01098   <span class="comment">//check for zero range sequences</span>
<a name="l01099"></a>01099   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(seqmax,seqmin)){
<a name="l01100"></a>01100     <span class="comment">//its realy a single pt sequence</span>
<a name="l01101"></a>01101     numStep = 1;
<a name="l01102"></a>01102     timespacing = 0.0; <span class="comment">//actually this value doesnt matter</span>
<a name="l01103"></a>01103   } <span class="keywordflow">else</span> {
<a name="l01104"></a>01104     timespacing= (seqmax-seqmin)/((<span class="keywordtype">double</span>)numStep-1);
<a name="l01105"></a>01105   }
<a name="l01106"></a>01106 
<a name="l01107"></a>01107   rc = <a class="code" href="group__Sequence.html#gb463ade555195cfd7561d396da5da82d" title="Creates a sequence of specified length, starting at a given val with subsequent vals...">fc_createRegularSequence</a>(dset,numStep,seqmin, timespacing,
<a name="l01108"></a>01108                                   seqName, seq);
<a name="l01109"></a>01109   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01110"></a>01110     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to create reg sequence"</span>);
<a name="l01111"></a>01111     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01112"></a>01112   }
<a name="l01113"></a>01113   
<a name="l01114"></a>01114   <span class="comment">//just in case there are some roundoff issues, lets explicitly set that</span>
<a name="l01115"></a>01115   <span class="comment">//last point to the seqmax. (this wont be thread safe since playing </span>
<a name="l01116"></a>01116   <span class="comment">//with the value thats the return val, but i dont think thats a big issue</span>
<a name="l01117"></a>01117   <span class="comment">//right now</span>
<a name="l01118"></a>01118   rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(*seq, &amp;data);
<a name="l01119"></a>01119   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l01120"></a>01120     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq data"</span>);
<a name="l01121"></a>01121   }<span class="keywordflow">else</span> {
<a name="l01122"></a>01122     ((<span class="keywordtype">double</span>*)data)[numStep-1] = seqmax;
<a name="l01123"></a>01123   }
<a name="l01124"></a>01124 
<a name="l01125"></a>01125   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01126"></a>01126 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g29f436cbe3cc4205af9a157bb01d2f3d"></a><!-- doxytag: member="sequence.c::fc_createIntersectingRegularSequence" ref="g29f436cbe3cc4205af9a157bb01d2f3d" args="(int numseqs, FC_Sequence *seqs, int numStep, char *seqName, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createIntersectingRegularSequence           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numseqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences. 
<p>
<b>Description:</b> <p>
Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences. Input sequences must be numerical, but dont have to be same datatype. Input sequences must be monotonically increasing. New seq data type is FC_DT_DOUBLE. Seq is null if no valid range. If numStep == 0, then it returns a sequence with the greatest number of steps that an input sequence has on that range.<p>
This routine is often used as a companion function to functions in the timeseries module. This function creates a common sequence for two or more sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000059">Todo:</a></b></dt><dd>see if can combine this with rc_getIntersectingRangeRegularSequence</dd></dl>
<b>Modifications:</b> <ul>
<li>4/25/05 ACG created.</li><li>4/27/05 ACG better handling of single data point sequences</li><li>4/28/05 ACG explicitly set last point of seq to timemax to avoid roundoff issues as a result of createRegularSequence being based on stepsize rather than range. if we make a another version of createRegularSequence that is based on ranage, then use that version here.</li><li>5/13/05 ACG works for non-monotonic sequences so that can use this to check for any overlap to begin with. of course if you are going to map a seq var onto a new seq that was calculated by this method, then the seqvar will have to be made into a monotonic seq to before the interpolation. This change utilizes the new stats function fc_getSequenceMinMaxMonotonicity.</li><li>5/16/05 ACG making this so has to be monotonically increasing. this makes things easier for doing the automatic numsteps option.</li><li>5/17/05 ACG added default case of numStep == 0 returns max number of steps that the input sequences have on that range. in this way you dont lose any resolution that an input sequence has (well, you kind of do if it wasnt regularly spaced to begin with) and you wont gain any when you do a linear interpolation over the new sequence becuase its just more points over what was a linear segment in the original resolution anyway.</li><li>6/27/05 ACG updated to use new getClosestSequenceValue </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numseqs</em>&nbsp;</td><td>
input - num of seqs in orig sequence array </td></tr>
<tr><td valign="top"><em>seqs</em>&nbsp;</td><td>
input - orig sequence array </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numstep in created seq </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of created sequence </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00687">687</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00572">fc_createRegularSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01570">fc_getDatasetFromSequence()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01505">fc_isSequenceValid()</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00693"></a>00693    {
<a name="l00694"></a>00694 
<a name="l00695"></a>00695   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00696"></a>00696   <a class="code" href="structFC__Dataset.html" title="Dataset Handle.">FC_Dataset</a> dset, dsetcomp;
<a name="l00697"></a>00697   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l00698"></a>00698   <span class="keywordtype">double</span> timemin, timemincomp, timemax, timemaxcomp, timespacing;
<a name="l00699"></a>00699   <span class="keywordtype">void</span> *data;
<a name="l00700"></a>00700   <span class="keywordtype">int</span> nstep;
<a name="l00701"></a>00701   <span class="keywordtype">int</span> mono,monocomp;
<a name="l00702"></a>00702   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> datatype;
<a name="l00703"></a>00703   <span class="keywordtype">int</span> i;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 
<a name="l00706"></a>00706   <span class="keywordflow">if</span> (seq)
<a name="l00707"></a>00707     *seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00708"></a>00708 
<a name="l00709"></a>00709   <span class="keywordflow">if</span> (!seqName || !seq || numStep &lt; 0 || numseqs &lt; 1 || !seqs){
<a name="l00710"></a>00710     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00711"></a>00711     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00712"></a>00712   }
<a name="l00713"></a>00713 
<a name="l00714"></a>00714   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating Intersecting regular sequence"</span>);
<a name="l00715"></a>00715 
<a name="l00716"></a>00716   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(seqs[0])){
<a name="l00717"></a>00717     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00718"></a>00718     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720 
<a name="l00721"></a>00721   rc = <a class="code" href="group__Sequence.html#gb9a183fb6229235d8d40baabe29ceafd" title="Get the parent dataset of the sequence.">fc_getDatasetFromSequence</a> (seqs[0], &amp;dset);
<a name="l00722"></a>00722   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00723"></a>00723     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00724"></a>00724     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00725"></a>00725   }
<a name="l00726"></a>00726 
<a name="l00727"></a>00727   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dset);
<a name="l00728"></a>00728   <span class="keywordflow">if</span> (dsSlot == NULL){
<a name="l00729"></a>00729     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00730"></a>00730     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00731"></a>00731   }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(seqs[0], &amp;nstep,&amp;datatype);
<a name="l00734"></a>00734   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00735"></a>00735     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00736"></a>00736     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00737"></a>00737   }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739   <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00740"></a>00740       datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>){
<a name="l00741"></a>00741     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00742"></a>00742     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00743"></a>00743   }
<a name="l00744"></a>00744 
<a name="l00745"></a>00745   <span class="keywordflow">for</span> (i= 1; i &lt; numseqs; i++){
<a name="l00746"></a>00746     <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(seqs[i])){
<a name="l00747"></a>00747       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00748"></a>00748       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750     rc = <a class="code" href="group__Sequence.html#gb9a183fb6229235d8d40baabe29ceafd" title="Get the parent dataset of the sequence.">fc_getDatasetFromSequence</a> (seqs[i], &amp;dsetcomp);
<a name="l00751"></a>00751     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00752"></a>00752       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00753"></a>00753       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00754"></a>00754     }
<a name="l00755"></a>00755     
<a name="l00756"></a>00756     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(dset,dsetcomp)){
<a name="l00757"></a>00757       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Input sequences not on same dataset"</span>);
<a name="l00758"></a>00758       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00759"></a>00759     } 
<a name="l00760"></a>00760 
<a name="l00761"></a>00761     rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(seqs[i], &amp;nstep,&amp;datatype);
<a name="l00762"></a>00762     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00763"></a>00763       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00764"></a>00764       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00765"></a>00765     }
<a name="l00766"></a>00766 
<a name="l00767"></a>00767     <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00768"></a>00768         datatype != <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>){
<a name="l00769"></a>00769       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00770"></a>00770       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00771"></a>00771     }
<a name="l00772"></a>00772   }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774 
<a name="l00775"></a>00775   rc = <a class="code" href="group__Statistics.html#g31eedcdb364aa8ab2bdf2dde14c8bfbe" title="Returns min and max of a sequence and the indicies where they occur and returns monotonicity...">fc_getSequenceMinMaxMono</a>(seqs[0],&amp;timemin,NULL,
<a name="l00776"></a>00776                                 &amp;timemax,NULL,&amp;mono);
<a name="l00777"></a>00777   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00778"></a>00778     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l00779"></a>00779     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00780"></a>00780   }
<a name="l00781"></a>00781 
<a name="l00782"></a>00782   <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l00783"></a>00783     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l00784"></a>00784     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00785"></a>00785   }
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 
<a name="l00788"></a>00788   <span class="keywordflow">for</span> (i = 1; i &lt; numseqs; i++){
<a name="l00789"></a>00789     rc = <a class="code" href="group__Statistics.html#g31eedcdb364aa8ab2bdf2dde14c8bfbe" title="Returns min and max of a sequence and the indicies where they occur and returns monotonicity...">fc_getSequenceMinMaxMono</a>(seqs[i],&amp;timemincomp,NULL,
<a name="l00790"></a>00790                                   &amp;timemaxcomp,NULL,&amp;monocomp);
<a name="l00791"></a>00791     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00792"></a>00792       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l00793"></a>00793       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796 
<a name="l00797"></a>00797     <span class="comment">//leaving this construction in case switch to allowing decreasing later</span>
<a name="l00798"></a>00798     <span class="keywordflow">if</span> (!(monocomp == 1 || monocomp ==2)){ <span class="comment">//increasing or single point</span>
<a name="l00799"></a>00799       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this call"</span>);
<a name="l00800"></a>00800       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00801"></a>00801     } <span class="keywordflow">else</span> {
<a name="l00802"></a>00802       <span class="keywordflow">if</span> (mono == 2){
<a name="l00803"></a>00803         <span class="comment">//its gotta be single point sequence</span>
<a name="l00804"></a>00804         mono = monocomp;
<a name="l00805"></a>00805       }
<a name="l00806"></a>00806     }
<a name="l00807"></a>00807 
<a name="l00808"></a>00808     <span class="comment">//want narrowest bounds</span>
<a name="l00809"></a>00809     <span class="keywordflow">if</span> (timemincomp &gt; timemin) timemin= timemincomp;
<a name="l00810"></a>00810     <span class="keywordflow">if</span> (timemaxcomp &lt; timemax) timemax= timemaxcomp;
<a name="l00811"></a>00811 
<a name="l00812"></a>00812     <span class="keywordflow">if</span> (timemin &gt; timemax){
<a name="l00813"></a>00813       <span class="comment">//no interesecting bounds - bad input set, but dont want to error</span>
<a name="l00814"></a>00814       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"no intersecting range"</span>);
<a name="l00815"></a>00815       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00816"></a>00816     }
<a name="l00817"></a>00817   }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819   <span class="comment">//now have valid range</span>
<a name="l00820"></a>00820   
<a name="l00821"></a>00821   <span class="comment">//if numStep == 0 need to calc numStep</span>
<a name="l00822"></a>00822   <span class="keywordflow">if</span> (numStep == 0){
<a name="l00823"></a>00823     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(timemax,timemin)){
<a name="l00824"></a>00824       numStep = 1; <span class="comment">//just make single point sequence</span>
<a name="l00825"></a>00825     } <span class="keywordflow">else</span> {
<a name="l00826"></a>00826       <span class="keywordtype">double</span> closemintime, closemaxtime;
<a name="l00827"></a>00827       <span class="keywordtype">int</span> closeminindex, closemaxindex;
<a name="l00828"></a>00828       <span class="keywordtype">int</span> npts;
<a name="l00829"></a>00829       <span class="keywordtype">int</span> holdnpts = -1;
<a name="l00830"></a>00830 
<a name="l00831"></a>00831       <span class="keywordflow">for</span> (i = 0; i &lt; numseqs; i++){
<a name="l00832"></a>00832         rc = <a class="code" href="group__Statistics.html#g81bf9960f929feabd7aed96c1730f3cb" title="Given a value and a criteria for comparison (&amp;lt;, &amp;lt;=, =, !=, &amp;gt;=, &amp;gt;) returns...">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&lt;="</span>,timemin,&amp;closemintime,
<a name="l00833"></a>00833                                         &amp;closeminindex);
<a name="l00834"></a>00834         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00835"></a>00835           <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l00836"></a>00836           <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00837"></a>00837         }
<a name="l00838"></a>00838         rc = <a class="code" href="group__Statistics.html#g81bf9960f929feabd7aed96c1730f3cb" title="Given a value and a criteria for comparison (&amp;lt;, &amp;lt;=, =, !=, &amp;gt;=, &amp;gt;) returns...">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&gt;="</span>,timemax,&amp;closemaxtime,
<a name="l00839"></a>00839                                         &amp;closemaxindex);
<a name="l00840"></a>00840         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00841"></a>00841           <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l00842"></a>00842           <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00843"></a>00843         }
<a name="l00844"></a>00844         
<a name="l00845"></a>00845         <span class="comment">//know its monotonically increasing</span>
<a name="l00846"></a>00846         npts = closemaxindex-closeminindex+1;
<a name="l00847"></a>00847         <span class="keywordflow">if</span> (holdnpts == -1 || npts &gt; holdnpts){
<a name="l00848"></a>00848           holdnpts = npts;
<a name="l00849"></a>00849         }
<a name="l00850"></a>00850       }
<a name="l00851"></a>00851       numStep = holdnpts;
<a name="l00852"></a>00852     }
<a name="l00853"></a>00853   }
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 
<a name="l00856"></a>00856   <span class="comment">//check for zero range sequences</span>
<a name="l00857"></a>00857   <span class="keywordflow">if</span> (numStep == 1){
<a name="l00858"></a>00858     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(timemax,timemin)){
<a name="l00859"></a>00859       <span class="comment">//good - createRegularsequence should just return the single</span>
<a name="l00860"></a>00860       <span class="comment">//data point</span>
<a name="l00861"></a>00861       timespacing = 0.0; <span class="comment">//actually this value doesnt matter</span>
<a name="l00862"></a>00862     } <span class="keywordflow">else</span> {
<a name="l00863"></a>00863       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"cant have nonzero range with only one data point"</span>);
<a name="l00864"></a>00864       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866   } <span class="keywordflow">else</span> {
<a name="l00867"></a>00867     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(timemin,timemax)){
<a name="l00868"></a>00868       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"cant have zero range with more than one data point"</span>);
<a name="l00869"></a>00869       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00870"></a>00870     } <span class="keywordflow">else</span> {
<a name="l00871"></a>00871       <span class="comment">//good</span>
<a name="l00872"></a>00872       timespacing= (timemax-timemin)/((<span class="keywordtype">double</span>)numStep-1);
<a name="l00873"></a>00873     }
<a name="l00874"></a>00874   }
<a name="l00875"></a>00875   <span class="comment">//printf("new seq: tmin %10g tmax %10g spacing %10g\n",timemin, timemax,</span>
<a name="l00876"></a>00876   <span class="comment">//timespacing);</span>
<a name="l00877"></a>00877   rc = <a class="code" href="group__Sequence.html#gb463ade555195cfd7561d396da5da82d" title="Creates a sequence of specified length, starting at a given val with subsequent vals...">fc_createRegularSequence</a>(dset,numStep,timemin, timespacing,
<a name="l00878"></a>00878                                   seqName, seq);
<a name="l00879"></a>00879   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00880"></a>00880     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to create reg sequence"</span>);
<a name="l00881"></a>00881     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00882"></a>00882   }
<a name="l00883"></a>00883   
<a name="l00884"></a>00884   <span class="comment">//just in case there are some roundoff issues, lets explicitly set that</span>
<a name="l00885"></a>00885   <span class="comment">//last point to the timemax. (this wont be thread safe since playing </span>
<a name="l00886"></a>00886   <span class="comment">//with the value thats the return val, but i dont think thats a big issue</span>
<a name="l00887"></a>00887   <span class="comment">//right now</span>
<a name="l00888"></a>00888   rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(*seq, &amp;data);
<a name="l00889"></a>00889   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00890"></a>00890     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq data"</span>);
<a name="l00891"></a>00891   }<span class="keywordflow">else</span> {
<a name="l00892"></a>00892     ((<span class="keywordtype">double</span>*)data)[numStep-1] = timemax;
<a name="l00893"></a>00893   }
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00896"></a>00896 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb463ade555195cfd7561d396da5da82d"></a><!-- doxytag: member="sequence.c::fc_createRegularSequence" ref="gb463ade555195cfd7561d396da5da82d" args="(FC_Dataset dset, int numStep, double offset, double stepsize, char *seq_name, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createRegularSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>stepsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seq_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a sequence of specified length, starting at a given val with subsequent vals spaced by given stepsize. 
<p>
<b>Description:</b> <p>
Creates a sequence of specified with starting at a given val with subsequent vals spaced by given stepsize. Stepsize cannot = 0 unless it requesting a single stepsize sequence. If want a single stepsize sequence the spacing requested doesnt matter.<p>
Return seq data type is FC_DT_DOUBLE.<p>
This routine is often used as a companion function to functions in the timeseries module. This function can be used to create a common sequence for two sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
This is also is a companion function to the private function _fc_createSeqVariableFromRegularVariable in the timeseries module used in some test modules.In this way 2 sequence variables can be created from 2 different multi-datapoint variables and used in the comparison routines in the timeseries module, since they will be on the same sequence.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000058">Todo:</a></b></dt><dd>should there be another version where you set the bounds rather than the stepsize to avoid roundoff issues ?</dd></dl>
<b>Modifications:</b> <ul>
<li>2/2/05 ACG, created from being split out from fc_createSeqvariableFromVariable</li><li>2/10/05 ACG changed so takes an offset and a step size.</li><li>2/10/05 ACG moved to private becuase thats where the companion functions _fc_createSeqVariableFromRegularVariable is. This may be useful and perhaps put in Sequence module, on the other hand its sufficiently short that maybe it cannot justify its existence.</li><li>4/12/05 ACG and now we need it for comparing variables on different sequences.</li><li>4/21/05 ACG moved it here from its previous home in timeseries.</li><li>4/27/05 ACG better handling of single data point sequences </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dset</em>&nbsp;</td><td>
input - dataset for the sequence </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numstep in created seq </td></tr>
<tr><td valign="top"><em>offset</em>&nbsp;</td><td>
initial val in the sequence </td></tr>
<tr><td valign="top"><em>stepsize</em>&nbsp;</td><td>
spacing of the sequence </td></tr>
<tr><td valign="top"><em>seq_name</em>&nbsp;</td><td>
input - name of the new sequence that will be created </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00572">572</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="sequence_8c-source.html#l01427">fc_deleteSequence()</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="sequence_8c-source.html#l00182">fc_setSequenceCoords()</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="sequence_8c-source.html#l00934">fc_createIntersectingRangeRegularSequence()</a>, and <a class="el" href="sequence_8c-source.html#l00687">fc_createIntersectingRegularSequence()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00579"></a>00579  {
<a name="l00580"></a>00580 
<a name="l00581"></a>00581   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00582"></a>00582   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l00583"></a>00583   <span class="keywordtype">double</span> *times;
<a name="l00584"></a>00584   <span class="keywordtype">int</span> k;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 
<a name="l00587"></a>00587   <span class="comment">// default return</span>
<a name="l00588"></a>00588   <span class="keywordflow">if</span> (seq)
<a name="l00589"></a>00589     *seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dset);
<a name="l00592"></a>00592   <span class="keywordflow">if</span> (dsSlot == NULL || !seq_name || !seq || numStep &lt; 1){
<a name="l00593"></a>00593     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00594"></a>00594     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00595"></a>00595   }
<a name="l00596"></a>00596 
<a name="l00597"></a>00597   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(stepsize,0.0) &amp;&amp; numStep != 1){
<a name="l00598"></a>00598     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"cant ask for more than 1 step but zero step size"</span>);
<a name="l00599"></a>00599     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00600"></a>00600   }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating regular sequence"</span>);
<a name="l00603"></a>00603 
<a name="l00604"></a>00604   rc = <a class="code" href="group__Sequence.html#g52215110a3bf2f4bd1aa74437ce89c54" title="Create a new sequence.">fc_createSequence</a>(dset,seq_name,seq);
<a name="l00605"></a>00605   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00606"></a>00606     <a class="code" href="group__Sequence.html#ga14671e26b688c9f1e05fb966169b4d6" title="Delete a sequence.">fc_deleteSequence</a>(*seq);
<a name="l00607"></a>00607     *seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00608"></a>00608     <span class="keywordflow">return</span> rc;
<a name="l00609"></a>00609   }
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 
<a name="l00612"></a>00612   times = (<span class="keywordtype">double</span>*)malloc(numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00613"></a>00613   times[0] = offset;
<a name="l00614"></a>00614   <span class="keywordflow">for</span> (k = 1; k &lt; numStep; k++){
<a name="l00615"></a>00615     times[k] = times[k-1]+stepsize;
<a name="l00616"></a>00616   }
<a name="l00617"></a>00617       
<a name="l00618"></a>00618   rc = <a class="code" href="group__Sequence.html#g6c813882deb504a061aa7d24ad3c8d7a" title="Set the sequence coordinates by copy.">fc_setSequenceCoords</a>(*seq,numStep,<a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>,times);
<a name="l00619"></a>00619   free(times);
<a name="l00620"></a>00620   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00621"></a>00621     <a class="code" href="group__Sequence.html#ga14671e26b688c9f1e05fb966169b4d6" title="Delete a sequence.">fc_deleteSequence</a>(*seq);
<a name="l00622"></a>00622     *seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00623"></a>00623     <span class="keywordflow">return</span> rc;
<a name="l00624"></a>00624   }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00627"></a>00627 
<a name="l00628"></a>00628 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g52215110a3bf2f4bd1aa74437ce89c54"></a><!-- doxytag: member="sequence.c::fc_createSequence" ref="g52215110a3bf2f4bd1aa74437ce89c54" args="(FC_Dataset dataset, char *seqname, FC_Sequence *sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>sequence</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new sequence. 
<p>
<b>Description:</b> <p>
Create a new, in-memory, sequence.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset to create sequence in </td></tr>
<tr><td valign="top"><em>seqname</em>&nbsp;</td><td>
input - name of sequence </td></tr>
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
output - new sequence handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00113">113</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02113">_fc_getNewSeqSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l00472">_fc_loadExodusDataset()</a>, <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="sequence_8c-source.html#l00310">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00572">fc_createRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00414">fc_shiftAndScaleSequence()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00226">readOneData()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00117"></a>00117   {
<a name="l00118"></a>00118   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l00119"></a>00119   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l00120"></a>00120   <span class="keywordtype">int</span> *temp_slotIDs;
<a name="l00121"></a>00121   
<a name="l00122"></a>00122   <span class="comment">// default return value</span>
<a name="l00123"></a>00123   <span class="keywordflow">if</span> (sequence)
<a name="l00124"></a>00124     *sequence = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00125"></a>00125   
<a name="l00126"></a>00126   <span class="comment">// check input</span>
<a name="l00127"></a>00127   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dataset);
<a name="l00128"></a>00128   <span class="keywordflow">if</span> (dsSlot == NULL || !seqname || !sequence) {
<a name="l00129"></a>00129     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00130"></a>00130     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00131"></a>00131   }
<a name="l00132"></a>00132   
<a name="l00133"></a>00133   <span class="comment">// log message</span>
<a name="l00134"></a>00134   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new sequence '%s'"</span>, seqname);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="comment">// get an open slot</span>
<a name="l00137"></a>00137   seqSlot = <a class="code" href="group__PrivateSequence.html#g40401ef9620d05e0279e1004606b0fef" title="Get an empty sequence slot from the sequence table.">_fc_getNewSeqSlot</a>();
<a name="l00138"></a>00138   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l00139"></a>00139     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00140"></a>00140     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00141"></a>00141   }
<a name="l00142"></a>00142   
<a name="l00143"></a>00143   <span class="comment">// table header information</span>
<a name="l00144"></a>00144   <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>(*sequence, seqSlot);
<a name="l00145"></a>00145   <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>), seqname);
<a name="l00146"></a>00146   
<a name="l00147"></a>00147   <span class="comment">// set back and forth references</span>
<a name="l00148"></a>00148   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#2897f87e3063786bb2375f3b98342738">ds</a> = dataset;
<a name="l00149"></a>00149   
<a name="l00150"></a>00150   <span class="comment">// update owning dataset with info about this sequence</span>
<a name="l00151"></a>00151   temp_slotIDs = realloc(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a> + 1));
<a name="l00152"></a>00152   <span class="keywordflow">if</span> (temp_slotIDs == NULL) {
<a name="l00153"></a>00153     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00154"></a>00154     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00155"></a>00155   }
<a name="l00156"></a>00156   temp_slotIDs[dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>] = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>;
<a name="l00157"></a>00157   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a> = temp_slotIDs;
<a name="l00158"></a>00158   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>++;
<a name="l00159"></a>00159   
<a name="l00160"></a>00160   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00161"></a>00161 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga14671e26b688c9f1e05fb966169b4d6"></a><!-- doxytag: member="sequence.c::fc_deleteSequence" ref="ga14671e26b688c9f1e05fb966169b4d6" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a sequence. 
<p>
<b>Description:</b> <p>
Call when this sequence is no longer needed. Deleting a NULL sequence handle is not an error, but trying to delete a sequence if any meshes have a sequence variable on it is an error. So, delete meshes before deleting sequences.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/25/03 RM, added more input checking, if sequence is FC_NULL_SEQUENCE) then do nothing and return success (issue warning if <a class="el" href="group__Library.html#gd5ab439275b301213065adfc55e04798" title="Get the current verbosity level of the library.">fc_getLibraryVerbosity()</a>).</li><li>12/01/03 WSK Changed so it removes an uncommitted sequence form the owning dataset's seqID list.</li><li>9/9/04 WSK changed name to delete. Changed behavior so that delete always deletes no matter whether on disk or not. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence to be deleted </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01427">1427</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02189">_fc_deleteSeqSlot()</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l06082">_fc_getMeshSlotFromID()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="variable_8c-source.html#l06565">_fc_getVarSlotFromID()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, <a class="el" href="meshP_8h-source.html#l00189">_FC_MeshSlot::numSeqVar</a>, <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>, <a class="el" href="variableP_8h-source.html#l00079">_FC_VarSlot::sequence</a>, <a class="el" href="meshP_8h-source.html#l00191">_FC_MeshSlot::seqVarIDs</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.</p>

<p>Referenced by <a class="el" href="sequence_8c-source.html#l00572">fc_createRegularSequence()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="sequence_8c-source.html#l00414">fc_shiftAndScaleSequence()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01429"></a>01429   {
<a name="l01430"></a>01430   <span class="keywordtype">int</span> i, j;
<a name="l01431"></a>01431   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01432"></a>01432   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l01433"></a>01433   
<a name="l01434"></a>01434   <span class="comment">// special case: deleting a null handle is not an error</span>
<a name="l01435"></a>01435   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>)) {
<a name="l01436"></a>01436     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_SEQUENCE"</span>);
<a name="l01437"></a>01437     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01438"></a>01438   }
<a name="l01439"></a>01439   
<a name="l01440"></a>01440   <span class="comment">// check input</span>
<a name="l01441"></a>01441   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01442"></a>01442   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01443"></a>01443     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01444"></a>01444     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01445"></a>01445   }
<a name="l01446"></a>01446   
<a name="l01447"></a>01447   <span class="comment">// log message</span>
<a name="l01448"></a>01448   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Deleting sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01449"></a>01449 
<a name="l01450"></a>01450   <span class="comment">// setup</span>
<a name="l01451"></a>01451   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#2897f87e3063786bb2375f3b98342738">ds</a>);
<a name="l01452"></a>01452 
<a name="l01453"></a>01453   <span class="comment">// special case: don't delete if any mesh has a reference to</span>
<a name="l01454"></a>01454   <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#132e931f020068da8e8e906bb9c2e82e">numMesh</a>; i++) {
<a name="l01455"></a>01455     <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot = <a class="code" href="group__PrivateMesh.html#gc021ac32931e613adb63450683845fd7" title="Get a mesh slot based on ID.">_fc_getMeshSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#37a9c6bf694316c85be6de5bdbefb198">meshIDs</a>[i]);
<a name="l01456"></a>01456     <span class="keywordflow">for</span> (j = 0; j &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#81e3175523b0d462ac5e59fae9201fe7">numSeqVar</a>; j++) {
<a name="l01457"></a>01457       <a class="code" href="struct__FC__VarSlot.html" title="Variable Slot Structure for the Variable Table.">_FC_VarSlot</a>* varSlot = <a class="code" href="group__PrivateVariable.html#g7e52a44d74e2d0edf8abeb9afdd90557" title="Get a variable slot based on ID.">_fc_getVarSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#e9d6f6c85dc084548c919597d128ff75">seqVarIDs</a>[j][0]);
<a name="l01458"></a>01458       <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(sequence, varSlot-&gt;<a class="code" href="struct__FC__VarSlot.html#bf719e972f05ce7ba74975fcdbccfd1a">sequence</a>)) {
<a name="l01459"></a>01459         <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't delete sequence '%s' because mesh '%s' "</span>
<a name="l01460"></a>01460                               <span class="stringliteral">"has a reference to it"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>,
<a name="l01461"></a>01461                               meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01462"></a>01462         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01463"></a>01463       }
<a name="l01464"></a>01464     }
<a name="l01465"></a>01465   }
<a name="l01466"></a>01466   
<a name="l01467"></a>01467   <span class="comment">// remove reference from parent dataset</span>
<a name="l01468"></a>01468   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a> == 1) {
<a name="l01469"></a>01469     free(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>);
<a name="l01470"></a>01470     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a> = NULL;
<a name="l01471"></a>01471     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a> = 0;
<a name="l01472"></a>01472   }
<a name="l01473"></a>01473   <span class="keywordflow">else</span> {
<a name="l01474"></a>01474     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>; i++) {
<a name="l01475"></a>01475       <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>[i] == seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>)
<a name="l01476"></a>01476         <span class="keywordflow">break</span>;
<a name="l01477"></a>01477     }
<a name="l01478"></a>01478     <span class="keywordflow">for</span> (j = i+1; j &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>; j++) {
<a name="l01479"></a>01479       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>[j-1] = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>[j];
<a name="l01480"></a>01480     }
<a name="l01481"></a>01481     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>--;
<a name="l01482"></a>01482   }
<a name="l01483"></a>01483 
<a name="l01484"></a>01484   <span class="comment">// clear &amp; delete slot</span>
<a name="l01485"></a>01485   <span class="keywordflow">return</span> <a class="code" href="group__PrivateSequence.html#gb559fef6b3e4c1991ed87af4c3c96a64" title="Delete the sequence slot associated with the sequence handle.">_fc_deleteSeqSlot</a>(sequence);
<a name="l01486"></a>01486 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb9a183fb6229235d8d40baabe29ceafd"></a><!-- doxytag: member="sequence.c::fc_getDatasetFromSequence" ref="gb9a183fb6229235d8d40baabe29ceafd" args="(FC_Sequence sequence, FC_Dataset *dataset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getDatasetFromSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> *&nbsp;</td>
          <td class="paramname"> <em>dataset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parent dataset of the sequence. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/25/03 RM, added default return dataset = <a class="el" href="group__Handles.html#g0d93385a2d1df06b1bcc4b9764aa0941">FC_NULL_DATASET</a></li><li>12/22/03 Rm, added checking for input/output dataset == NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
output - dataset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01570">1570</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00764">FC_NULL_DATASET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="variable_8c-source.html#l02735">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="sequence_8c-source.html#l00934">fc_createIntersectingRangeRegularSequence()</a>, and <a class="el" href="sequence_8c-source.html#l00687">fc_createIntersectingRegularSequence()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01573"></a>01573   {
<a name="l01574"></a>01574   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01575"></a>01575   
<a name="l01576"></a>01576   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01577"></a>01577   <span class="keywordflow">if</span> (dataset != NULL) 
<a name="l01578"></a>01578     *dataset = <a class="code" href="group__Handles.html#g0d93385a2d1df06b1bcc4b9764aa0941" title="Null (default) dataset handle.">FC_NULL_DATASET</a>;
<a name="l01579"></a>01579   
<a name="l01580"></a>01580   <span class="comment">// check input</span>
<a name="l01581"></a>01581   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01582"></a>01582   <span class="keywordflow">if</span> (seqSlot == NULL || dataset == NULL) {
<a name="l01583"></a>01583     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01584"></a>01584     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01585"></a>01585   }
<a name="l01586"></a>01586   
<a name="l01587"></a>01587   <span class="comment">// log message</span>
<a name="l01588"></a>01588   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting dataset from sequence '%s'"</span>, 
<a name="l01589"></a>01589                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01590"></a>01590   
<a name="l01591"></a>01591   <span class="comment">// return requested value</span>
<a name="l01592"></a>01592   *dataset = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#2897f87e3063786bb2375f3b98342738">ds</a>;
<a name="l01593"></a>01593   
<a name="l01594"></a>01594   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01595"></a>01595 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0a34e117ec28b745d0ed26801edcd36e"></a><!-- doxytag: member="sequence.c::fc_getNumSequence" ref="g0a34e117ec28b745d0ed26801edcd36e" args="(FC_Dataset dataset, int *numSeq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getNumSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of sequences in a dataset. 
<p>
<b>Modifications:</b> <ul>
<li>9/28/04 WSK, created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numSeq</em>&nbsp;</td><td>
output - number of sequences returned </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01202">1202</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>.</p>

<p>Referenced by <a class="el" href="dataset_8c-source.html#l00831">fc_printDataset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01205"></a>01205   {
<a name="l01206"></a>01206   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l01207"></a>01207   
<a name="l01208"></a>01208   <span class="comment">// default returns if something goes wrong</span>
<a name="l01209"></a>01209   <span class="keywordflow">if</span> (numSeq != NULL) 
<a name="l01210"></a>01210     *numSeq = -1;
<a name="l01211"></a>01211   
<a name="l01212"></a>01212   <span class="comment">// check input</span>
<a name="l01213"></a>01213   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dataset);
<a name="l01214"></a>01214   <span class="keywordflow">if</span> (dsSlot == NULL || numSeq == NULL) {
<a name="l01215"></a>01215     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01216"></a>01216     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01217"></a>01217   }
<a name="l01218"></a>01218   
<a name="l01219"></a>01219   <span class="comment">// log message</span>
<a name="l01220"></a>01220   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number sequences from dataset '%s'"</span>,
<a name="l01221"></a>01221                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#4339e69fe30b05ede4dc06248a0e883b">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01222"></a>01222   
<a name="l01223"></a>01223   <span class="comment">// get num sequences</span>
<a name="l01224"></a>01224   *numSeq = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>;
<a name="l01225"></a>01225   
<a name="l01226"></a>01226   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01227"></a>01227 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gea35f13c19e88c30cda4e23af42c78f5"></a><!-- doxytag: member="sequence.c::fc_getSequenceByName" ref="gea35f13c19e88c30cda4e23af42c78f5" args="(FC_Dataset dataset, char *seqName, int *numSequences, FC_Sequence **sequences)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceByName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSequences</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> **&nbsp;</td>
          <td class="paramname"> <em>sequences</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all sequences with a given name from a dataset. 
<p>
<b>Description:</b> <p>
Returns all sequences on the dataset with the specified name.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-MAY-30 W Koegler Moved getting sequence meta data from _fc_setupDsSlot() to here.</li><li>11/25/03 RM, added default return sequence = <a class="el" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea">FC_NULL_SEQUENCE</a></li><li>12/01/03 WSK Changed so it removes an uncommitted sequence from the owning dataset's seqID list.</li><li>12/02/03 RM, added checking for NULL sequence</li><li>12/12/03 RM, eliminated _fc_lookup_seqSlot() and _fc_namematch(), those input checking changed and added into the body of this function</li><li>9/8/03 WSK, changed name and moved to dataset (to be next to fc_getSequences)</li><li>9/22/06 ACG returns array of matching sequences </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - handle for this dataset </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of sequence to get </td></tr>
<tr><td valign="top"><em>numSequences</em>&nbsp;</td><td>
output - number of matching sequences </td></tr>
<tr><td valign="top"><em>sequences</em>&nbsp;</td><td>
output - handle for this sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01251">1251</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02170">_fc_getSeqSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, and <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>.</p>

<p>Referenced by <a class="el" href="lib__skeleton_8c-source.html#l00817">fc_convertTreeToMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01256"></a>01256   {
<a name="l01257"></a>01257   <span class="keywordtype">int</span> i;
<a name="l01258"></a>01258   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l01259"></a>01259   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a> *seqSlot;
<a name="l01260"></a>01260   <a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a> sequence;
<a name="l01261"></a>01261 
<a name="l01262"></a>01262   <a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a> *lmatch = NULL;
<a name="l01263"></a>01263   <span class="keywordtype">int</span> numlmatch, maxnumlmatch;
<a name="l01264"></a>01264   
<a name="l01265"></a>01265   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01266"></a>01266   <span class="keywordflow">if</span> (numSequences)
<a name="l01267"></a>01267     *numSequences = -1;
<a name="l01268"></a>01268   <span class="keywordflow">if</span> (sequences) 
<a name="l01269"></a>01269     *sequences = NULL;
<a name="l01270"></a>01270   
<a name="l01271"></a>01271   <span class="comment">// check input</span>
<a name="l01272"></a>01272   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dataset);
<a name="l01273"></a>01273   <span class="keywordflow">if</span> (dsSlot == NULL || seqName == NULL || !sequences || !numSequences ) {
<a name="l01274"></a>01274     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01275"></a>01275     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01276"></a>01276   }
<a name="l01277"></a>01277   
<a name="l01278"></a>01278   <span class="comment">// log message</span>
<a name="l01279"></a>01279   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequence '%s'"</span>, seqName);
<a name="l01280"></a>01280 
<a name="l01281"></a>01281   numlmatch = 0;
<a name="l01282"></a>01282   maxnumlmatch = 0;
<a name="l01283"></a>01283   
<a name="l01284"></a>01284   <span class="comment">// look for existing slots with the matching name</span>
<a name="l01285"></a>01285   <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>; i++) {
<a name="l01286"></a>01286     seqSlot = <a class="code" href="group__PrivateSequence.html#g2bb68d6a6d7c4859bbb787dd41f19b44" title="Get a sequence slot based on ID.">_fc_getSeqSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>[i]);
<a name="l01287"></a>01287     <span class="keywordflow">if</span> (!strcmp(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, seqName)) {
<a name="l01288"></a>01288       <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>(sequence, seqSlot);
<a name="l01289"></a>01289 
<a name="l01290"></a>01290       <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01291"></a>01291      lmatch = (<a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a>));
<a name="l01292"></a>01292      <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01293"></a>01293        <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01294"></a>01294        <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01295"></a>01295      }
<a name="l01296"></a>01296      numlmatch = 1;
<a name="l01297"></a>01297      maxnumlmatch = 1;
<a name="l01298"></a>01298      lmatch[0] = sequence;
<a name="l01299"></a>01299       }<span class="keywordflow">else</span>{
<a name="l01300"></a>01300      <span class="keywordflow">if</span>(numlmatch == maxnumlmatch){
<a name="l01301"></a>01301        <a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a> *temp;
<a name="l01302"></a>01302        temp = (<a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a>*)realloc(lmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a>));
<a name="l01303"></a>01303        <span class="keywordflow">if</span> (temp == NULL){
<a name="l01304"></a>01304          <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01305"></a>01305          <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01306"></a>01306        }
<a name="l01307"></a>01307        maxnumlmatch*=2;
<a name="l01308"></a>01308        lmatch = temp;
<a name="l01309"></a>01309      }
<a name="l01310"></a>01310      lmatch[numlmatch] = sequence;
<a name="l01311"></a>01311      numlmatch++;
<a name="l01312"></a>01312       }
<a name="l01313"></a>01313     }
<a name="l01314"></a>01314   }
<a name="l01315"></a>01315 
<a name="l01316"></a>01316   *numSequences = numlmatch;
<a name="l01317"></a>01317   *sequences = lmatch;
<a name="l01318"></a>01318 
<a name="l01319"></a>01319   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01320"></a>01320 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gea571d126666a139232f8800e5abac0c"></a><!-- doxytag: member="sequence.c::fc_getSequenceCoordsAsDataType" ref="gea571d126666a139232f8800e5abac0c" args="(FC_Sequence sequence, FC_DataType dataType, void **coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceCoordsAsDataType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a copy of the sequence's coords as the requested data type. 
<p>
<b>Description:</b> <p>
Returns the sequence's data as the type requested by the user. The user is responsible for freeing the array. The routine casts to the requested user type so there is a potential for lost information (e.g. if you cast a floating point number to int it is truncated, not rounded).<p>
If you are worried about memory or casting, you should use <a class="el" href="group__Variable.html#g40a4d68cafd7134b908b78d053d3c47d" title="Get the data in a variable.">fc_getVariableDataPtr()</a> to get a pointer to the raw data array.<p>
<b>Modifications:</b> <ul>
<li>06/09/2006 WSD Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
input - the data type for the returned coords </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
output - pointer to coord array </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01794">1794</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="base_8h-source.html#l00139">FC_DT_CHAR</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00419">fc_getDataTypeText()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00240">fc_isDataTypeValid()</a>, <a class="el" href="sequence_8c-source.html#l01505">fc_isSequenceValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8c-source.html#l00741">fc_sizeofDataType()</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01798"></a>01798     {
<a name="l01799"></a>01799   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l01800"></a>01800   <span class="keywordtype">int</span> i;
<a name="l01801"></a>01801   <span class="keywordtype">int</span> numStep;
<a name="l01802"></a>01802   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> dataType_orig;
<a name="l01803"></a>01803   <span class="keywordtype">void</span>* coords_orig;
<a name="l01804"></a>01804   
<a name="l01805"></a>01805   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01806"></a>01806   <span class="keywordflow">if</span> (coords)
<a name="l01807"></a>01807     *coords = NULL;
<a name="l01808"></a>01808   
<a name="l01809"></a>01809   <span class="comment">// check input</span>
<a name="l01810"></a>01810   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(sequence) || !<a class="code" href="group__DataTypes.html#gccfacba927b41643b8d6b36e8fe5b8bb" title="Verify that the given value is valid for this enum.">fc_isDataTypeValid</a>(dataType) ||
<a name="l01811"></a>01811       dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l01812"></a>01812     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01813"></a>01813     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01814"></a>01814   }
<a name="l01815"></a>01815   
<a name="l01816"></a>01816   <span class="comment">// log message</span>
<a name="l01817"></a>01817   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting coords for sequence '%s' as type %s"</span>, 
<a name="l01818"></a>01818                 <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence)-&gt;header.name,
<a name="l01819"></a>01819                 <a class="code" href="group__DataTypes.html#g688d0934eac6d388ad21c461e22fd19f" title="Return the name of the FC_DataType&amp;#39;s value.">fc_getDataTypeText</a>(dataType));
<a name="l01820"></a>01820   
<a name="l01821"></a>01821   <span class="comment">// get sequence info and coords</span>
<a name="l01822"></a>01822   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(sequence, &amp;numStep, &amp;dataType_orig);
<a name="l01823"></a>01823   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l01824"></a>01824     <span class="keywordflow">return</span> rc;
<a name="l01825"></a>01825   rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(sequence, &amp;coords_orig);
<a name="l01826"></a>01826   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l01827"></a>01827     <span class="keywordflow">return</span> rc;
<a name="l01828"></a>01828 
<a name="l01829"></a>01829   <span class="comment">// allocate return array</span>
<a name="l01830"></a>01830   *coords = malloc(numStep*<a class="code" href="group__DataTypes.html#g5965885cf346858e94662c3d86ca798d" title="Returns the number of bytes in an FC_DataType, like sizeof().">fc_sizeofDataType</a>(dataType));
<a name="l01831"></a>01831   <span class="keywordflow">if</span> (!*coords) {
<a name="l01832"></a>01832     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01833"></a>01833     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01834"></a>01834   }
<a name="l01835"></a>01835   
<a name="l01836"></a>01836   <span class="comment">// special case - the same data type</span>
<a name="l01837"></a>01837   <span class="keywordflow">if</span> (dataType == dataType_orig) {
<a name="l01838"></a>01838     memcpy(*coords, coords_orig, numStep*<a class="code" href="group__DataTypes.html#g5965885cf346858e94662c3d86ca798d" title="Returns the number of bytes in an FC_DataType, like sizeof().">fc_sizeofDataType</a>(dataType));
<a name="l01839"></a>01839     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01840"></a>01840   }
<a name="l01841"></a>01841 
<a name="l01842"></a>01842   <span class="comment">// Fun!</span>
<a name="l01843"></a>01843   <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>) {
<a name="l01844"></a>01844     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>) 
<a name="l01845"></a>01845       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01846"></a>01846         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01847"></a>01847     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>) 
<a name="l01848"></a>01848       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01849"></a>01849         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01850"></a>01850     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>) 
<a name="l01851"></a>01851       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01852"></a>01852         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01853"></a>01853   }
<a name="l01854"></a>01854   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>) {
<a name="l01855"></a>01855     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>) 
<a name="l01856"></a>01856       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01857"></a>01857         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01858"></a>01858     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>) 
<a name="l01859"></a>01859       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01860"></a>01860         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01861"></a>01861     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>) 
<a name="l01862"></a>01862       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01863"></a>01863         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01864"></a>01864   }
<a name="l01865"></a>01865   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>) {
<a name="l01866"></a>01866     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>) 
<a name="l01867"></a>01867       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01868"></a>01868         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01869"></a>01869     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>) 
<a name="l01870"></a>01870       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01871"></a>01871         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01872"></a>01872     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>) 
<a name="l01873"></a>01873       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01874"></a>01874         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01875"></a>01875   }
<a name="l01876"></a>01876   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>) {
<a name="l01877"></a>01877     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>) 
<a name="l01878"></a>01878       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01879"></a>01879         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01880"></a>01880     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>) 
<a name="l01881"></a>01881       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01882"></a>01882         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01883"></a>01883     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>) 
<a name="l01884"></a>01884       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01885"></a>01885         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01886"></a>01886   }
<a name="l01887"></a>01887 
<a name="l01888"></a>01888   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01889"></a>01889 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga88160e25be202c8de18ac89edf876c6"></a><!-- doxytag: member="sequence.c::fc_getSequenceCoordsPtr" ref="ga88160e25be202c8de18ac89edf876c6" args="(FC_Sequence sequence, void **coords_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>coords_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get sequence coordinates. 
<p>
<b>Description:</b> <p>
Return a pointer to the sequence's coordinate array. This must be treated as read-only.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-APR-18 W Koegler Finishing sequence implementation</li><li>11/25/03 RM, added checking for NULL sequence handle, default return *coords = NULL, issue an error if <a class="el" href="group__Library.html#gd5ab439275b301213065adfc55e04798" title="Get the current verbosity level of the library.">fc_getLibraryVerbosity()</a> </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>coords_p</em>&nbsp;</td><td>
output - pointer to coord array </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01737">1737</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="fileio_8c-source.html#l01956">_fc_readSequenceCoords()</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="series_8c-source.html#l01715">fc_centeredWindowAverage_Time()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="sequence_8c-source.html#l00310">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00934">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00687">fc_createIntersectingRegularSequence()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01794">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, <a class="el" href="series_8c-source.html#l02270">fc_integral_TR()</a>, <a class="el" href="series_8c-source.html#l01261">fc_leadingWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>, <a class="el" href="series_8c-source.html#l02499">fc_linearLeastSquares()</a>, <a class="el" href="sequence_8c-source.html#l01905">fc_printSequence()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, <a class="el" href="sequence_8c-source.html#l00414">fc_shiftAndScaleSequence()</a>, <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>, <a class="el" href="seriesAnalyzer_8c-source.html#l00535">origWriteout()</a>, <a class="el" href="seriesAnalyzer_8c-source.html#l00721">writeoutChart()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00591">writeoutCompare()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01740"></a>01740     {
<a name="l01741"></a>01741   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l01742"></a>01742   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01743"></a>01743   
<a name="l01744"></a>01744   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01745"></a>01745   <span class="keywordflow">if</span> (coords_p)
<a name="l01746"></a>01746     *coords_p = NULL;
<a name="l01747"></a>01747   
<a name="l01748"></a>01748   <span class="comment">// check input</span>
<a name="l01749"></a>01749   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01750"></a>01750   <span class="keywordflow">if</span> (seqSlot == NULL || coords_p == NULL) {
<a name="l01751"></a>01751     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01752"></a>01752     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01753"></a>01753   }
<a name="l01754"></a>01754   
<a name="l01755"></a>01755   <span class="comment">// log message</span>
<a name="l01756"></a>01756   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting coords for sequence '%s'"</span>, 
<a name="l01757"></a>01757                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01758"></a>01758   
<a name="l01759"></a>01759   <span class="comment">// lazy fetching of sequence coords done here</span>
<a name="l01760"></a>01760   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> == NULL &amp;&amp; seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a> &gt; 0) {
<a name="l01761"></a>01761     rc = <a class="code" href="group__PrivateFileIO.html#gf518ee1be0eacbc9b6f3c142ceeb19f7" title="Read coords from file into a sequence.">_fc_readSequenceCoords</a>(sequence);
<a name="l01762"></a>01762     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01763"></a>01763       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of coords of sequence '%s' failed"</span>,
<a name="l01764"></a>01764                             seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01765"></a>01765       <span class="keywordflow">return</span> rc;
<a name="l01766"></a>01766     }
<a name="l01767"></a>01767   }
<a name="l01768"></a>01768   
<a name="l01769"></a>01769   <span class="comment">// set return values</span>
<a name="l01770"></a>01770   *coords_p = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a>;
<a name="l01771"></a>01771   
<a name="l01772"></a>01772   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01773"></a>01773 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g6d5a8a30edd00c973804c7ce31a3a2e6"></a><!-- doxytag: member="sequence.c::fc_getSequenceDataType" ref="g6d5a8a30edd00c973804c7ce31a3a2e6" args="(FC_Sequence sequence, FC_DataType *datatype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceDataType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> *&nbsp;</td>
          <td class="paramname"> <em>datatype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the data type of a sequence's coordinates. 
<p>
<b>Modifications:</b> <ul>
<li>9/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>datatype</em>&nbsp;</td><td>
output - data type of sequence coordinates </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01687">1687</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="series_8c-source.html#l01715">fc_centeredWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l00676">fc_firstDerivative_REA()</a>, <a class="el" href="series_8c-source.html#l02270">fc_integral_TR()</a>, <a class="el" href="series_8c-source.html#l01261">fc_leadingWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l02499">fc_linearLeastSquares()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00219">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01690"></a>01690   {
<a name="l01691"></a>01691   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01692"></a>01692   
<a name="l01693"></a>01693   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01694"></a>01694   <span class="keywordflow">if</span> (datatype != NULL)
<a name="l01695"></a>01695     *datatype = <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a>;
<a name="l01696"></a>01696   
<a name="l01697"></a>01697   <span class="comment">// check input</span>
<a name="l01698"></a>01698   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01699"></a>01699   <span class="keywordflow">if</span> (seqSlot == NULL || !datatype) {
<a name="l01700"></a>01700     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01701"></a>01701     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01702"></a>01702   }
<a name="l01703"></a>01703   
<a name="l01704"></a>01704   <span class="comment">// log message</span>
<a name="l01705"></a>01705   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for sequence '%s'"</span>, 
<a name="l01706"></a>01706                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01707"></a>01707   
<a name="l01708"></a>01708   <span class="comment">// fill in requested value</span>
<a name="l01709"></a>01709   <span class="keywordflow">if</span> (datatype)
<a name="l01710"></a>01710     *datatype = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c6a4bdad57705f33fe78820efa2f1c75">datatype</a>;
<a name="l01711"></a>01711   
<a name="l01712"></a>01712   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01713"></a>01713 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g39b5198d7c58288101f909fac5569f71"></a><!-- doxytag: member="sequence.c::fc_getSequenceInfo" ref="g39b5198d7c58288101f909fac5569f71" args="(FC_Sequence sequence, int *numStep, FC_DataType *datatype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a> *&nbsp;</td>
          <td class="paramname"> <em>datatype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get information about a sequence. 
<p>
<b>Description:</b> <p>
Return the number of steps in a sequence, and the datatype of the sequences coordinates.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-APR-18 W Koegler Finishing sequence implementation</li><li>11/25/03 RM, added default return numStep = -1, datatype = <a class="el" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a> </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
output - number of steps in the sequence </td></tr>
<tr><td valign="top"><em>datatype</em>&nbsp;</td><td>
output - data type of sequence coordinates </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01612">1612</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="sequence_8c-source.html#l00310">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00934">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00687">fc_createIntersectingRegularSequence()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01794">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>, <a class="el" href="sequence_8c-source.html#l01905">fc_printSequence()</a>, <a class="el" href="sequence_8c-source.html#l00414">fc_shiftAndScaleSequence()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01616"></a>01616   {
<a name="l01617"></a>01617   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01618"></a>01618   
<a name="l01619"></a>01619   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01620"></a>01620   <span class="keywordflow">if</span> (numStep != NULL) 
<a name="l01621"></a>01621     *numStep = -1 ;
<a name="l01622"></a>01622   <span class="keywordflow">if</span> (datatype != NULL)
<a name="l01623"></a>01623     *datatype = <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a>;
<a name="l01624"></a>01624   
<a name="l01625"></a>01625   <span class="comment">// check input</span>
<a name="l01626"></a>01626   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01627"></a>01627   <span class="keywordflow">if</span> (seqSlot == NULL || (!numStep &amp;&amp; !datatype)) {
<a name="l01628"></a>01628     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01629"></a>01629     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01630"></a>01630   }
<a name="l01631"></a>01631   
<a name="l01632"></a>01632   <span class="comment">// log message</span>
<a name="l01633"></a>01633   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for sequence '%s'"</span>, 
<a name="l01634"></a>01634                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01635"></a>01635   
<a name="l01636"></a>01636   <span class="comment">// fill in requested values</span>
<a name="l01637"></a>01637   <span class="keywordflow">if</span> (numStep)
<a name="l01638"></a>01638     *numStep = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>;
<a name="l01639"></a>01639   <span class="keywordflow">if</span> (datatype)
<a name="l01640"></a>01640     *datatype = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c6a4bdad57705f33fe78820efa2f1c75">datatype</a>;
<a name="l01641"></a>01641   
<a name="l01642"></a>01642   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01643"></a>01643 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g94959dc695412dd18bd1e968b1ce3d59"></a><!-- doxytag: member="sequence.c::fc_getSequenceName" ref="g94959dc695412dd18bd1e968b1ce3d59" args="(FC_Sequence sequence, char **seqname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>seqname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return name of a sequence. 
<p>
<b>Description:</b> <p>
Return the name associated with a sequence handle. Spaced is allocated for the string so it needs to be freed by the user when finished.<p>
<b>Modifications:</b> <ul>
<li>Aug, 9, 2002. W Koegler Created</li><li>11/25/03 RM, added checking for NULL dataset handle, default return seqname = NULL if anything is wrong </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>seqname</em>&nbsp;</td><td>
output - sequence name, space allocated here and must be freed by user when finished </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01527">1527</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01531"></a>01531   {
<a name="l01532"></a>01532   <span class="keywordtype">char</span> *cp;
<a name="l01533"></a>01533   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01534"></a>01534   
<a name="l01535"></a>01535   <span class="comment">// default returns if something goes wrong</span>
<a name="l01536"></a>01536   <span class="keywordflow">if</span> (seqname)
<a name="l01537"></a>01537     *seqname = NULL;  
<a name="l01538"></a>01538   
<a name="l01539"></a>01539   <span class="comment">// check input</span>
<a name="l01540"></a>01540   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01541"></a>01541   <span class="keywordflow">if</span> (seqSlot == NULL || seqname == NULL) {
<a name="l01542"></a>01542     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01543"></a>01543     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01544"></a>01544   }
<a name="l01545"></a>01545   
<a name="l01546"></a>01546   <span class="comment">// log message</span>
<a name="l01547"></a>01547   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting name for sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01548"></a>01548 
<a name="l01549"></a>01549   <span class="comment">// copy name</span>
<a name="l01550"></a>01550   cp = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l01551"></a>01551   *seqname = malloc(strlen(cp) + 1);
<a name="l01552"></a>01552   <span class="keywordflow">if</span> (*seqname == NULL) {
<a name="l01553"></a>01553     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01554"></a>01554     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01555"></a>01555   }
<a name="l01556"></a>01556   strcpy(*seqname, cp);
<a name="l01557"></a>01557   
<a name="l01558"></a>01558   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01559"></a>01559 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g194ee559cc88eaefc57a556dbcd6b6cb"></a><!-- doxytag: member="sequence.c::fc_getSequenceNumStep" ref="g194ee559cc88eaefc57a556dbcd6b6cb" args="(FC_Sequence sequence, int *numStep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceNumStep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numStep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get number of steps in a sequence. 
<p>
<b>Modifications:</b> <ul>
<li>9/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
output - number of steps in the sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01652">1652</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l00568">fc_convertSubsetsToSeqSubset()</a>, <a class="el" href="variable_8c-source.html#l02735">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l01382">fc_copySeqVariableStepFromRegionMesh()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01655"></a>01655   {
<a name="l01656"></a>01656   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01657"></a>01657   
<a name="l01658"></a>01658   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01659"></a>01659   <span class="keywordflow">if</span> (numStep != NULL) 
<a name="l01660"></a>01660     *numStep = -1 ;
<a name="l01661"></a>01661   
<a name="l01662"></a>01662   <span class="comment">// check input</span>
<a name="l01663"></a>01663   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01664"></a>01664   <span class="keywordflow">if</span> (seqSlot == NULL || !numStep) {
<a name="l01665"></a>01665     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01666"></a>01666     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01667"></a>01667   }
<a name="l01668"></a>01668   
<a name="l01669"></a>01669   <span class="comment">// log message</span>
<a name="l01670"></a>01670   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting numStep for sequence '%s'"</span>, 
<a name="l01671"></a>01671                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01672"></a>01672   
<a name="l01673"></a>01673   <span class="comment">// fill in requested values</span>
<a name="l01674"></a>01674   <span class="keywordflow">if</span> (numStep)
<a name="l01675"></a>01675     *numStep = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>;
<a name="l01676"></a>01676   
<a name="l01677"></a>01677   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01678"></a>01678 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0ad1217500f245d78aaad5c79f960ba1"></a><!-- doxytag: member="sequence.c::fc_getSequences" ref="g0ad1217500f245d78aaad5c79f960ba1" args="(FC_Dataset dataset, int *numSeq, FC_Sequence **sequences)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequences           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> **&nbsp;</td>
          <td class="paramname"> <em>sequences</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the sequences in a dataset. 
<p>
<b>Description:</b> <p>
This call returns an array of sequences in the dataset. The caller is responsible for freeing the array of sequence handles.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/21/03 RM, added default return numSeq = -1, and seqNames = NULL if anything is wrong</li><li>9/8/04 WSK, changed to return sequence handles instead of sequence names. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numSeq</em>&nbsp;</td><td>
output - number of sequences returned </td></tr>
<tr><td valign="top"><em>sequences</em>&nbsp;</td><td>
output - array of sequences </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01150">1150</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02170">_fc_getSeqSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, and <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01154"></a>01154   {
<a name="l01155"></a>01155   <span class="keywordtype">int</span> i;
<a name="l01156"></a>01156   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dsSlot;
<a name="l01157"></a>01157   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01158"></a>01158   
<a name="l01159"></a>01159   <span class="comment">// default returns if something goes wrong</span>
<a name="l01160"></a>01160   <span class="keywordflow">if</span> (numSeq != NULL) 
<a name="l01161"></a>01161     *numSeq = -1;
<a name="l01162"></a>01162   <span class="keywordflow">if</span> (sequences)
<a name="l01163"></a>01163     *sequences = NULL;  
<a name="l01164"></a>01164   
<a name="l01165"></a>01165   <span class="comment">// check input</span>
<a name="l01166"></a>01166   dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dataset);
<a name="l01167"></a>01167   <span class="keywordflow">if</span> (dsSlot == NULL || numSeq == NULL || sequences == NULL) {
<a name="l01168"></a>01168     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01169"></a>01169     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01170"></a>01170   }
<a name="l01171"></a>01171   
<a name="l01172"></a>01172   <span class="comment">// log message</span>
<a name="l01173"></a>01173   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequences from dataset '%s'"</span>,
<a name="l01174"></a>01174                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#4339e69fe30b05ede4dc06248a0e883b">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01175"></a>01175   
<a name="l01176"></a>01176   <span class="comment">// get num sequences</span>
<a name="l01177"></a>01177   *numSeq = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>;
<a name="l01178"></a>01178   
<a name="l01179"></a>01179   <span class="comment">// get sequences</span>
<a name="l01180"></a>01180   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a> &gt; 0) {
<a name="l01181"></a>01181     *sequences = malloc(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a>));
<a name="l01182"></a>01182     <span class="keywordflow">if</span> (*sequences == NULL) {
<a name="l01183"></a>01183       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01184"></a>01184       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01185"></a>01185     }
<a name="l01186"></a>01186     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#bc767920afa6b50bbdbe53bc8775da44">numSeq</a>; i++) {
<a name="l01187"></a>01187       seqSlot = <a class="code" href="group__PrivateSequence.html#g2bb68d6a6d7c4859bbb787dd41f19b44" title="Get a sequence slot based on ID.">_fc_getSeqSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#a433ea28ed65096f2eec575bd1cd9e80">seqIDs</a>[i]);
<a name="l01188"></a>01188       <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>((*sequences)[i], seqSlot);
<a name="l01189"></a>01189     }
<a name="l01190"></a>01190   }
<a name="l01191"></a>01191   
<a name="l01192"></a>01192   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01193"></a>01193 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g55e1bf7be4e19be93103378503b123b9"></a><!-- doxytag: member="sequence.c::fc_isSequenceValid" ref="g55e1bf7be4e19be93103378503b123b9" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isSequenceValid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the handle refers to a valid sequence. 
<p>
<b>Description:</b> <p>
Returns 1 (true) is the handle is valid, and 0 (false) if it is not.<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01505">1505</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="table_8c-source.html#l00332">_fc_isHandleValid()</a>, <a class="el" href="sequence_8c-source.html#l00086">seqTableSize</a>, <a class="el" href="base_8h-source.html#l00255">FC_Sequence::slotID</a>, and <a class="el" href="base_8h-source.html#l00256">FC_Sequence::uID</a>.</p>

<p>Referenced by <a class="el" href="series_8c-source.html#l00205">_fc_createSeqVariableFromVariable()</a>, <a class="el" href="subset_8c-source.html#l00568">fc_convertSubsetsToSeqSubset()</a>, <a class="el" href="variable_8c-source.html#l02735">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l01382">fc_copySeqVariableStepFromRegionMesh()</a>, <a class="el" href="sequence_8c-source.html#l00934">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00687">fc_createIntersectingRegularSequence()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01794">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, and <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01507"></a>01507   {
<a name="l01508"></a>01508   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g7da0137a7b29468ab994bb65e96ebf99" title="Check that a handle is valid.">_fc_isHandleValid</a>(sequence.<a class="code" href="structFC__Sequence.html#6fc010487e8bf2588fc5811636040f59">slotID</a>, sequence.<a class="code" href="structFC__Sequence.html#908257483459250c98e4e35d8c32623a">uID</a>, <a class="code" href="group__PrivateSequence.html#g8147e4c74766ce19d38a80c581e75027" title="The number of allocated slots in the sequence table.">seqTableSize</a>,
<a name="l01509"></a>01509                            (<a class="code" href="struct__FC__SlotHeader.html" title="Slot Header.">_FC_SlotHeader</a>**)<a class="code" href="group__PrivateSequence.html#ge55771e8eff2b755559669f4c4cb1d41" title="The sequence table.">seqTable</a>);
<a name="l01510"></a>01510 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g44641d117e4ccb182f2797fa8fa282f9"></a><!-- doxytag: member="sequence.c::fc_printSequence" ref="g44641d117e4ccb182f2797fa8fa282f9" args="(FC_Sequence sequence, char *label, int print_coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print sequence meta data to stdout, and optionally the coordinates. 
<p>
<b>Modifications:</b> <ul>
<li>11/20/03 WSK Created.</li><li>10/31/07 ACG optional precision flag </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend variable name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_coords</em>&nbsp;</td><td>
input - 1 = print the coordinates. 2 = print the in exponential notation with 5 digits of precision </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01905">1905</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="base_8h-source.html#l00139">FC_DT_CHAR</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00419">fc_getDataTypeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01911"></a>01911   {
<a name="l01912"></a>01912   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l01913"></a>01913   <span class="keywordtype">int</span> i;
<a name="l01914"></a>01914   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01915"></a>01915   <span class="keywordtype">int</span> numStep;
<a name="l01916"></a>01916   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> dataType;
<a name="l01917"></a>01917   <span class="keywordtype">void</span>* dbuf;
<a name="l01918"></a>01918 
<a name="l01919"></a>01919   <span class="comment">// special case: printing a null handle is not an error</span>
<a name="l01920"></a>01920   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>)) {
<a name="l01921"></a>01921     printf(<span class="stringliteral">"Sequence: FC_NULL_SEQUENCE\n"</span>);
<a name="l01922"></a>01922     fflush(NULL);
<a name="l01923"></a>01923     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01924"></a>01924   }
<a name="l01925"></a>01925 
<a name="l01926"></a>01926   <span class="comment">// check input</span>
<a name="l01927"></a>01927   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01928"></a>01928   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01929"></a>01929     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_DATASET"</span>);
<a name="l01930"></a>01930     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01931"></a>01931   }
<a name="l01932"></a>01932 
<a name="l01933"></a>01933   <span class="comment">// log message</span>
<a name="l01934"></a>01934   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Printing sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01935"></a>01935 
<a name="l01936"></a>01936   <span class="comment">// print label &amp; var name</span>
<a name="l01937"></a>01937   <span class="keywordflow">if</span> (label)
<a name="l01938"></a>01938     printf(<span class="stringliteral">"%s: "</span>, label);
<a name="l01939"></a>01939   <span class="keywordflow">else</span>
<a name="l01940"></a>01940     printf(<span class="stringliteral">"Sequence: "</span>);
<a name="l01941"></a>01941   printf(<span class="stringliteral">"'%s'\n"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01942"></a>01942   fflush(NULL);
<a name="l01943"></a>01943 
<a name="l01944"></a>01944   <span class="comment">// print meta data</span>
<a name="l01945"></a>01945   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a>(sequence, &amp;numStep, &amp;dataType);
<a name="l01946"></a>01946   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01947"></a>01947     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for sequence '%s'"</span>,
<a name="l01948"></a>01948                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01949"></a>01949     <span class="keywordflow">return</span> rc;
<a name="l01950"></a>01950   }
<a name="l01951"></a>01951   printf(<span class="stringliteral">"%snumStep = %d, dataType = %s\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, numStep,
<a name="l01952"></a>01952          <a class="code" href="group__DataTypes.html#g688d0934eac6d388ad21c461e22fd19f" title="Return the name of the FC_DataType&amp;#39;s value.">fc_getDataTypeText</a>(dataType));
<a name="l01953"></a>01953   fflush(NULL);
<a name="l01954"></a>01954 
<a name="l01955"></a>01955   <span class="comment">// print coordinates</span>
<a name="l01956"></a>01956   <span class="keywordflow">if</span> (print_coords) {
<a name="l01957"></a>01957     rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(sequence, &amp;dbuf);
<a name="l01958"></a>01958     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01959"></a>01959       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for sequence '%s'"</span>,
<a name="l01960"></a>01960                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01961"></a>01961       <span class="keywordflow">return</span> rc;
<a name="l01962"></a>01962     }
<a name="l01963"></a>01963     
<a name="l01964"></a>01964     <span class="comment">// print the coordinates</span>
<a name="l01965"></a>01965     printf(<span class="stringliteral">"%sCoordinates:\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l01966"></a>01966     fflush(NULL);
<a name="l01967"></a>01967     <span class="keywordflow">switch</span> (dataType) {
<a name="l01968"></a>01968     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>: 
<a name="l01969"></a>01969       {
<a name="l01970"></a>01970         <span class="keywordtype">char</span>* cast_buf = (<span class="keywordtype">char</span> *)dbuf;
<a name="l01971"></a>01971         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01972"></a>01972           printf(<span class="stringliteral">"%s%s%d:  %c\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01973"></a>01973       }
<a name="l01974"></a>01974       <span class="keywordflow">break</span>;
<a name="l01975"></a>01975     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>:
<a name="l01976"></a>01976       {
<a name="l01977"></a>01977         <span class="keywordtype">int</span>* cast_buf = (<span class="keywordtype">int</span> *)dbuf;
<a name="l01978"></a>01978         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01979"></a>01979           printf(<span class="stringliteral">"%s%s%d:  %d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01980"></a>01980       }
<a name="l01981"></a>01981       <span class="keywordflow">break</span>;
<a name="l01982"></a>01982     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>:
<a name="l01983"></a>01983       {
<a name="l01984"></a>01984         <span class="keywordtype">float</span>* cast_buf = (<span class="keywordtype">float</span> *)dbuf;
<a name="l01985"></a>01985         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01986"></a>01986           printf(<span class="stringliteral">"%s%s%d:  %.6g\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01987"></a>01987       }
<a name="l01988"></a>01988       <span class="keywordflow">break</span>;
<a name="l01989"></a>01989     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>:
<a name="l01990"></a>01990       {
<a name="l01991"></a>01991         <span class="keywordtype">double</span>* cast_buf = (<span class="keywordtype">double</span> *)dbuf;
<a name="l01992"></a>01992         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01993"></a>01993        <span class="keywordflow">switch</span>(print_coords){
<a name="l01994"></a>01994        <span class="keywordflow">case</span> 2:
<a name="l01995"></a>01995          printf(<span class="stringliteral">"%s%s%d:  %5leg\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01996"></a>01996          <span class="keywordflow">break</span>;
<a name="l01997"></a>01997        <span class="keywordflow">default</span>:
<a name="l01998"></a>01998          printf(<span class="stringliteral">"%s%s%d:  %.15g\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01999"></a>01999          <span class="keywordflow">break</span>;
<a name="l02000"></a>02000        }
<a name="l02001"></a>02001       }
<a name="l02002"></a>02002       <span class="keywordflow">break</span>;
<a name="l02003"></a>02003     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a>:
<a name="l02004"></a>02004       printf(<span class="stringliteral">"Cannot print data type '%s'\n"</span>, <a class="code" href="group__DataTypes.html#g688d0934eac6d388ad21c461e22fd19f" title="Return the name of the FC_DataType&amp;#39;s value.">fc_getDataTypeText</a>(dataType));
<a name="l02005"></a>02005     }
<a name="l02006"></a>02006     fflush(NULL);
<a name="l02007"></a>02007   }
<a name="l02008"></a>02008 
<a name="l02009"></a>02009   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02010"></a>02010 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9cf943a9d8be39fea7de788bb90e848c"></a><!-- doxytag: member="sequence.c::fc_releaseSequence" ref="g9cf943a9d8be39fea7de788bb90e848c" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_releaseSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to minimize sequence's memory usage. 
<p>
<b>Description:</b> <p>
Call to try and release un-needed memory in a sequence. If the sequence has been saved to disk, the large data is released. If the sequence has not been saved to disk, this will do nothing.<p>
<b>Modifications:</b> <ul>
<li>04/19/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l01376">1376</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01378"></a>01378   {
<a name="l01379"></a>01379   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l01380"></a>01380   
<a name="l01381"></a>01381   <span class="comment">// special case: releasing a null handle is not an error</span>
<a name="l01382"></a>01382   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>)) {
<a name="l01383"></a>01383     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Releasing FC_NULL_SEQUENCE"</span>);
<a name="l01384"></a>01384     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01385"></a>01385   }
<a name="l01386"></a>01386 
<a name="l01387"></a>01387   <span class="comment">// check input</span>
<a name="l01388"></a>01388   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l01389"></a>01389   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01390"></a>01390     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01391"></a>01391     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01392"></a>01392   }
<a name="l01393"></a>01393   
<a name="l01394"></a>01394   <span class="comment">// log message</span>
<a name="l01395"></a>01395   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Cleaning up sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01396"></a>01396 
<a name="l01397"></a>01397   <span class="comment">// remove big data if this slot is committed</span>
<a name="l01398"></a>01398   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1) {
<a name="l01399"></a>01399     free(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a>);
<a name="l01400"></a>01400     seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> = NULL;
<a name="l01401"></a>01401   }
<a name="l01402"></a>01402 
<a name="l01403"></a>01403   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01404"></a>01404 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g6c813882deb504a061aa7d24ad3c8d7a"></a><!-- doxytag: member="sequence.c::fc_setSequenceCoords" ref="g6c813882deb504a061aa7d24ad3c8d7a" args="(FC_Sequence sequence, int numStep, FC_DataType dataType, void *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_setSequenceCoords           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the sequence coordinates by copy. 
<p>
<b>Description:</b> <p>
Set the coordinates for the sequence. Must provide the number of steps, the data type, and a pointer to the 1-D array of coordinates. This routine makes a copy of the coords for the library, so the user still has responsibility of the original buffer. If you would like to give the coordinates array to the sequence instead of just copying them, use <a class="el" href="group__Sequence.html#g7ef85cd92a594d925914478d8f0b306e" title="Set the pointer to the mesh coordinates.">fc_setSequenceCoordsPtr()</a>.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>2003-NOV-13 WSK Created</li><li>09/10/04 WSK, changed so cannot set coords more than once. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - Sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
Input - Number of steps in the sequence </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
Input - The data type of the coordinate array (i.e. int, float, etc) </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
Input - Array of coordinate data </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00182">182</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00240">fc_isDataTypeValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8c-source.html#l00741">fc_sizeofDataType()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="sequence_8c-source.html#l00310">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00572">fc_createRegularSequence()</a>, and <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00188"></a>00188   {
<a name="l00189"></a>00189   <span class="keywordtype">int</span> size;
<a name="l00190"></a>00190   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a> *seqSlot;
<a name="l00191"></a>00191   
<a name="l00192"></a>00192   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetSequenceCoordsPtr()</span>
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <span class="comment">// check input</span>
<a name="l00195"></a>00195   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l00196"></a>00196   <span class="keywordflow">if</span> (seqSlot == NULL || numStep &lt; 1 || !<a class="code" href="group__DataTypes.html#gccfacba927b41643b8d6b36e8fe5b8bb" title="Verify that the given value is valid for this enum.">fc_isDataTypeValid</a>(dataType) ||
<a name="l00197"></a>00197       dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l00198"></a>00198     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00199"></a>00199     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00200"></a>00200   }
<a name="l00201"></a>00201  
<a name="l00202"></a>00202   <span class="comment">// a little more checking -- can't overwrite coords </span>
<a name="l00203"></a>00203   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> != NULL || seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1) {
<a name="l00204"></a>00204     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on sequence '%s'"</span>,
<a name="l00205"></a>00205                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00206"></a>00206     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00207"></a>00207   }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <span class="comment">// log message</span>
<a name="l00210"></a>00210   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Setting coords on sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="comment">// Meta data</span>
<a name="l00213"></a>00213   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a> = numStep;
<a name="l00214"></a>00214   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c6a4bdad57705f33fe78820efa2f1c75">datatype</a> = dataType;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216   <span class="comment">// Big data</span>
<a name="l00217"></a>00217   size = <a class="code" href="group__DataTypes.html#g5965885cf346858e94662c3d86ca798d" title="Returns the number of bytes in an FC_DataType, like sizeof().">fc_sizeofDataType</a>(dataType);
<a name="l00218"></a>00218   size *= numStep;
<a name="l00219"></a>00219   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> = malloc(size);
<a name="l00220"></a>00220   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> == NULL) {
<a name="l00221"></a>00221     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00222"></a>00222       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00223"></a>00223   }
<a name="l00224"></a>00224   memcpy(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a>, coords, size);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00227"></a>00227 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g7ef85cd92a594d925914478d8f0b306e"></a><!-- doxytag: member="sequence.c::fc_setSequenceCoordsPtr" ref="g7ef85cd92a594d925914478d8f0b306e" args="(FC_Sequence sequence, int numStep, FC_DataType dataType, void *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_setSequenceCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the pointer to the mesh coordinates. 
<p>
<b>Description:</b> <p>
Set the coordinates for the sequence. Must provide the number of steps, the data type, and a pointer to the 1-D array of coordinates. This routine passes the coords array directly to the library, so the user no longer has responsibility of the original buffer. If you would like to keep the coords array, you should use <a class="el" href="group__Sequence.html#g6c813882deb504a061aa7d24ad3c8d7a" title="Set the sequence coordinates by copy.">fc_setSequenceCoords()</a> instead which makes a copy of the coords array.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>10/01/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - Sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
Input - Number of steps in the sequence </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
Input - The data type of the coordinate array (i.e. int, float, etc) </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
Input - Array of coordinate data </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00247">247</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00240">fc_isDataTypeValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="sequence_8c-source.html#l00414">fc_shiftAndScaleSequence()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00226">readOneData()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00253"></a>00253   {
<a name="l00254"></a>00254   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a> *seqSlot;
<a name="l00255"></a>00255   
<a name="l00256"></a>00256   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetSequenceCoords()</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="comment">// check input</span>
<a name="l00259"></a>00259   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l00260"></a>00260   <span class="keywordflow">if</span> (seqSlot == NULL || numStep &lt; 1 || !<a class="code" href="group__DataTypes.html#gccfacba927b41643b8d6b36e8fe5b8bb" title="Verify that the given value is valid for this enum.">fc_isDataTypeValid</a>(dataType) ||
<a name="l00261"></a>00261       dataType == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l00262"></a>00262     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00263"></a>00263     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00264"></a>00264   }
<a name="l00265"></a>00265  
<a name="l00266"></a>00266   <span class="comment">// a little more checking -- can't overwrite coords </span>
<a name="l00267"></a>00267   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> != NULL || seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1) {
<a name="l00268"></a>00268     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on sequence '%s'"</span>,
<a name="l00269"></a>00269                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00270"></a>00270     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00271"></a>00271   }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273   <span class="comment">// log message</span>
<a name="l00274"></a>00274   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Setting coords on sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276   <span class="comment">// Meta data</span>
<a name="l00277"></a>00277   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a> = numStep;
<a name="l00278"></a>00278   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c6a4bdad57705f33fe78820efa2f1c75">datatype</a> = dataType;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280   <span class="comment">// Big data</span>
<a name="l00281"></a>00281   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#41434461d092594ae5c6f7475bfe05fd">coords</a> = coords;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00284"></a>00284 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g88c2a12de09ec8b828571b1c584629ff"></a><!-- doxytag: member="sequence.c::fc_shiftAndScaleSequence" ref="g88c2a12de09ec8b828571b1c584629ff" args="(FC_Sequence src_seq, FC_Dataset dest_ds, double shift, double scale, char *newName, FC_Sequence *new_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_shiftAndScaleSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>src_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>new_seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a seq, return a new sequence that is the old one shifted and scaled. 
<p>
<b>Description:</b> <p>
Given a seq, return a new sequence that is the old one shifted and scaled. Possible usage: This function can be followed by fc_copySeqVariable in order to create a new seqVar that is an oldSeqVar normalized in time such that it starts at time zero.<p>
The shift is applied before the scale. i.e., new_seq_val = (old_seq_val+shift)*(scale). If you don't want to shift, pass in 0 for the shift; if you dont want to scale pass in 1 for the scale.<p>
The datatype of the new sequence is FC_DT_DOUBLE regardless of the original sequence datatype.<p>
This returns with an error if the orignal sequence is not numerical. Scaling by zero is not allowed.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000057">Todo:</a></b></dt><dd>change this so the user can specify the return type.</dd></dl>
<b>Modifications:</b> 6/14/05 ACG created. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>src_seq</em>&nbsp;</td><td>
Input - the source sequence to be shifted and scaled </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
Input - the destination dataset to be copied into </td></tr>
<tr><td valign="top"><em>shift</em>&nbsp;</td><td>
input - val shifting seq by </td></tr>
<tr><td valign="top"><em>scale</em>&nbsp;</td><td>
input - val scaling seq by </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new sequence </td></tr>
<tr><td valign="top"><em>new_seq</em>&nbsp;</td><td>
Output - handle to the new sequence </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="sequence_8c-source.html#l00414">414</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.</p>

<p>References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="sequence_8c-source.html#l01427">fc_deleteSequence()</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01737">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01612">fc_getSequenceInfo()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="sequence_8c-source.html#l00247">fc_setSequenceCoordsPtr()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00421"></a>00421   { 
<a name="l00422"></a>00422   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424   <a class="code" href="struct__FC__DsSlot.html" title="Dataset Slot Structure for the Dataset Table.">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00425"></a>00425   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* src_seqSlot;
<a name="l00426"></a>00426   <span class="keywordtype">int</span> numStep;
<a name="l00427"></a>00427   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> seqdatatype;
<a name="l00428"></a>00428   <span class="keywordtype">double</span>* prev;
<a name="l00429"></a>00429   <span class="keywordtype">void</span>* coordsp;
<a name="l00430"></a>00430   <span class="keywordtype">int</span> i;
<a name="l00431"></a>00431 
<a name="l00432"></a>00432   <span class="comment">// default return</span>
<a name="l00433"></a>00433   <span class="keywordflow">if</span> (new_seq)
<a name="l00434"></a>00434     *new_seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436   <span class="comment">// check input</span>
<a name="l00437"></a>00437   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#gd3ed406753b9577575d71e0b7ce8a359" title="Get a dataset slot from a dataset handle.">_fc_getDsSlot</a>(dest_ds);
<a name="l00438"></a>00438   src_seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(src_seq);
<a name="l00439"></a>00439   <span class="keywordflow">if</span> (dest_dsSlot == NULL || src_seqSlot == NULL ||
<a name="l00440"></a>00440       new_seq == NULL || newName == NULL) {
<a name="l00441"></a>00441     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00442"></a>00442     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00443"></a>00443   }
<a name="l00444"></a>00444 
<a name="l00445"></a>00445   <span class="comment">// log message</span>
<a name="l00446"></a>00446   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"shifting and scaling sequence '%s' to '%s'"</span>, 
<a name="l00447"></a>00447                       src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#c5e5166b76af0f8c08946df88105d729">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l00448"></a>00448 
<a name="l00449"></a>00449   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(scale,0.0)){
<a name="l00450"></a>00450     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"scaling by zero is not allowed"</span>);
<a name="l00451"></a>00451     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00452"></a>00452   }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454   rc = <a class="code" href="group__Sequence.html#g39b5198d7c58288101f909fac5569f71" title="Get information about a sequence.">fc_getSequenceInfo</a> (src_seq, &amp;numStep, &amp;seqdatatype);
<a name="l00455"></a>00455   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00456"></a>00456     <span class="keywordflow">return</span> rc;
<a name="l00457"></a>00457   }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459   <span class="keywordflow">if</span> (!(seqdatatype == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a> || seqdatatype == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a> ||
<a name="l00460"></a>00460         seqdatatype == <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>)){
<a name="l00461"></a>00461     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"seq data type is not numerical"</span>);
<a name="l00462"></a>00462     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00463"></a>00463   }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465   rc = <a class="code" href="group__Sequence.html#ga88160e25be202c8de18ac89edf876c6" title="Get sequence coordinates.">fc_getSequenceCoordsPtr</a>(src_seq,&amp;coordsp);
<a name="l00466"></a>00466   <span class="keywordflow">if</span> (rc!= <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00467"></a>00467     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00468"></a>00468     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00469"></a>00469   }
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 
<a name="l00472"></a>00472   prev = (<span class="keywordtype">double</span>*)malloc(numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00473"></a>00473   <span class="keywordflow">if</span> (prev == NULL){
<a name="l00474"></a>00474     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"cant make data array"</span>);
<a name="l00475"></a>00475     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00476"></a>00476     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00477"></a>00477   }
<a name="l00478"></a>00478 
<a name="l00479"></a>00479   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++){
<a name="l00480"></a>00480     <span class="keywordflow">switch</span>(seqdatatype){
<a name="l00481"></a>00481     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>:
<a name="l00482"></a>00482       prev[i] = (double)(((<span class="keywordtype">int</span>*)coordsp)[i]);
<a name="l00483"></a>00483       <span class="keywordflow">break</span>;
<a name="l00484"></a>00484     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>:
<a name="l00485"></a>00485       prev[i] = (double)(((<span class="keywordtype">float</span>*)coordsp)[i]);
<a name="l00486"></a>00486       <span class="keywordflow">break</span>;
<a name="l00487"></a>00487     <span class="keywordflow">default</span>: <span class="comment">//know its a double</span>
<a name="l00488"></a>00488       prev[i] = ((<span class="keywordtype">double</span>*)coordsp)[i];
<a name="l00489"></a>00489       <span class="keywordflow">break</span>;
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <span class="comment">//this isnt quite ideal - e.g., if magnitude of both shift and scale are small...</span>
<a name="l00493"></a>00493     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(prev[i],-shift)){
<a name="l00494"></a>00494       prev[i] = 0.0;
<a name="l00495"></a>00495     }<span class="keywordflow">else</span>{
<a name="l00496"></a>00496       prev[i]+=shift;
<a name="l00497"></a>00497       <span class="keywordflow">if</span> (!<a class="code" href="group__PublicFloatingPoint.html#g9eab7a99d9f08eee22764c6916f46f51" title="Test equality of two values with double precision.">FC_DBL_EQUIV</a>(scale,1.0)){
<a name="l00498"></a>00498         prev[i]*=scale;
<a name="l00499"></a>00499       }
<a name="l00500"></a>00500     }
<a name="l00501"></a>00501   }
<a name="l00502"></a>00502 
<a name="l00503"></a>00503   <span class="comment">// create new sequence </span>
<a name="l00504"></a>00504   rc = <a class="code" href="group__Sequence.html#g52215110a3bf2f4bd1aa74437ce89c54" title="Create a new sequence.">fc_createSequence</a>(dest_ds, newName, new_seq);
<a name="l00505"></a>00505   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00506"></a>00506     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create sequence '%s'"</span>, newName);
<a name="l00507"></a>00507     free(prev);
<a name="l00508"></a>00508     <span class="keywordflow">return</span> rc;
<a name="l00509"></a>00509   }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511   <span class="comment">// set new seq coords</span>
<a name="l00512"></a>00512   rc = <a class="code" href="group__Sequence.html#g7ef85cd92a594d925914478d8f0b306e" title="Set the pointer to the mesh coordinates.">fc_setSequenceCoordsPtr</a>(*new_seq,numStep,<a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>,(<span class="keywordtype">void</span>*)prev);
<a name="l00513"></a>00513   <span class="keywordflow">if</span> (rc!= <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00514"></a>00514     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00515"></a>00515     free(prev);
<a name="l00516"></a>00516     <a class="code" href="group__Sequence.html#ga14671e26b688c9f1e05fb966169b4d6" title="Delete a sequence.">fc_deleteSequence</a>(*new_seq);
<a name="l00517"></a>00517     *new_seq = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00518"></a>00518     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00519"></a>00519   }
<a name="l00520"></a>00520   
<a name="l00521"></a>00521   <span class="keywordflow">return</span> rc;
<a name="l00522"></a>00522 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 27 13:26:17 2008 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
