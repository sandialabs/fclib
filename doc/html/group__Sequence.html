<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCLib: Sequence</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Sequence<br>
<small>
[<a class="el" href="group__DataInterface.html">Data Interface</a>]</small>
</h1>
<p>
Collaboration diagram for Sequence:<hr><a name="_details"></a><h2>Detailed Description</h2>
Operations on sequences. 
<p>
<b>Description:</b> <p>
(For an explanation of general data manipulations, see <a class="el" href="group__DataInterface.html">Data Interface</a>.) 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateSequence.html">(Private)</a></td></tr>

<tr><td colspan="2"><br><h2>Create new sequence from scratch.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g7f88e0eb0db536a4d213c003a0ab798c">fc_createSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *seqname, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new sequence.  <a href="#g7f88e0eb0db536a4d213c003a0ab798c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g159398af1c86b8385325088c6c73a5db">fc_setSequenceCoords</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int numStep, <a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType, void *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the sequence coordinates by copy.  <a href="#g159398af1c86b8385325088c6c73a5db"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g183a3690e04d4949159d3e6d94ebe2d6">fc_setSequenceCoordsPtr</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int numStep, <a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType, void *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the pointer to the mesh coordinates.  <a href="#g183a3690e04d4949159d3e6d94ebe2d6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Other ways to get new sequences.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gf617aa03a3fa894bf69f860d90cb8ed9">fc_copySequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> src_seq, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, char *newName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *new_seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy a sequence.  <a href="#gf617aa03a3fa894bf69f860d90cb8ed9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g280929f36644937212a6188aecc29d3a">fc_shiftAndScaleSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> src_seq, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, double shift, double scale, char *newName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *new_seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a seq, return a new sequence that is the old one shifted and scaled.  <a href="#g280929f36644937212a6188aecc29d3a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g0a6fa289f8f326c29121f043d45059ae">fc_createRegularSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dset, int numStep, double offset, double stepsize, char *seq_name, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a sequence of specified length, starting at a given val with subsequent vals spaced by given stepsize.  <a href="#g0a6fa289f8f326c29121f043d45059ae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gbcd143b93a0040e056b5cfd5c10aff4b">fc_createIntersectingRegularSequence</a> (int numseqs, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seqs, int numStep, char *seqName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences.  <a href="#gbcd143b93a0040e056b5cfd5c10aff4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g535f2ffd8fd4810bc4ef81fa3ce63951">fc_createIntersectingRangeRegularSequence</a> (int numseqs, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seqs, double seqmin, double seqmax, char *seqName, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *seq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range.  <a href="#g535f2ffd8fd4810bc4ef81fa3ce63951"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get existing sequences.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g4e9e6506fc7e6ce22310105003a21789">fc_getSequences</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numSeq, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> **sequences)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the sequences in a dataset.  <a href="#g4e9e6506fc7e6ce22310105003a21789"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gec577a04d60a8fe4da966ae8d6e42e3f">fc_getNumSequence</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numSeq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of sequences in a dataset.  <a href="#gec577a04d60a8fe4da966ae8d6e42e3f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g64407cdab30b5375c9c8870de949520b">fc_getSequenceByName</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *seqName, int *numSequences, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> **sequences)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all sequences with a given name from a dataset.  <a href="#g64407cdab30b5375c9c8870de949520b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Change the name of a sequence.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gb12abbd2576c03b77ab00b9025f646e3">fc_changeSequenceName</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *newName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the name of a sequence.  <a href="#gb12abbd2576c03b77ab00b9025f646e3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Release/delete sequences.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gb8b2e91b0cebfdafd546185da89ca2ee">fc_releaseSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to minimize sequence's memory usage.  <a href="#gb8b2e91b0cebfdafd546185da89ca2ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gf23403070ab8aa0a4d172f3cc0293754">fc_deleteSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a sequence.  <a href="#gf23403070ab8aa0a4d172f3cc0293754"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get sequence metadata.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the handle refers to a valid sequence.  <a href="#gc2557da2ece780124f4ab34926436806"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gc810d7a86c70a251ea10a90e9c59b710">fc_getSequenceName</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char **seqname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return name of a sequence.  <a href="#gc810d7a86c70a251ea10a90e9c59b710"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g0d5aeb42aa45e10bd2313d3795c207e2">fc_getDatasetFromSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> *dataset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parent dataset of the sequence.  <a href="#g0d5aeb42aa45e10bd2313d3795c207e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int *numStep, <a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> *datatype)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about a sequence.  <a href="#ge7289ce45a13855f48a0b5de93c68101"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g556f33fb72c8f5c2f2a3bba5177094a1">fc_getSequenceNumStep</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, int *numStep)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of steps in a sequence.  <a href="#g556f33fb72c8f5c2f2a3bba5177094a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gd95b305013fd83202e1f3be8890bf4b3">fc_getSequenceDataType</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> *datatype)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the data type of a sequence's coordinates.  <a href="#gd95b305013fd83202e1f3be8890bf4b3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get sequence big data.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, void **coords_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get sequence coordinates.  <a href="#g38e90553b530ed6e4ebeb28df20eade8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#g71cc991334f68976219fae136693ff38">fc_getSequenceCoordsAsDataType</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, <a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType, void **coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a copy of the sequence's coords as the requested data type.  <a href="#g71cc991334f68976219fae136693ff38"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print sequence.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Sequence.html#gc55deb72bd96a0e32e471f07463d3cc8">fc_printSequence</a> (<a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *label, int print_coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print sequence meta data to stdout, and optionally the coordinates.  <a href="#gc55deb72bd96a0e32e471f07463d3cc8"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gb12abbd2576c03b77ab00b9025f646e3"></a><!-- doxytag: member="sequence.c::fc_changeSequenceName" ref="gb12abbd2576c03b77ab00b9025f646e3" args="(FC_Sequence sequence, char *newName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_changeSequenceName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the name of a sequence. 
<p>
<b>Modifications:</b> <ul>
<li>8/24/2005 WSD. Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - the sequence. </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - new name for the sequence. </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01323">1323</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.<div class="fragment"><pre class="fragment"><a name="l01326"></a>01326   {
<a name="l01327"></a>01327   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01328"></a>01328 
<a name="l01329"></a>01329   <span class="comment">// check input</span>
<a name="l01330"></a>01330   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01331"></a>01331   <span class="keywordflow">if</span> (seqSlot == NULL || newName == NULL) {
<a name="l01332"></a>01332     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01333"></a>01333     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01334"></a>01334   }
<a name="l01335"></a>01335 
<a name="l01336"></a>01336   <span class="comment">// log message</span>
<a name="l01337"></a>01337   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Changing name of sequence from '%s' to '%s'"</span>, 
<a name="l01338"></a>01338                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, newName);
<a name="l01339"></a>01339   
<a name="l01340"></a>01340   <span class="comment">// Do it</span>
<a name="l01341"></a>01341   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g5b2da1cfdef894767314907efc02099b">_fc_setSlotHeaderName</a>(&amp;seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>, newName);
<a name="l01342"></a>01342 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf617aa03a3fa894bf69f860d90cb8ed9"></a><!-- doxytag: member="sequence.c::fc_copySequence" ref="gf617aa03a3fa894bf69f860d90cb8ed9" args="(FC_Sequence src_seq, FC_Dataset dest_ds, char *newName, FC_Sequence *new_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_copySequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>src_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>new_seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy a sequence. 
<p>
<b>Description:</b> <p>
Create a copy of a sequence, in the specified dataset, with the given name.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000057">Todo:</a></b></dt><dd>Perhaps somehow flag when the destination dataset is the same as the source dataset. Also do this for other copies. Very useful for fc_copyVariable.</dd></dl>
<b>Modifications:</b> <ul>
<li>2003-NOV-11 WSK Created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>src_seq</em>&nbsp;</td><td>
Input - the source sequence to be copied </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
Input - the destination dataset to be copied into </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new sequence, a NULL value is a flag to use the name of the source sequence </td></tr>
<tr><td valign="top"><em>new_seq</em>&nbsp;</td><td>
Output - handle to the new sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00309">309</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="sequence_8c-source.html#l00182">fc_setSequenceCoords()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l00315"></a>00315   { 
<a name="l00316"></a>00316   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00317"></a>00317   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00318"></a>00318   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* src_seqSlot;
<a name="l00319"></a>00319   <span class="keywordtype">int</span> numStep;
<a name="l00320"></a>00320   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType;
<a name="l00321"></a>00321   <span class="keywordtype">void</span>* coords;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323   <span class="comment">// default return</span>
<a name="l00324"></a>00324   <span class="keywordflow">if</span> (new_seq)
<a name="l00325"></a>00325     *new_seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00326"></a>00326 
<a name="l00327"></a>00327   <span class="comment">// check input</span>
<a name="l00328"></a>00328   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dest_ds);
<a name="l00329"></a>00329   src_seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(src_seq);
<a name="l00330"></a>00330   <span class="keywordflow">if</span> (dest_dsSlot == NULL || src_seqSlot == NULL || new_seq == NULL) {
<a name="l00331"></a>00331     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00332"></a>00332     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00333"></a>00333   }
<a name="l00334"></a>00334 
<a name="l00335"></a>00335   <span class="comment">// test for NULL name</span>
<a name="l00336"></a>00336   <span class="keywordflow">if</span> (newName == NULL)
<a name="l00337"></a>00337     newName = src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339   <span class="comment">// log message</span>
<a name="l00340"></a>00340   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Copying sequence '%s' to '%s'"</span>, 
<a name="l00341"></a>00341                       src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, newName);
<a name="l00342"></a>00342 
<a name="l00343"></a>00343   <span class="comment">// get src data</span>
<a name="l00344"></a>00344   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(src_seq, &amp;numStep, &amp;dataType);
<a name="l00345"></a>00345   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00346"></a>00346     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for sequence '%s'"</span>,
<a name="l00347"></a>00347                           src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00348"></a>00348     <span class="keywordflow">return</span> rc;
<a name="l00349"></a>00349   }
<a name="l00350"></a>00350   rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(src_seq, &amp;coords);
<a name="l00351"></a>00351   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00352"></a>00352     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for sequence '%s'"</span>,
<a name="l00353"></a>00353                           src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00354"></a>00354     <span class="keywordflow">return</span> rc;
<a name="l00355"></a>00355   }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357   <span class="comment">// create new sequence </span>
<a name="l00358"></a>00358   rc = <a class="code" href="group__Sequence.html#g7f88e0eb0db536a4d213c003a0ab798c">fc_createSequence</a>(dest_ds, newName, new_seq);
<a name="l00359"></a>00359   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00360"></a>00360     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create sequence '%s'"</span>, newName);
<a name="l00361"></a>00361     <span class="keywordflow">return</span> rc;
<a name="l00362"></a>00362   }
<a name="l00363"></a>00363   rc = <a class="code" href="group__Sequence.html#g159398af1c86b8385325088c6c73a5db">fc_setSequenceCoords</a>(*new_seq, numStep, dataType, coords);
<a name="l00364"></a>00364   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00365"></a>00365     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to set coords for sequence '%s'"</span>, newName);
<a name="l00366"></a>00366     <span class="keywordflow">return</span> rc;
<a name="l00367"></a>00367   }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369   <span class="keywordflow">return</span> rc;
<a name="l00370"></a>00370 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g535f2ffd8fd4810bc4ef81fa3ce63951"></a><!-- doxytag: member="sequence.c::fc_createIntersectingRangeRegularSequence" ref="g535f2ffd8fd4810bc4ef81fa3ce63951" args="(int numseqs, FC_Sequence *seqs, double seqmin, double seqmax, char *seqName, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createIntersectingRangeRegularSequence           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numseqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>seqmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>seqmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range. 
<p>
<b>Description:</b> <p>
Given an array of sequences on the same dataset, and new bounds, creates a new regularly spaced sequence whose range is that of the given bounds and whose number of steps is the max number of steps that the input sequences have on that range. This is similar to fc_getIntersectingReqularSequence with input parameter numStep = 0, but where the range is specified, rather than the entire overlapping range.<p>
Input sequences must be numerical, but dont have to be same datatype. Input sequences must be monotonically increasing. New seq data type is FC_DT_DOUBLE. The bounds must be included within every input sequence.<p>
This routine is often used as a companion function to functions in the timeseries module. This function creates a common sequence for two or more sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000061">Todo:</a></b></dt><dd>see if can combine this with rc_getIntersectingRegularSequence</dd></dl>
<b>Modifications:</b> <ul>
<li>6/27/05 ACG created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numseqs</em>&nbsp;</td><td>
input - num of seqs in orig sequence array </td></tr>
<tr><td valign="top"><em>seqs</em>&nbsp;</td><td>
input - orig sequence array </td></tr>
<tr><td valign="top"><em>seqmin</em>&nbsp;</td><td>
input - min val for new sequence </td></tr>
<tr><td valign="top"><em>seqmax</em>&nbsp;</td><td>
input - max val for new sequence </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of created sequence </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00922">922</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00560">fc_createRegularSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01558">fc_getDatasetFromSequence()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01493">fc_isSequenceValid()</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.<div class="fragment"><pre class="fragment"><a name="l00929"></a>00929    {
<a name="l00930"></a>00930 
<a name="l00931"></a>00931   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00932"></a>00932   <a class="code" href="structFC__Dataset.html">FC_Dataset</a> dset, dsetcomp;
<a name="l00933"></a>00933   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l00934"></a>00934   <span class="keywordtype">double</span> closemintime, closemaxtime, timespacing;
<a name="l00935"></a>00935   <span class="keywordtype">int</span> closeminindex, closemaxindex;
<a name="l00936"></a>00936   <span class="keywordtype">void</span> *data;
<a name="l00937"></a>00937   <span class="keywordtype">int</span> numStep, holdnpts;
<a name="l00938"></a>00938   <span class="keywordtype">int</span> mono;
<a name="l00939"></a>00939   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> datatype;
<a name="l00940"></a>00940   <span class="keywordtype">int</span> i;
<a name="l00941"></a>00941 
<a name="l00942"></a>00942   <span class="keywordflow">if</span> (seq)
<a name="l00943"></a>00943     *seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00944"></a>00944 
<a name="l00945"></a>00945   <span class="keywordflow">if</span> (!seqName || !seq || seqmin &gt; seqmax || numseqs &lt; 1 || !seqs){
<a name="l00946"></a>00946     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00947"></a>00947     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00948"></a>00948   }
<a name="l00949"></a>00949 
<a name="l00950"></a>00950 
<a name="l00951"></a>00951   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating Intersecting Range regular sequence"</span>);
<a name="l00952"></a>00952 
<a name="l00953"></a>00953   <span class="comment">//checks</span>
<a name="l00954"></a>00954 
<a name="l00955"></a>00955   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a>(seqs[0])){
<a name="l00956"></a>00956     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00957"></a>00957     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00958"></a>00958   };
<a name="l00959"></a>00959 
<a name="l00960"></a>00960   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(seqs[0], &amp;numStep,&amp;datatype);
<a name="l00961"></a>00961   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00962"></a>00962     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00963"></a>00963     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00964"></a>00964   }
<a name="l00965"></a>00965 
<a name="l00966"></a>00966   <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00967"></a>00967       datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>){
<a name="l00968"></a>00968     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00969"></a>00969     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00970"></a>00970   }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972   rc = <a class="code" href="group__Sequence.html#g0d5aeb42aa45e10bd2313d3795c207e2">fc_getDatasetFromSequence</a> (seqs[0], &amp;dset);
<a name="l00973"></a>00973   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00974"></a>00974     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00975"></a>00975     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00976"></a>00976   }
<a name="l00977"></a>00977 
<a name="l00978"></a>00978   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dset);
<a name="l00979"></a>00979   <span class="keywordflow">if</span> (dsSlot == NULL){
<a name="l00980"></a>00980     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00981"></a>00981     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00982"></a>00982   }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984 
<a name="l00985"></a>00985   rc = <a class="code" href="group__Statistics.html#g1fbf24377585d3541cc09da8542d5779">fc_getSequenceMinMaxMono</a>(seqs[0],NULL,NULL,
<a name="l00986"></a>00986                                 NULL,NULL,&amp;mono);
<a name="l00987"></a>00987   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00988"></a>00988     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l00989"></a>00989     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00990"></a>00990   }
<a name="l00991"></a>00991 
<a name="l00992"></a>00992   <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l00993"></a>00993     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l00994"></a>00994     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00995"></a>00995   }
<a name="l00996"></a>00996 
<a name="l00997"></a>00997   <span class="keywordflow">for</span> (i= 1; i &lt; numseqs; i++){
<a name="l00998"></a>00998     <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a>(seqs[i])){
<a name="l00999"></a>00999       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01000"></a>01000       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01001"></a>01001     }
<a name="l01002"></a>01002     rc = <a class="code" href="group__Sequence.html#g0d5aeb42aa45e10bd2313d3795c207e2">fc_getDatasetFromSequence</a> (seqs[i], &amp;dsetcomp);
<a name="l01003"></a>01003     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01004"></a>01004       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l01005"></a>01005       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01006"></a>01006     }
<a name="l01007"></a>01007     
<a name="l01008"></a>01008     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dset,dsetcomp)){
<a name="l01009"></a>01009       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Input sequences not on same dataset"</span>);
<a name="l01010"></a>01010       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01011"></a>01011     } 
<a name="l01012"></a>01012 
<a name="l01013"></a>01013     rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(seqs[i], &amp;numStep,&amp;datatype);
<a name="l01014"></a>01014     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01015"></a>01015       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l01016"></a>01016       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01017"></a>01017     }
<a name="l01018"></a>01018 
<a name="l01019"></a>01019     <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a> &amp;&amp;
<a name="l01020"></a>01020         datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>){
<a name="l01021"></a>01021       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l01022"></a>01022       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01023"></a>01023     }
<a name="l01024"></a>01024 
<a name="l01025"></a>01025     rc = <a class="code" href="group__Statistics.html#g1fbf24377585d3541cc09da8542d5779">fc_getSequenceMinMaxMono</a>(seqs[i],NULL,NULL,
<a name="l01026"></a>01026                                   NULL,NULL,&amp;mono);
<a name="l01027"></a>01027     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01028"></a>01028       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l01029"></a>01029       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01030"></a>01030     }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032     <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l01033"></a>01033       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l01034"></a>01034       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01035"></a>01035     }
<a name="l01036"></a>01036   }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038   <span class="comment">//finally ok </span>
<a name="l01039"></a>01039 
<a name="l01040"></a>01040   <span class="comment">// now get npts and make sure bounds are valid for all exisitng seqs</span>
<a name="l01041"></a>01041   <span class="comment">// know all are monotonically increasing</span>
<a name="l01042"></a>01042   holdnpts = -1;
<a name="l01043"></a>01043   <span class="keywordflow">for</span> (i= 0 ; i &lt; numseqs; i++){
<a name="l01044"></a>01044     <span class="keywordtype">int</span> npts;
<a name="l01045"></a>01045     rc = <a class="code" href="group__Statistics.html#g60667e4d4f4d9643025ee491117c3227">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&lt;="</span>,seqmin,&amp;closemintime,
<a name="l01046"></a>01046                                     &amp;closeminindex);
<a name="l01047"></a>01047     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01048"></a>01048       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l01049"></a>01049       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01050"></a>01050     }
<a name="l01051"></a>01051 
<a name="l01052"></a>01052     <span class="keywordflow">if</span> (closeminindex == -1){
<a name="l01053"></a>01053       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"seqmin is out of bounds for input sequence"</span>);
<a name="l01054"></a>01054       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01055"></a>01055     }
<a name="l01056"></a>01056 
<a name="l01057"></a>01057     rc = <a class="code" href="group__Statistics.html#g60667e4d4f4d9643025ee491117c3227">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&gt;="</span>,seqmax,&amp;closemaxtime,
<a name="l01058"></a>01058                                     &amp;closemaxindex);
<a name="l01059"></a>01059     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01060"></a>01060       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l01061"></a>01061       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01062"></a>01062     }
<a name="l01063"></a>01063 
<a name="l01064"></a>01064     <span class="keywordflow">if</span> (closemaxindex == -1){
<a name="l01065"></a>01065       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"seqmax is out of bounds for input sequence"</span>);
<a name="l01066"></a>01066       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01067"></a>01067     }
<a name="l01068"></a>01068         
<a name="l01069"></a>01069     npts = closemaxindex-closeminindex+1;
<a name="l01070"></a>01070     <span class="keywordflow">if</span> (holdnpts == -1 || npts &gt; holdnpts){
<a name="l01071"></a>01071       holdnpts = npts;
<a name="l01072"></a>01072     }
<a name="l01073"></a>01073   }
<a name="l01074"></a>01074   numStep = holdnpts;
<a name="l01075"></a>01075   <span class="comment">//now have valid range and numpts</span>
<a name="l01076"></a>01076 
<a name="l01077"></a>01077   <span class="comment">/*</span>
<a name="l01078"></a>01078 <span class="comment">  if (numStep == 1 &amp;&amp; !FC_DBL_EQUIV(seqmax,seqmin)){</span>
<a name="l01079"></a>01079 <span class="comment">    //got a problem</span>
<a name="l01080"></a>01080 <span class="comment">    fc_printfErrorMessage("DEVELOEPR ERROR _ HOW CAN THIS BE ?");</span>
<a name="l01081"></a>01081 <span class="comment">    printf("DEVELOEPR ERROR _ HOW CAN THIS BE ?");</span>
<a name="l01082"></a>01082 <span class="comment">    return FC_ERROR;</span>
<a name="l01083"></a>01083 <span class="comment">  }</span>
<a name="l01084"></a>01084 <span class="comment">  */</span>
<a name="l01085"></a>01085 
<a name="l01086"></a>01086   <span class="comment">//check for zero range sequences</span>
<a name="l01087"></a>01087   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(seqmax,seqmin)){
<a name="l01088"></a>01088     <span class="comment">//its realy a single pt sequence</span>
<a name="l01089"></a>01089     numStep = 1;
<a name="l01090"></a>01090     timespacing = 0.0; <span class="comment">//actually this value doesnt matter</span>
<a name="l01091"></a>01091   } <span class="keywordflow">else</span> {
<a name="l01092"></a>01092     timespacing= (seqmax-seqmin)/((<span class="keywordtype">double</span>)numStep-1);
<a name="l01093"></a>01093   }
<a name="l01094"></a>01094 
<a name="l01095"></a>01095   rc = <a class="code" href="group__Sequence.html#g0a6fa289f8f326c29121f043d45059ae">fc_createRegularSequence</a>(dset,numStep,seqmin, timespacing,
<a name="l01096"></a>01096                                   seqName, seq);
<a name="l01097"></a>01097   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01098"></a>01098     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to create reg sequence"</span>);
<a name="l01099"></a>01099     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01100"></a>01100   }
<a name="l01101"></a>01101   
<a name="l01102"></a>01102   <span class="comment">//just in case there are some roundoff issues, lets explicitly set that</span>
<a name="l01103"></a>01103   <span class="comment">//last point to the seqmax. (this wont be thread safe since playing </span>
<a name="l01104"></a>01104   <span class="comment">//with the value thats the return val, but i dont think thats a big issue</span>
<a name="l01105"></a>01105   <span class="comment">//right now</span>
<a name="l01106"></a>01106   rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(*seq, &amp;data);
<a name="l01107"></a>01107   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l01108"></a>01108     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq data"</span>);
<a name="l01109"></a>01109   }<span class="keywordflow">else</span> {
<a name="l01110"></a>01110     ((<span class="keywordtype">double</span>*)data)[numStep-1] = seqmax;
<a name="l01111"></a>01111   }
<a name="l01112"></a>01112 
<a name="l01113"></a>01113   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01114"></a>01114 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gbcd143b93a0040e056b5cfd5c10aff4b"></a><!-- doxytag: member="sequence.c::fc_createIntersectingRegularSequence" ref="gbcd143b93a0040e056b5cfd5c10aff4b" args="(int numseqs, FC_Sequence *seqs, int numStep, char *seqName, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createIntersectingRegularSequence           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numseqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences. 
<p>
<b>Description:</b> <p>
Given an array of sequences on the same dataset, creates a new regularly spaced sequence whose range is the intersection of the sequences. Input sequences must be numerical, but dont have to be same datatype. Input sequences must be monotonically increasing. New seq data type is FC_DT_DOUBLE. Seq is null if no valid range. If numStep == 0, then it returns a sequence with the greatest number of steps that an input sequence has on that range.<p>
This routine is often used as a companion function to functions in the timeseries module. This function creates a common sequence for two or more sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000060">Todo:</a></b></dt><dd>see if can combine this with rc_getIntersectingRangeRegularSequence</dd></dl>
<b>Modifications:</b> <ul>
<li>4/25/05 ACG created.</li><li>4/27/05 ACG better handling of single data point sequences</li><li>4/28/05 ACG explicitly set last point of seq to timemax to avoid roundoff issues as a result of createRegularSequence being based on stepsize rather than range. if we make a another version of createRegularSequence that is based on ranage, then use that version here.</li><li>5/13/05 ACG works for non-monotonic sequences so that can use this to check for any overlap to begin with. of course if you are going to map a seq var onto a new seq that was calculated by this method, then the seqvar will have to be made into a monotonic seq to before the interpolation. This change utilizes the new stats function fc_getSequenceMinMaxMonotonicity.</li><li>5/16/05 ACG making this so has to be monotonically increasing. this makes things easier for doing the automatic numsteps option.</li><li>5/17/05 ACG added default case of numStep == 0 returns max number of steps that the input sequences have on that range. in this way you dont lose any resolution that an input sequence has (well, you kind of do if it wasnt regularly spaced to begin with) and you wont gain any when you do a linear interpolation over the new sequence becuase its just more points over what was a linear segment in the original resolution anyway.</li><li>6/27/05 ACG updated to use new getClosestSequenceValue </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numseqs</em>&nbsp;</td><td>
input - num of seqs in orig sequence array </td></tr>
<tr><td valign="top"><em>seqs</em>&nbsp;</td><td>
input - orig sequence array </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numstep in created seq </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of created sequence </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00675">675</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00560">fc_createRegularSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01558">fc_getDatasetFromSequence()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01493">fc_isSequenceValid()</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.<div class="fragment"><pre class="fragment"><a name="l00681"></a>00681    {
<a name="l00682"></a>00682 
<a name="l00683"></a>00683   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00684"></a>00684   <a class="code" href="structFC__Dataset.html">FC_Dataset</a> dset, dsetcomp;
<a name="l00685"></a>00685   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l00686"></a>00686   <span class="keywordtype">double</span> timemin, timemincomp, timemax, timemaxcomp, timespacing;
<a name="l00687"></a>00687   <span class="keywordtype">void</span> *data;
<a name="l00688"></a>00688   <span class="keywordtype">int</span> nstep;
<a name="l00689"></a>00689   <span class="keywordtype">int</span> mono,monocomp;
<a name="l00690"></a>00690   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> datatype;
<a name="l00691"></a>00691   <span class="keywordtype">int</span> i;
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 
<a name="l00694"></a>00694   <span class="keywordflow">if</span> (seq)
<a name="l00695"></a>00695     *seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00696"></a>00696 
<a name="l00697"></a>00697   <span class="keywordflow">if</span> (!seqName || !seq || numStep &lt; 0 || numseqs &lt; 1 || !seqs){
<a name="l00698"></a>00698     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00699"></a>00699     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00700"></a>00700   }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating Intersecting regular sequence"</span>);
<a name="l00703"></a>00703 
<a name="l00704"></a>00704   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a>(seqs[0])){
<a name="l00705"></a>00705     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00706"></a>00706     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00707"></a>00707   }
<a name="l00708"></a>00708 
<a name="l00709"></a>00709   rc = <a class="code" href="group__Sequence.html#g0d5aeb42aa45e10bd2313d3795c207e2">fc_getDatasetFromSequence</a> (seqs[0], &amp;dset);
<a name="l00710"></a>00710   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00711"></a>00711     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00712"></a>00712     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00713"></a>00713   }
<a name="l00714"></a>00714 
<a name="l00715"></a>00715   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dset);
<a name="l00716"></a>00716   <span class="keywordflow">if</span> (dsSlot == NULL){
<a name="l00717"></a>00717     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00718"></a>00718     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720 
<a name="l00721"></a>00721   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(seqs[0], &amp;nstep,&amp;datatype);
<a name="l00722"></a>00722   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00723"></a>00723     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00724"></a>00724     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00725"></a>00725   }
<a name="l00726"></a>00726 
<a name="l00727"></a>00727   <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00728"></a>00728       datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>){
<a name="l00729"></a>00729     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00730"></a>00730     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00731"></a>00731   }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733   <span class="keywordflow">for</span> (i= 1; i &lt; numseqs; i++){
<a name="l00734"></a>00734     <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a>(seqs[i])){
<a name="l00735"></a>00735       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00736"></a>00736       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00737"></a>00737     }
<a name="l00738"></a>00738     rc = <a class="code" href="group__Sequence.html#g0d5aeb42aa45e10bd2313d3795c207e2">fc_getDatasetFromSequence</a> (seqs[i], &amp;dsetcomp);
<a name="l00739"></a>00739     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00740"></a>00740       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Cannot get dataset from sequence"</span>);
<a name="l00741"></a>00741       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00742"></a>00742     }
<a name="l00743"></a>00743     
<a name="l00744"></a>00744     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dset,dsetcomp)){
<a name="l00745"></a>00745       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Input sequences not on same dataset"</span>);
<a name="l00746"></a>00746       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00747"></a>00747     } 
<a name="l00748"></a>00748 
<a name="l00749"></a>00749     rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(seqs[i], &amp;nstep,&amp;datatype);
<a name="l00750"></a>00750     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00751"></a>00751       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq info"</span>);
<a name="l00752"></a>00752       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00753"></a>00753     }
<a name="l00754"></a>00754 
<a name="l00755"></a>00755     <span class="keywordflow">if</span> (datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a> &amp;&amp; datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a> &amp;&amp;
<a name="l00756"></a>00756         datatype != <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>){
<a name="l00757"></a>00757       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Invalid sequence datatype"</span>);
<a name="l00758"></a>00758       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00759"></a>00759     }
<a name="l00760"></a>00760   }
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 
<a name="l00763"></a>00763   rc = <a class="code" href="group__Statistics.html#g1fbf24377585d3541cc09da8542d5779">fc_getSequenceMinMaxMono</a>(seqs[0],&amp;timemin,NULL,
<a name="l00764"></a>00764                                 &amp;timemax,NULL,&amp;mono);
<a name="l00765"></a>00765   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00766"></a>00766     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l00767"></a>00767     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00768"></a>00768   }
<a name="l00769"></a>00769 
<a name="l00770"></a>00770   <span class="keywordflow">if</span> (mono != 1 &amp;&amp; mono != 2){
<a name="l00771"></a>00771     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this sequence"</span>);
<a name="l00772"></a>00772     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00773"></a>00773   }
<a name="l00774"></a>00774 
<a name="l00775"></a>00775 
<a name="l00776"></a>00776   <span class="keywordflow">for</span> (i = 1; i &lt; numseqs; i++){
<a name="l00777"></a>00777     rc = <a class="code" href="group__Statistics.html#g1fbf24377585d3541cc09da8542d5779">fc_getSequenceMinMaxMono</a>(seqs[i],&amp;timemincomp,NULL,
<a name="l00778"></a>00778                                   &amp;timemaxcomp,NULL,&amp;monocomp);
<a name="l00779"></a>00779     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00780"></a>00780       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get minmax of sequence"</span>);
<a name="l00781"></a>00781       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 
<a name="l00784"></a>00784 
<a name="l00785"></a>00785     <span class="comment">//leaving this construction in case switch to allowing decreasing later</span>
<a name="l00786"></a>00786     <span class="keywordflow">if</span> (!(monocomp == 1 || monocomp ==2)){ <span class="comment">//increasing or single point</span>
<a name="l00787"></a>00787       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"invalid monotonicity for this call"</span>);
<a name="l00788"></a>00788       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00789"></a>00789     } <span class="keywordflow">else</span> {
<a name="l00790"></a>00790       <span class="keywordflow">if</span> (mono == 2){
<a name="l00791"></a>00791         <span class="comment">//its gotta be single point sequence</span>
<a name="l00792"></a>00792         mono = monocomp;
<a name="l00793"></a>00793       }
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796     <span class="comment">//want narrowest bounds</span>
<a name="l00797"></a>00797     <span class="keywordflow">if</span> (timemincomp &gt; timemin) timemin= timemincomp;
<a name="l00798"></a>00798     <span class="keywordflow">if</span> (timemaxcomp &lt; timemax) timemax= timemaxcomp;
<a name="l00799"></a>00799 
<a name="l00800"></a>00800     <span class="keywordflow">if</span> (timemin &gt; timemax){
<a name="l00801"></a>00801       <span class="comment">//no interesecting bounds - bad input set, but dont want to error</span>
<a name="l00802"></a>00802       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"no intersecting range"</span>);
<a name="l00803"></a>00803       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00804"></a>00804     }
<a name="l00805"></a>00805   }
<a name="l00806"></a>00806 
<a name="l00807"></a>00807   <span class="comment">//now have valid range</span>
<a name="l00808"></a>00808   
<a name="l00809"></a>00809   <span class="comment">//if numStep == 0 need to calc numStep</span>
<a name="l00810"></a>00810   <span class="keywordflow">if</span> (numStep == 0){
<a name="l00811"></a>00811     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(timemax,timemin)){
<a name="l00812"></a>00812       numStep = 1; <span class="comment">//just make single point sequence</span>
<a name="l00813"></a>00813     } <span class="keywordflow">else</span> {
<a name="l00814"></a>00814       <span class="keywordtype">double</span> closemintime, closemaxtime;
<a name="l00815"></a>00815       <span class="keywordtype">int</span> closeminindex, closemaxindex;
<a name="l00816"></a>00816       <span class="keywordtype">int</span> npts;
<a name="l00817"></a>00817       <span class="keywordtype">int</span> holdnpts = -1;
<a name="l00818"></a>00818 
<a name="l00819"></a>00819       <span class="keywordflow">for</span> (i = 0; i &lt; numseqs; i++){
<a name="l00820"></a>00820         rc = <a class="code" href="group__Statistics.html#g60667e4d4f4d9643025ee491117c3227">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&lt;="</span>,timemin,&amp;closemintime,
<a name="l00821"></a>00821                                         &amp;closeminindex);
<a name="l00822"></a>00822         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00823"></a>00823           <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l00824"></a>00824           <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00825"></a>00825         }
<a name="l00826"></a>00826         rc = <a class="code" href="group__Statistics.html#g60667e4d4f4d9643025ee491117c3227">fc_getClosestSequenceValue</a>(seqs[i],<span class="stringliteral">"&gt;="</span>,timemax,&amp;closemaxtime,
<a name="l00827"></a>00827                                         &amp;closemaxindex);
<a name="l00828"></a>00828         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00829"></a>00829           <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get closest seq val"</span>);
<a name="l00830"></a>00830           <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00831"></a>00831         }
<a name="l00832"></a>00832         
<a name="l00833"></a>00833         <span class="comment">//know its monotonically increasing</span>
<a name="l00834"></a>00834         npts = closemaxindex-closeminindex+1;
<a name="l00835"></a>00835         <span class="keywordflow">if</span> (holdnpts == -1 || npts &gt; holdnpts){
<a name="l00836"></a>00836           holdnpts = npts;
<a name="l00837"></a>00837         }
<a name="l00838"></a>00838       }
<a name="l00839"></a>00839       numStep = holdnpts;
<a name="l00840"></a>00840     }
<a name="l00841"></a>00841   }
<a name="l00842"></a>00842 
<a name="l00843"></a>00843 
<a name="l00844"></a>00844   <span class="comment">//check for zero range sequences</span>
<a name="l00845"></a>00845   <span class="keywordflow">if</span> (numStep == 1){
<a name="l00846"></a>00846     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(timemax,timemin)){
<a name="l00847"></a>00847       <span class="comment">//good - createRegularsequence should just return the single</span>
<a name="l00848"></a>00848       <span class="comment">//data point</span>
<a name="l00849"></a>00849       timespacing = 0.0; <span class="comment">//actually this value doesnt matter</span>
<a name="l00850"></a>00850     } <span class="keywordflow">else</span> {
<a name="l00851"></a>00851       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"cant have nonzero range with only one data point"</span>);
<a name="l00852"></a>00852       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00853"></a>00853     }
<a name="l00854"></a>00854   } <span class="keywordflow">else</span> {
<a name="l00855"></a>00855     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(timemin,timemax)){
<a name="l00856"></a>00856       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"cant have zero range with more than one data point"</span>);
<a name="l00857"></a>00857       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00858"></a>00858     } <span class="keywordflow">else</span> {
<a name="l00859"></a>00859       <span class="comment">//good</span>
<a name="l00860"></a>00860       timespacing= (timemax-timemin)/((<span class="keywordtype">double</span>)numStep-1);
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862   }
<a name="l00863"></a>00863   <span class="comment">//printf("new seq: tmin %10g tmax %10g spacing %10g\n",timemin, timemax,</span>
<a name="l00864"></a>00864   <span class="comment">//timespacing);</span>
<a name="l00865"></a>00865   rc = <a class="code" href="group__Sequence.html#g0a6fa289f8f326c29121f043d45059ae">fc_createRegularSequence</a>(dset,numStep,timemin, timespacing,
<a name="l00866"></a>00866                                   seqName, seq);
<a name="l00867"></a>00867   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00868"></a>00868     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to create reg sequence"</span>);
<a name="l00869"></a>00869     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00870"></a>00870   }
<a name="l00871"></a>00871   
<a name="l00872"></a>00872   <span class="comment">//just in case there are some roundoff issues, lets explicitly set that</span>
<a name="l00873"></a>00873   <span class="comment">//last point to the timemax. (this wont be thread safe since playing </span>
<a name="l00874"></a>00874   <span class="comment">//with the value thats the return val, but i dont think thats a big issue</span>
<a name="l00875"></a>00875   <span class="comment">//right now</span>
<a name="l00876"></a>00876   rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(*seq, &amp;data);
<a name="l00877"></a>00877   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00878"></a>00878     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"failed to get seq data"</span>);
<a name="l00879"></a>00879   }<span class="keywordflow">else</span> {
<a name="l00880"></a>00880     ((<span class="keywordtype">double</span>*)data)[numStep-1] = timemax;
<a name="l00881"></a>00881   }
<a name="l00882"></a>00882 
<a name="l00883"></a>00883   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00884"></a>00884 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0a6fa289f8f326c29121f043d45059ae"></a><!-- doxytag: member="sequence.c::fc_createRegularSequence" ref="g0a6fa289f8f326c29121f043d45059ae" args="(FC_Dataset dset, int numStep, double offset, double stepsize, char *seq_name, FC_Sequence *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createRegularSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>stepsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seq_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a sequence of specified length, starting at a given val with subsequent vals spaced by given stepsize. 
<p>
<b>Description:</b> <p>
Creates a sequence of specified with starting at a given val with subsequent vals spaced by given stepsize. Stepsize cannot = 0 unless it requesting a single stepsize sequence. If want a single stepsize sequence the spacing requested doesnt matter.<p>
Return seq data type is FC_DT_DOUBLE.<p>
This routine is often used as a companion function to functions in the timeseries module. This function can be used to create a common sequence for two sequence variables. The old variables can be put on the new sequence using fc_LinearInterpolation and then used in the comparison routines in the timeseries module.<p>
This is also is a companion function to the private function _fc_createSeqVariableFromRegularVariable in the timeseries module used in some test modules.In this way 2 sequence variables can be created from 2 different multi-datapoint variables and used in the comparison routines in the timeseries module, since they will be on the same sequence.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000059">Todo:</a></b></dt><dd>should there be another version where you set the bounds rather than the stepsize to avoid roundoff issues ?</dd></dl>
<b>Modifications:</b> <ul>
<li>2/2/05 ACG, created from being split out from fc_createSeqvariableFromVariable</li><li>2/10/05 ACG changed so takes an offset and a step size.</li><li>2/10/05 ACG moved to private becuase thats where the companion functions _fc_createSeqVariableFromRegularVariable is. This may be useful and perhaps put in Sequence module, on the other hand its sufficiently short that maybe it cannot justify its existence.</li><li>4/12/05 ACG and now we need it for comparing variables on different sequences.</li><li>4/21/05 ACG moved it here from its previous home in timeseries.</li><li>4/27/05 ACG better handling of single data point sequences </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dset</em>&nbsp;</td><td>
input - dataset for the sequence </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - numstep in created seq </td></tr>
<tr><td valign="top"><em>offset</em>&nbsp;</td><td>
initial val in the sequence </td></tr>
<tr><td valign="top"><em>stepsize</em>&nbsp;</td><td>
spacing of the sequence </td></tr>
<tr><td valign="top"><em>seq_name</em>&nbsp;</td><td>
input - name of the new sequence that will be created </td></tr>
<tr><td valign="top"><em>seq</em>&nbsp;</td><td>
output - handle to the new sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00560">560</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="sequence_8c-source.html#l01415">fc_deleteSequence()</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="sequence_8c-source.html#l00182">fc_setSequenceCoords()</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="sequence_8c-source.html#l00922">fc_createIntersectingRangeRegularSequence()</a>, and <a class="el" href="sequence_8c-source.html#l00675">fc_createIntersectingRegularSequence()</a>.<div class="fragment"><pre class="fragment"><a name="l00567"></a>00567  {
<a name="l00568"></a>00568 
<a name="l00569"></a>00569   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00570"></a>00570   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l00571"></a>00571   <span class="keywordtype">double</span> *times;
<a name="l00572"></a>00572   <span class="keywordtype">int</span> k;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574 
<a name="l00575"></a>00575   <span class="comment">// default return</span>
<a name="l00576"></a>00576   <span class="keywordflow">if</span> (seq)
<a name="l00577"></a>00577     *seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00578"></a>00578 
<a name="l00579"></a>00579   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dset);
<a name="l00580"></a>00580   <span class="keywordflow">if</span> (dsSlot == NULL || !seq_name || !seq || numStep &lt; 1){
<a name="l00581"></a>00581     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00582"></a>00582     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00583"></a>00583   }
<a name="l00584"></a>00584 
<a name="l00585"></a>00585   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(stepsize,0.0) &amp;&amp; numStep != 1){
<a name="l00586"></a>00586     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"cant ask for more than 1 step but zero step size"</span>);
<a name="l00587"></a>00587     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00588"></a>00588   }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating regular sequence"</span>);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592   rc = <a class="code" href="group__Sequence.html#g7f88e0eb0db536a4d213c003a0ab798c">fc_createSequence</a>(dset,seq_name,seq);
<a name="l00593"></a>00593   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00594"></a>00594     <a class="code" href="group__Sequence.html#gf23403070ab8aa0a4d172f3cc0293754">fc_deleteSequence</a>(*seq);
<a name="l00595"></a>00595     *seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00596"></a>00596     <span class="keywordflow">return</span> rc;
<a name="l00597"></a>00597   }
<a name="l00598"></a>00598 
<a name="l00599"></a>00599 
<a name="l00600"></a>00600   times = (<span class="keywordtype">double</span>*)malloc(numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00601"></a>00601   times[0] = offset;
<a name="l00602"></a>00602   <span class="keywordflow">for</span> (k = 1; k &lt; numStep; k++){
<a name="l00603"></a>00603     times[k] = times[k-1]+stepsize;
<a name="l00604"></a>00604   }
<a name="l00605"></a>00605       
<a name="l00606"></a>00606   rc = <a class="code" href="group__Sequence.html#g159398af1c86b8385325088c6c73a5db">fc_setSequenceCoords</a>(*seq,numStep,<a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>,times);
<a name="l00607"></a>00607   free(times);
<a name="l00608"></a>00608   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00609"></a>00609     <a class="code" href="group__Sequence.html#gf23403070ab8aa0a4d172f3cc0293754">fc_deleteSequence</a>(*seq);
<a name="l00610"></a>00610     *seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00611"></a>00611     <span class="keywordflow">return</span> rc;
<a name="l00612"></a>00612   }
<a name="l00613"></a>00613 
<a name="l00614"></a>00614   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00615"></a>00615 
<a name="l00616"></a>00616 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g7f88e0eb0db536a4d213c003a0ab798c"></a><!-- doxytag: member="sequence.c::fc_createSequence" ref="g7f88e0eb0db536a4d213c003a0ab798c" args="(FC_Dataset dataset, char *seqname, FC_Sequence *sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>sequence</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new sequence. 
<p>
<b>Description:</b> <p>
Create a new, in-memory, sequence.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset to create sequence in </td></tr>
<tr><td valign="top"><em>seqname</em>&nbsp;</td><td>
input - name of sequence </td></tr>
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
output - new sequence handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00113">113</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02101">_fc_getNewSeqSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.
<p>
Referenced by <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="sequence_8c-source.html#l00309">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00560">fc_createRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00402">fc_shiftAndScaleSequence()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00226">readOneData()</a>.<div class="fragment"><pre class="fragment"><a name="l00117"></a>00117   {
<a name="l00118"></a>00118   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l00119"></a>00119   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l00120"></a>00120   <span class="keywordtype">int</span> *temp_slotIDs;
<a name="l00121"></a>00121   
<a name="l00122"></a>00122   <span class="comment">// default return value</span>
<a name="l00123"></a>00123   <span class="keywordflow">if</span> (sequence)
<a name="l00124"></a>00124     *sequence = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00125"></a>00125   
<a name="l00126"></a>00126   <span class="comment">// check input</span>
<a name="l00127"></a>00127   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l00128"></a>00128   <span class="keywordflow">if</span> (dsSlot == NULL || !seqname || !sequence) {
<a name="l00129"></a>00129     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00130"></a>00130     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00131"></a>00131   }
<a name="l00132"></a>00132   
<a name="l00133"></a>00133   <span class="comment">// log message</span>
<a name="l00134"></a>00134   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new sequence '%s'"</span>, seqname);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="comment">// get an open slot</span>
<a name="l00137"></a>00137   seqSlot = <a class="code" href="group__PrivateSequence.html#g5564a4956d267de3840d4e152a83e6bc">_fc_getNewSeqSlot</a>();
<a name="l00138"></a>00138   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l00139"></a>00139     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00140"></a>00140     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00141"></a>00141   }
<a name="l00142"></a>00142   
<a name="l00143"></a>00143   <span class="comment">// table header information</span>
<a name="l00144"></a>00144   <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(*sequence, seqSlot);
<a name="l00145"></a>00145   <a class="code" href="group__PrivateTable.html#g5b2da1cfdef894767314907efc02099b">_fc_setSlotHeaderName</a>(&amp;(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>), seqname);
<a name="l00146"></a>00146   
<a name="l00147"></a>00147   <span class="comment">// set back and forth references</span>
<a name="l00148"></a>00148   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#18a1d8c4ab7c2586678334f1d225b76c">ds</a> = dataset;
<a name="l00149"></a>00149   
<a name="l00150"></a>00150   <span class="comment">// update owning dataset with info about this sequence</span>
<a name="l00151"></a>00151   temp_slotIDs = realloc(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a> + 1));
<a name="l00152"></a>00152   <span class="keywordflow">if</span> (temp_slotIDs == NULL) {
<a name="l00153"></a>00153     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00154"></a>00154     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00155"></a>00155   }
<a name="l00156"></a>00156   temp_slotIDs[dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>] = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#bcade4ee6957823bf234769051debf4d">slotID</a>;
<a name="l00157"></a>00157   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a> = temp_slotIDs;
<a name="l00158"></a>00158   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>++;
<a name="l00159"></a>00159   
<a name="l00160"></a>00160   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00161"></a>00161 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf23403070ab8aa0a4d172f3cc0293754"></a><!-- doxytag: member="sequence.c::fc_deleteSequence" ref="gf23403070ab8aa0a4d172f3cc0293754" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_deleteSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a sequence. 
<p>
<b>Description:</b> <p>
Call when this sequence is no longer needed. Deleting a NULL sequence handle is not an error, but trying to delete a sequence if any meshes have a sequence variable on it is an error. So, delete meshes before deleting sequences.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/25/03 RM, added more input checking, if sequence is FC_NULL_SEQUENCE) then do nothing and return success (issue warning if <a class="el" href="group__Library.html#gccd255e326eaf782cb41c75999d2846b">fc_getLibraryVerbosity()</a>).</li><li>12/01/03 WSK Changed so it removes an uncommitted sequence form the owning dataset's seqID list.</li><li>9/9/04 WSK changed name to delete. Changed behavior so that delete always deletes no matter whether on disk or not. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence to be deleted </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01415">1415</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05284">_fc_getMeshSlotFromID()</a>, <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="variable_8c-source.html#l05441">_fc_getVarSlotFromID()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00129">fc_printfWarningMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>.
<p>
Referenced by <a class="el" href="sequence_8c-source.html#l00560">fc_createRegularSequence()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="sequence_8c-source.html#l00402">fc_shiftAndScaleSequence()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.<div class="fragment"><pre class="fragment"><a name="l01417"></a>01417   {
<a name="l01418"></a>01418   <span class="keywordtype">int</span> i, j;
<a name="l01419"></a>01419   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01420"></a>01420   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01421"></a>01421   
<a name="l01422"></a>01422   <span class="comment">// special case: deleting a null handle is not an error</span>
<a name="l01423"></a>01423   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>)) {
<a name="l01424"></a>01424     <a class="code" href="group__Library.html#gbf7b424a5a96a9887547a6545f03e3e2">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_SEQUENCE"</span>);
<a name="l01425"></a>01425     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01426"></a>01426   }
<a name="l01427"></a>01427   
<a name="l01428"></a>01428   <span class="comment">// check input</span>
<a name="l01429"></a>01429   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01430"></a>01430   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01431"></a>01431     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01432"></a>01432     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01433"></a>01433   }
<a name="l01434"></a>01434   
<a name="l01435"></a>01435   <span class="comment">// log message</span>
<a name="l01436"></a>01436   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Deleting sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01437"></a>01437 
<a name="l01438"></a>01438   <span class="comment">// setup</span>
<a name="l01439"></a>01439   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#18a1d8c4ab7c2586678334f1d225b76c">ds</a>);
<a name="l01440"></a>01440 
<a name="l01441"></a>01441   <span class="comment">// special case: don't delete if any mesh has a reference to</span>
<a name="l01442"></a>01442   <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>; i++) {
<a name="l01443"></a>01443     <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot = <a class="code" href="group__PrivateMesh.html#g1b839092edb5e17b3f93338ebd4d52aa">_fc_getMeshSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[i]);
<a name="l01444"></a>01444     for (j = 0; j &lt; meshSlot-&gt;numSeqVar; j++) {
<a name="l01445"></a>01445       <a class="code" href="struct__FC__VarSlot.html">_FC_VarSlot</a>* varSlot = <a class="code" href="group__PrivateVariable.html#g67d980676a7a4cd939487a7070c68a02">_fc_getVarSlotFromID</a>(meshSlot-&gt;seqVarIDs[j][0]);
<a name="l01446"></a>01446       if (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(sequence, varSlot-&gt;sequence)) {
<a name="l01447"></a>01447         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't delete sequence '%s' because mesh '%s' "</span>
<a name="l01448"></a>01448                               <span class="stringliteral">"has a reference to it"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>,
<a name="l01449"></a>01449                               meshSlot-&gt;header.name);
<a name="l01450"></a>01450         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l01451"></a>01451       }
<a name="l01452"></a>01452     }
<a name="l01453"></a>01453   }
<a name="l01454"></a>01454   
<a name="l01455"></a>01455   <span class="comment">// remove reference from parent dataset</span>
<a name="l01456"></a>01456   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a> == 1) {
<a name="l01457"></a>01457     free(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>);
<a name="l01458"></a>01458     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a> = NULL;
<a name="l01459"></a>01459     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a> = 0;
<a name="l01460"></a>01460   }
<a name="l01461"></a>01461   <span class="keywordflow">else</span> {
<a name="l01462"></a>01462     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>; i++) {
<a name="l01463"></a>01463       <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>[i] == seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#bcade4ee6957823bf234769051debf4d">slotID</a>)
<a name="l01464"></a>01464         <span class="keywordflow">break</span>;
<a name="l01465"></a>01465     }
<a name="l01466"></a>01466     <span class="keywordflow">for</span> (j = i+1; j &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>; j++) {
<a name="l01467"></a>01467       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>[j-1] = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>[j];
<a name="l01468"></a>01468     }
<a name="l01469"></a>01469     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>--;
<a name="l01470"></a>01470   }
<a name="l01471"></a>01471 
<a name="l01472"></a>01472   <span class="comment">// clear &amp; delete slot</span>
<a name="l01473"></a>01473   <span class="keywordflow">return</span> <a class="code" href="group__PrivateSequence.html#g97acecf9b86a736b3306fd4e7334b6db">_fc_deleteSeqSlot</a>(sequence);
<a name="l01474"></a>01474 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0d5aeb42aa45e10bd2313d3795c207e2"></a><!-- doxytag: member="sequence.c::fc_getDatasetFromSequence" ref="g0d5aeb42aa45e10bd2313d3795c207e2" args="(FC_Sequence sequence, FC_Dataset *dataset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getDatasetFromSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> *&nbsp;</td>
          <td class="paramname"> <em>dataset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parent dataset of the sequence. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/25/03 RM, added default return dataset = <a class="el" href="group__Handles.html#g35df506577292042278b200ea30e9885">FC_NULL_DATASET</a></li><li>12/22/03 Rm, added checking for input/output dataset == NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
output - dataset handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01558">1558</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00763">FC_NULL_DATASET</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="variable_8c-source.html#l01665">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="sequence_8c-source.html#l00922">fc_createIntersectingRangeRegularSequence()</a>, and <a class="el" href="sequence_8c-source.html#l00675">fc_createIntersectingRegularSequence()</a>.<div class="fragment"><pre class="fragment"><a name="l01561"></a>01561   {
<a name="l01562"></a>01562   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01563"></a>01563   
<a name="l01564"></a>01564   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01565"></a>01565   <span class="keywordflow">if</span> (dataset != NULL) 
<a name="l01566"></a>01566     *dataset = <a class="code" href="group__Handles.html#g35df506577292042278b200ea30e9885">FC_NULL_DATASET</a>;
<a name="l01567"></a>01567   
<a name="l01568"></a>01568   <span class="comment">// check input</span>
<a name="l01569"></a>01569   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01570"></a>01570   <span class="keywordflow">if</span> (seqSlot == NULL || dataset == NULL) {
<a name="l01571"></a>01571     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01572"></a>01572     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01573"></a>01573   }
<a name="l01574"></a>01574   
<a name="l01575"></a>01575   <span class="comment">// log message</span>
<a name="l01576"></a>01576   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting dataset from sequence '%s'"</span>, 
<a name="l01577"></a>01577                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01578"></a>01578   
<a name="l01579"></a>01579   <span class="comment">// return requested value</span>
<a name="l01580"></a>01580   *dataset = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#18a1d8c4ab7c2586678334f1d225b76c">ds</a>;
<a name="l01581"></a>01581   
<a name="l01582"></a>01582   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01583"></a>01583 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gec577a04d60a8fe4da966ae8d6e42e3f"></a><!-- doxytag: member="sequence.c::fc_getNumSequence" ref="gec577a04d60a8fe4da966ae8d6e42e3f" args="(FC_Dataset dataset, int *numSeq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getNumSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of sequences in a dataset. 
<p>
<b>Modifications:</b> <ul>
<li>9/28/04 WSK, created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numSeq</em>&nbsp;</td><td>
output - number of sequences returned </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01190">1190</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00831">fc_printDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l01193"></a>01193   {
<a name="l01194"></a>01194   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01195"></a>01195   
<a name="l01196"></a>01196   <span class="comment">// default returns if something goes wrong</span>
<a name="l01197"></a>01197   <span class="keywordflow">if</span> (numSeq != NULL) 
<a name="l01198"></a>01198     *numSeq = -1;
<a name="l01199"></a>01199   
<a name="l01200"></a>01200   <span class="comment">// check input</span>
<a name="l01201"></a>01201   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01202"></a>01202   <span class="keywordflow">if</span> (dsSlot == NULL || numSeq == NULL) {
<a name="l01203"></a>01203     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01204"></a>01204     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01205"></a>01205   }
<a name="l01206"></a>01206   
<a name="l01207"></a>01207   <span class="comment">// log message</span>
<a name="l01208"></a>01208   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number sequences from dataset '%s'"</span>,
<a name="l01209"></a>01209                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#e4b7a27c95934413a822422c50d24f25">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01210"></a>01210   
<a name="l01211"></a>01211   <span class="comment">// get num sequences</span>
<a name="l01212"></a>01212   *numSeq = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>;
<a name="l01213"></a>01213   
<a name="l01214"></a>01214   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01215"></a>01215 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g64407cdab30b5375c9c8870de949520b"></a><!-- doxytag: member="sequence.c::fc_getSequenceByName" ref="g64407cdab30b5375c9c8870de949520b" args="(FC_Dataset dataset, char *seqName, int *numSequences, FC_Sequence **sequences)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceByName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSequences</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> **&nbsp;</td>
          <td class="paramname"> <em>sequences</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all sequences with a given name from a dataset. 
<p>
<b>Description:</b> <p>
Returns all sequences on the dataset with the specified name.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-MAY-30 W Koegler Moved getting sequence meta data from _fc_setupDsSlot() to here.</li><li>11/25/03 RM, added default return sequence = <a class="el" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a></li><li>12/01/03 WSK Changed so it removes an uncommitted sequence from the owning dataset's seqID list.</li><li>12/02/03 RM, added checking for NULL sequence</li><li>12/12/03 RM, eliminated _fc_lookup_seqSlot() and _fc_namematch(), those input checking changed and added into the body of this function</li><li>9/8/03 WSK, changed name and moved to dataset (to be next to fc_getSequences)</li><li>9/22/06 ACG returns array of matching sequences </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - handle for this dataset </td></tr>
<tr><td valign="top"><em>seqName</em>&nbsp;</td><td>
input - name of sequence to get </td></tr>
<tr><td valign="top"><em>numSequences</em>&nbsp;</td><td>
output - number of matching sequences </td></tr>
<tr><td valign="top"><em>sequences</em>&nbsp;</td><td>
output - handle for this sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01239">1239</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02158">_fc_getSeqSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, and <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>.<div class="fragment"><pre class="fragment"><a name="l01244"></a>01244   {
<a name="l01245"></a>01245   <span class="keywordtype">int</span> i;
<a name="l01246"></a>01246   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01247"></a>01247   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a> *seqSlot;
<a name="l01248"></a>01248   <a class="code" href="structFC__Sequence.html">FC_Sequence</a> sequence;
<a name="l01249"></a>01249 
<a name="l01250"></a>01250   <a class="code" href="structFC__Sequence.html">FC_Sequence</a> *lmatch = NULL;
<a name="l01251"></a>01251   <span class="keywordtype">int</span> numlmatch, maxnumlmatch;
<a name="l01252"></a>01252   
<a name="l01253"></a>01253   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01254"></a>01254   <span class="keywordflow">if</span> (numSequences)
<a name="l01255"></a>01255     *numSequences = -1;
<a name="l01256"></a>01256   <span class="keywordflow">if</span> (sequences) 
<a name="l01257"></a>01257     *sequences = NULL;
<a name="l01258"></a>01258   
<a name="l01259"></a>01259   <span class="comment">// check input</span>
<a name="l01260"></a>01260   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01261"></a>01261   <span class="keywordflow">if</span> (dsSlot == NULL || seqName == NULL || !sequences || !numSequences ) {
<a name="l01262"></a>01262     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01263"></a>01263     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01264"></a>01264   }
<a name="l01265"></a>01265   
<a name="l01266"></a>01266   <span class="comment">// log message</span>
<a name="l01267"></a>01267   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequence '%s'"</span>, seqName);
<a name="l01268"></a>01268 
<a name="l01269"></a>01269   numlmatch = 0;
<a name="l01270"></a>01270   maxnumlmatch = 0;
<a name="l01271"></a>01271   
<a name="l01272"></a>01272   <span class="comment">// look for existing slots with the matching name</span>
<a name="l01273"></a>01273   <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>; i++) {
<a name="l01274"></a>01274     seqSlot = <a class="code" href="group__PrivateSequence.html#g4e92ae75e607ffd54fbcc3d4933a93dc">_fc_getSeqSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>[i]);
<a name="l01275"></a>01275     if (!strcmp(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, seqName)) {
<a name="l01276"></a>01276       <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(sequence, seqSlot);
<a name="l01277"></a>01277 
<a name="l01278"></a>01278       <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01279"></a>01279      lmatch = (<a class="code" href="structFC__Sequence.html">FC_Sequence</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Sequence.html">FC_Sequence</a>));
<a name="l01280"></a>01280      <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01281"></a>01281        <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01282"></a>01282        <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01283"></a>01283      }
<a name="l01284"></a>01284      numlmatch = 1;
<a name="l01285"></a>01285      maxnumlmatch = 1;
<a name="l01286"></a>01286      lmatch[0] = sequence;
<a name="l01287"></a>01287       }<span class="keywordflow">else</span>{
<a name="l01288"></a>01288      <span class="keywordflow">if</span>(numlmatch == maxnumlmatch){
<a name="l01289"></a>01289        FC_Sequence *temp;
<a name="l01290"></a>01290        temp = (FC_Sequence*)realloc(lmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(FC_Sequence));
<a name="l01291"></a>01291        <span class="keywordflow">if</span> (temp == NULL){
<a name="l01292"></a>01292          <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01293"></a>01293          <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01294"></a>01294        }
<a name="l01295"></a>01295        maxnumlmatch*=2;
<a name="l01296"></a>01296        lmatch = temp;
<a name="l01297"></a>01297      }
<a name="l01298"></a>01298      lmatch[numlmatch] = sequence;
<a name="l01299"></a>01299      numlmatch++;
<a name="l01300"></a>01300       }
<a name="l01301"></a>01301     }
<a name="l01302"></a>01302   }
<a name="l01303"></a>01303 
<a name="l01304"></a>01304   *numSequences = numlmatch;
<a name="l01305"></a>01305   *sequences = lmatch;
<a name="l01306"></a>01306 
<a name="l01307"></a>01307   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01308"></a>01308 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g71cc991334f68976219fae136693ff38"></a><!-- doxytag: member="sequence.c::fc_getSequenceCoordsAsDataType" ref="g71cc991334f68976219fae136693ff38" args="(FC_Sequence sequence, FC_DataType dataType, void **coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceCoordsAsDataType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a copy of the sequence's coords as the requested data type. 
<p>
<b>Description:</b> <p>
Returns the sequence's data as the type requested by the user. The user is responsible for freeing the array. The routine casts to the requested user type so there is a potential for lost information (e.g. if you cast a floating point number to int it is truncated, not rounded).<p>
If you are worried about memory or casting, you should use <a class="el" href="group__Variable.html#g26d6dc6119ce91abb2d2b0edf17865f6">fc_getVariableDataPtr()</a> to get a pointer to the raw data array.<p>
<b>Modifications:</b> <ul>
<li>06/09/2006 WSD Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
input - the data type for the returned coords </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
output - pointer to coord array </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01782">1782</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00418">fc_getDataTypeText()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00239">fc_isDataTypeValid()</a>, <a class="el" href="sequence_8c-source.html#l01493">fc_isSequenceValid()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="base_8c-source.html#l00740">fc_sizeofDataType()</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01786"></a>01786     {
<a name="l01787"></a>01787   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l01788"></a>01788   <span class="keywordtype">int</span> i;
<a name="l01789"></a>01789   <span class="keywordtype">int</span> numStep;
<a name="l01790"></a>01790   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType_orig;
<a name="l01791"></a>01791   <span class="keywordtype">void</span>* coords_orig;
<a name="l01792"></a>01792   
<a name="l01793"></a>01793   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01794"></a>01794   <span class="keywordflow">if</span> (coords)
<a name="l01795"></a>01795     *coords = NULL;
<a name="l01796"></a>01796   
<a name="l01797"></a>01797   <span class="comment">// check input</span>
<a name="l01798"></a>01798   <span class="keywordflow">if</span> (!<a class="code" href="group__Sequence.html#gc2557da2ece780124f4ab34926436806">fc_isSequenceValid</a>(sequence) || !<a class="code" href="group__DataTypes.html#ged8b462070c0f2617ee62753bcbe2f19">fc_isDataTypeValid</a>(dataType) ||
<a name="l01799"></a>01799       dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l01800"></a>01800     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01801"></a>01801     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01802"></a>01802   }
<a name="l01803"></a>01803   
<a name="l01804"></a>01804   <span class="comment">// log message</span>
<a name="l01805"></a>01805   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting coords for sequence '%s' as type %s"</span>, 
<a name="l01806"></a>01806                 <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence)-&gt;header.name,
<a name="l01807"></a>01807                 <a class="code" href="group__DataTypes.html#g6720a592eace2d7459eb410a3b29cd2f">fc_getDataTypeText</a>(dataType));
<a name="l01808"></a>01808   
<a name="l01809"></a>01809   <span class="comment">// get sequence info and coords</span>
<a name="l01810"></a>01810   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(sequence, &amp;numStep, &amp;dataType_orig);
<a name="l01811"></a>01811   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01812"></a>01812     <span class="keywordflow">return</span> rc;
<a name="l01813"></a>01813   rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(sequence, &amp;coords_orig);
<a name="l01814"></a>01814   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01815"></a>01815     <span class="keywordflow">return</span> rc;
<a name="l01816"></a>01816 
<a name="l01817"></a>01817   <span class="comment">// allocate return array</span>
<a name="l01818"></a>01818   *coords = malloc(numStep*<a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(dataType));
<a name="l01819"></a>01819   <span class="keywordflow">if</span> (!*coords) {
<a name="l01820"></a>01820     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01821"></a>01821     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01822"></a>01822   }
<a name="l01823"></a>01823   
<a name="l01824"></a>01824   <span class="comment">// special case - the same data type</span>
<a name="l01825"></a>01825   <span class="keywordflow">if</span> (dataType == dataType_orig) {
<a name="l01826"></a>01826     memcpy(*coords, coords_orig, numStep*<a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(dataType));
<a name="l01827"></a>01827     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01828"></a>01828   }
<a name="l01829"></a>01829 
<a name="l01830"></a>01830   <span class="comment">// Fun!</span>
<a name="l01831"></a>01831   <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>) {
<a name="l01832"></a>01832     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>) 
<a name="l01833"></a>01833       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01834"></a>01834         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01835"></a>01835     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>) 
<a name="l01836"></a>01836       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01837"></a>01837         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01838"></a>01838     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>) 
<a name="l01839"></a>01839       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01840"></a>01840         ((<span class="keywordtype">char</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01841"></a>01841   }
<a name="l01842"></a>01842   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>) {
<a name="l01843"></a>01843     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>) 
<a name="l01844"></a>01844       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01845"></a>01845         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01846"></a>01846     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>) 
<a name="l01847"></a>01847       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01848"></a>01848         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01849"></a>01849     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>) 
<a name="l01850"></a>01850       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01851"></a>01851         ((<span class="keywordtype">int</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01852"></a>01852   }
<a name="l01853"></a>01853   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>) {
<a name="l01854"></a>01854     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>) 
<a name="l01855"></a>01855       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01856"></a>01856         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01857"></a>01857     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>) 
<a name="l01858"></a>01858       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01859"></a>01859         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01860"></a>01860     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>) 
<a name="l01861"></a>01861       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01862"></a>01862         ((<span class="keywordtype">float</span>*)(*coords))[i] = ((<span class="keywordtype">double</span>*)coords_orig)[i];
<a name="l01863"></a>01863   }
<a name="l01864"></a>01864   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>) {
<a name="l01865"></a>01865     <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>) 
<a name="l01866"></a>01866       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01867"></a>01867         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">char</span>*)coords_orig)[i];
<a name="l01868"></a>01868     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>) 
<a name="l01869"></a>01869       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01870"></a>01870         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">int</span>*)coords_orig)[i];
<a name="l01871"></a>01871     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dataType_orig == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>) 
<a name="l01872"></a>01872       <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01873"></a>01873         ((<span class="keywordtype">double</span>*)(*coords))[i] = ((<span class="keywordtype">float</span>*)coords_orig)[i];
<a name="l01874"></a>01874   }
<a name="l01875"></a>01875 
<a name="l01876"></a>01876   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01877"></a>01877 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g38e90553b530ed6e4ebeb28df20eade8"></a><!-- doxytag: member="sequence.c::fc_getSequenceCoordsPtr" ref="g38e90553b530ed6e4ebeb28df20eade8" args="(FC_Sequence sequence, void **coords_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>coords_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get sequence coordinates. 
<p>
<b>Description:</b> <p>
Return a pointer to the sequence's coordinate array. This must be treated as read-only.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-APR-18 W Koegler Finishing sequence implementation</li><li>11/25/03 RM, added checking for NULL sequence handle, default return *coords = NULL, issue an error if <a class="el" href="group__Library.html#gccd255e326eaf782cb41c75999d2846b">fc_getLibraryVerbosity()</a> </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>coords_p</em>&nbsp;</td><td>
output - pointer to coord array </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01725">1725</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="fileio_8c-source.html#l01956">_fc_readSequenceCoords()</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.
<p>
Referenced by <a class="el" href="series_8c-source.html#l01715">fc_centeredWindowAverage_Time()</a>, <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="sequence_8c-source.html#l00309">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00922">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00675">fc_createIntersectingRegularSequence()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01782">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, <a class="el" href="series_8c-source.html#l02270">fc_integral_TR()</a>, <a class="el" href="series_8c-source.html#l01261">fc_leadingWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>, <a class="el" href="series_8c-source.html#l02499">fc_linearLeastSquares()</a>, <a class="el" href="sequence_8c-source.html#l01893">fc_printSequence()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, <a class="el" href="sequence_8c-source.html#l00402">fc_shiftAndScaleSequence()</a>, <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>, <a class="el" href="seriesAnalyzer_8c-source.html#l00535">origWriteout()</a>, <a class="el" href="seriesAnalyzer_8c-source.html#l00721">writeoutChart()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00591">writeoutCompare()</a>.<div class="fragment"><pre class="fragment"><a name="l01728"></a>01728     {
<a name="l01729"></a>01729   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l01730"></a>01730   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01731"></a>01731   
<a name="l01732"></a>01732   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01733"></a>01733   <span class="keywordflow">if</span> (coords_p)
<a name="l01734"></a>01734     *coords_p = NULL;
<a name="l01735"></a>01735   
<a name="l01736"></a>01736   <span class="comment">// check input</span>
<a name="l01737"></a>01737   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01738"></a>01738   <span class="keywordflow">if</span> (seqSlot == NULL || coords_p == NULL) {
<a name="l01739"></a>01739     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01740"></a>01740     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01741"></a>01741   }
<a name="l01742"></a>01742   
<a name="l01743"></a>01743   <span class="comment">// log message</span>
<a name="l01744"></a>01744   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting coords for sequence '%s'"</span>, 
<a name="l01745"></a>01745                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01746"></a>01746   
<a name="l01747"></a>01747   <span class="comment">// lazy fetching of sequence coords done here</span>
<a name="l01748"></a>01748   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> == NULL &amp;&amp; seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a3fcf3738a975fbb592f656c1aec2014">numStep</a> &gt; 0) {
<a name="l01749"></a>01749     rc = <a class="code" href="group__PrivateFileIO.html#g4128b5820a22c1a92825a15d8f0f2d16">_fc_readSequenceCoords</a>(sequence);
<a name="l01750"></a>01750     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01751"></a>01751       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of coords of sequence '%s' failed"</span>,
<a name="l01752"></a>01752                             seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01753"></a>01753       <span class="keywordflow">return</span> rc;
<a name="l01754"></a>01754     }
<a name="l01755"></a>01755   }
<a name="l01756"></a>01756   
<a name="l01757"></a>01757   <span class="comment">// set return values</span>
<a name="l01758"></a>01758   *coords_p = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a>;
<a name="l01759"></a>01759   
<a name="l01760"></a>01760   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01761"></a>01761 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gd95b305013fd83202e1f3be8890bf4b3"></a><!-- doxytag: member="sequence.c::fc_getSequenceDataType" ref="gd95b305013fd83202e1f3be8890bf4b3" args="(FC_Sequence sequence, FC_DataType *datatype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceDataType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> *&nbsp;</td>
          <td class="paramname"> <em>datatype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the data type of a sequence's coordinates. 
<p>
<b>Modifications:</b> <ul>
<li>9/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>datatype</em>&nbsp;</td><td>
output - data type of sequence coordinates </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01675">1675</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="series_8c-source.html#l01715">fc_centeredWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l00676">fc_firstDerivative_REA()</a>, <a class="el" href="series_8c-source.html#l02270">fc_integral_TR()</a>, <a class="el" href="series_8c-source.html#l01261">fc_leadingWindowAverage_Time()</a>, <a class="el" href="series_8c-source.html#l02499">fc_linearLeastSquares()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00219">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01678"></a>01678   {
<a name="l01679"></a>01679   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01680"></a>01680   
<a name="l01681"></a>01681   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01682"></a>01682   <span class="keywordflow">if</span> (datatype != NULL)
<a name="l01683"></a>01683     *datatype = <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>;
<a name="l01684"></a>01684   
<a name="l01685"></a>01685   <span class="comment">// check input</span>
<a name="l01686"></a>01686   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01687"></a>01687   <span class="keywordflow">if</span> (seqSlot == NULL || !datatype) {
<a name="l01688"></a>01688     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01689"></a>01689     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01690"></a>01690   }
<a name="l01691"></a>01691   
<a name="l01692"></a>01692   <span class="comment">// log message</span>
<a name="l01693"></a>01693   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for sequence '%s'"</span>, 
<a name="l01694"></a>01694                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01695"></a>01695   
<a name="l01696"></a>01696   <span class="comment">// fill in requested value</span>
<a name="l01697"></a>01697   <span class="keywordflow">if</span> (datatype)
<a name="l01698"></a>01698     *datatype = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#48070e07370e2f2221611e4b403ed82b">datatype</a>;
<a name="l01699"></a>01699   
<a name="l01700"></a>01700   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01701"></a>01701 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ge7289ce45a13855f48a0b5de93c68101"></a><!-- doxytag: member="sequence.c::fc_getSequenceInfo" ref="ge7289ce45a13855f48a0b5de93c68101" args="(FC_Sequence sequence, int *numStep, FC_DataType *datatype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> *&nbsp;</td>
          <td class="paramname"> <em>datatype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get information about a sequence. 
<p>
<b>Description:</b> <p>
Return the number of steps in a sequence, and the datatype of the sequences coordinates.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-APR-18 W Koegler Finishing sequence implementation</li><li>11/25/03 RM, added default return numStep = -1, datatype = <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a> </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
output - number of steps in the sequence </td></tr>
<tr><td valign="top"><em>datatype</em>&nbsp;</td><td>
output - data type of sequence coordinates </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01600">1600</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="sequence_8c-source.html#l00309">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00922">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00675">fc_createIntersectingRegularSequence()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01782">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>, <a class="el" href="sequence_8c-source.html#l01893">fc_printSequence()</a>, <a class="el" href="sequence_8c-source.html#l00402">fc_shiftAndScaleSequence()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01604"></a>01604   {
<a name="l01605"></a>01605   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01606"></a>01606   
<a name="l01607"></a>01607   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01608"></a>01608   <span class="keywordflow">if</span> (numStep != NULL) 
<a name="l01609"></a>01609     *numStep = -1 ;
<a name="l01610"></a>01610   <span class="keywordflow">if</span> (datatype != NULL)
<a name="l01611"></a>01611     *datatype = <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>;
<a name="l01612"></a>01612   
<a name="l01613"></a>01613   <span class="comment">// check input</span>
<a name="l01614"></a>01614   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01615"></a>01615   <span class="keywordflow">if</span> (seqSlot == NULL || (!numStep &amp;&amp; !datatype)) {
<a name="l01616"></a>01616     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01617"></a>01617     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01618"></a>01618   }
<a name="l01619"></a>01619   
<a name="l01620"></a>01620   <span class="comment">// log message</span>
<a name="l01621"></a>01621   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for sequence '%s'"</span>, 
<a name="l01622"></a>01622                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01623"></a>01623   
<a name="l01624"></a>01624   <span class="comment">// fill in requested values</span>
<a name="l01625"></a>01625   <span class="keywordflow">if</span> (numStep)
<a name="l01626"></a>01626     *numStep = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a3fcf3738a975fbb592f656c1aec2014">numStep</a>;
<a name="l01627"></a>01627   <span class="keywordflow">if</span> (datatype)
<a name="l01628"></a>01628     *datatype = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#48070e07370e2f2221611e4b403ed82b">datatype</a>;
<a name="l01629"></a>01629   
<a name="l01630"></a>01630   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01631"></a>01631 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc810d7a86c70a251ea10a90e9c59b710"></a><!-- doxytag: member="sequence.c::fc_getSequenceName" ref="gc810d7a86c70a251ea10a90e9c59b710" args="(FC_Sequence sequence, char **seqname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>seqname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return name of a sequence. 
<p>
<b>Description:</b> <p>
Return the name associated with a sequence handle. Spaced is allocated for the string so it needs to be freed by the user when finished.<p>
<b>Modifications:</b> <ul>
<li>Aug, 9, 2002. W Koegler Created</li><li>11/25/03 RM, added checking for NULL dataset handle, default return seqname = NULL if anything is wrong </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>seqname</em>&nbsp;</td><td>
output - sequence name, space allocated here and must be freed by user when finished </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01515">1515</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01519"></a>01519   {
<a name="l01520"></a>01520   <span class="keywordtype">char</span> *cp;
<a name="l01521"></a>01521   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01522"></a>01522   
<a name="l01523"></a>01523   <span class="comment">// default returns if something goes wrong</span>
<a name="l01524"></a>01524   <span class="keywordflow">if</span> (seqname)
<a name="l01525"></a>01525     *seqname = NULL;  
<a name="l01526"></a>01526   
<a name="l01527"></a>01527   <span class="comment">// check input</span>
<a name="l01528"></a>01528   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01529"></a>01529   <span class="keywordflow">if</span> (seqSlot == NULL || seqname == NULL) {
<a name="l01530"></a>01530     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01531"></a>01531     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01532"></a>01532   }
<a name="l01533"></a>01533   
<a name="l01534"></a>01534   <span class="comment">// log message</span>
<a name="l01535"></a>01535   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting name for sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01536"></a>01536 
<a name="l01537"></a>01537   <span class="comment">// copy name</span>
<a name="l01538"></a>01538   cp = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>;
<a name="l01539"></a>01539   *seqname = malloc(strlen(cp) + 1);
<a name="l01540"></a>01540   <span class="keywordflow">if</span> (*seqname == NULL) {
<a name="l01541"></a>01541     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01542"></a>01542     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01543"></a>01543   }
<a name="l01544"></a>01544   strcpy(*seqname, cp);
<a name="l01545"></a>01545   
<a name="l01546"></a>01546   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01547"></a>01547 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g556f33fb72c8f5c2f2a3bba5177094a1"></a><!-- doxytag: member="sequence.c::fc_getSequenceNumStep" ref="g556f33fb72c8f5c2f2a3bba5177094a1" args="(FC_Sequence sequence, int *numStep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequenceNumStep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numStep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get number of steps in a sequence. 
<p>
<b>Modifications:</b> <ul>
<li>9/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
output - number of steps in the sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01640">1640</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.
<p>
Referenced by <a class="el" href="variable_8c-source.html#l01665">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00324">makeIntersecting()</a>.<div class="fragment"><pre class="fragment"><a name="l01643"></a>01643   {
<a name="l01644"></a>01644   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01645"></a>01645   
<a name="l01646"></a>01646   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01647"></a>01647   <span class="keywordflow">if</span> (numStep != NULL) 
<a name="l01648"></a>01648     *numStep = -1 ;
<a name="l01649"></a>01649   
<a name="l01650"></a>01650   <span class="comment">// check input</span>
<a name="l01651"></a>01651   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01652"></a>01652   <span class="keywordflow">if</span> (seqSlot == NULL || !numStep) {
<a name="l01653"></a>01653     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01654"></a>01654     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01655"></a>01655   }
<a name="l01656"></a>01656   
<a name="l01657"></a>01657   <span class="comment">// log message</span>
<a name="l01658"></a>01658   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting numStep for sequence '%s'"</span>, 
<a name="l01659"></a>01659                       seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01660"></a>01660   
<a name="l01661"></a>01661   <span class="comment">// fill in requested values</span>
<a name="l01662"></a>01662   <span class="keywordflow">if</span> (numStep)
<a name="l01663"></a>01663     *numStep = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a3fcf3738a975fbb592f656c1aec2014">numStep</a>;
<a name="l01664"></a>01664   
<a name="l01665"></a>01665   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01666"></a>01666 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4e9e6506fc7e6ce22310105003a21789"></a><!-- doxytag: member="sequence.c::fc_getSequences" ref="g4e9e6506fc7e6ce22310105003a21789" args="(FC_Dataset dataset, int *numSeq, FC_Sequence **sequences)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getSequences           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> **&nbsp;</td>
          <td class="paramname"> <em>sequences</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the sequences in a dataset. 
<p>
<b>Description:</b> <p>
This call returns an array of sequences in the dataset. The caller is responsible for freeing the array of sequence handles.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>11/21/03 RM, added default return numSeq = -1, and seqNames = NULL if anything is wrong</li><li>9/8/04 WSK, changed to return sequence handles instead of sequence names. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numSeq</em>&nbsp;</td><td>
output - number of sequences returned </td></tr>
<tr><td valign="top"><em>sequences</em>&nbsp;</td><td>
output - array of sequences </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01138">1138</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02158">_fc_getSeqSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00088">_FC_DsSlot::numSeq</a>, and <a class="el" href="datasetP_8h-source.html#l00089">_FC_DsSlot::seqIDs</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01142"></a>01142   {
<a name="l01143"></a>01143   <span class="keywordtype">int</span> i;
<a name="l01144"></a>01144   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01145"></a>01145   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01146"></a>01146   
<a name="l01147"></a>01147   <span class="comment">// default returns if something goes wrong</span>
<a name="l01148"></a>01148   <span class="keywordflow">if</span> (numSeq != NULL) 
<a name="l01149"></a>01149     *numSeq = -1;
<a name="l01150"></a>01150   <span class="keywordflow">if</span> (sequences)
<a name="l01151"></a>01151     *sequences = NULL;  
<a name="l01152"></a>01152   
<a name="l01153"></a>01153   <span class="comment">// check input</span>
<a name="l01154"></a>01154   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01155"></a>01155   <span class="keywordflow">if</span> (dsSlot == NULL || numSeq == NULL || sequences == NULL) {
<a name="l01156"></a>01156     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01157"></a>01157     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01158"></a>01158   }
<a name="l01159"></a>01159   
<a name="l01160"></a>01160   <span class="comment">// log message</span>
<a name="l01161"></a>01161   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequences from dataset '%s'"</span>,
<a name="l01162"></a>01162                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#e4b7a27c95934413a822422c50d24f25">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01163"></a>01163   
<a name="l01164"></a>01164   <span class="comment">// get num sequences</span>
<a name="l01165"></a>01165   *numSeq = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>;
<a name="l01166"></a>01166   
<a name="l01167"></a>01167   <span class="comment">// get sequences</span>
<a name="l01168"></a>01168   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a> &gt; 0) {
<a name="l01169"></a>01169     *sequences = malloc(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Sequence.html">FC_Sequence</a>));
<a name="l01170"></a>01170     <span class="keywordflow">if</span> (*sequences == NULL) {
<a name="l01171"></a>01171       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01172"></a>01172       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01173"></a>01173     }
<a name="l01174"></a>01174     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fcb1479af6b5ab547e3fa907b5e120c1">numSeq</a>; i++) {
<a name="l01175"></a>01175       seqSlot = <a class="code" href="group__PrivateSequence.html#g4e92ae75e607ffd54fbcc3d4933a93dc">_fc_getSeqSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#15524d3234ef64eeef2174a399bfebda">seqIDs</a>[i]);
<a name="l01176"></a>01176       <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>((*sequences)[i], seqSlot);
<a name="l01177"></a>01177     }
<a name="l01178"></a>01178   }
<a name="l01179"></a>01179   
<a name="l01180"></a>01180   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01181"></a>01181 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc2557da2ece780124f4ab34926436806"></a><!-- doxytag: member="sequence.c::fc_isSequenceValid" ref="gc2557da2ece780124f4ab34926436806" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isSequenceValid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the handle refers to a valid sequence. 
<p>
<b>Description:</b> <p>
Returns 1 (true) is the handle is valid, and 0 (false) if it is not.<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01493">1493</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="table_8c-source.html#l00332">_fc_isHandleValid()</a>, <a class="el" href="sequence_8c-source.html#l00091">seqTable</a>, <a class="el" href="sequence_8c-source.html#l00086">seqTableSize</a>, <a class="el" href="base_8h-source.html#l00255">FC_Sequence::slotID</a>, and <a class="el" href="base_8h-source.html#l00256">FC_Sequence::uID</a>.
<p>
Referenced by <a class="el" href="series_8c-source.html#l00205">_fc_createSeqVariableFromVariable()</a>, <a class="el" href="variable_8c-source.html#l01665">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="sequence_8c-source.html#l00922">fc_createIntersectingRangeRegularSequence()</a>, <a class="el" href="sequence_8c-source.html#l00675">fc_createIntersectingRegularSequence()</a>, <a class="el" href="statistics_8c-source.html#l02219">fc_getClosestSequenceValue()</a>, <a class="el" href="sequence_8c-source.html#l01782">fc_getSequenceCoordsAsDataType()</a>, <a class="el" href="statistics_8c-source.html#l01753">fc_getSequenceMinMaxMono()</a>, <a class="el" href="statistics_8c-source.html#l01951">fc_getSequenceSpacingMinMaxMeanSdev()</a>, and <a class="el" href="series_8c-source.html#l00347">fc_linearInterpolation()</a>.<div class="fragment"><pre class="fragment"><a name="l01495"></a>01495   {
<a name="l01496"></a>01496   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#gad0539bd0e7ba29168e2a05b2e0b5e33">_fc_isHandleValid</a>(sequence.<a class="code" href="structFC__Sequence.html#aa9de2f93be4fbdad32c948408070e20">slotID</a>, sequence.<a class="code" href="structFC__Sequence.html#0bf198003f1c5174cd2987291f6284e1">uID</a>, <a class="code" href="group__PrivateSequence.html#g0115182eb28259816565cb36943145ae">seqTableSize</a>,
<a name="l01497"></a>01497                            (<a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>**)<a class="code" href="group__PrivateSequence.html#g5a7996be5c00e6faa835ed6b46027167">seqTable</a>);
<a name="l01498"></a>01498 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc55deb72bd96a0e32e471f07463d3cc8"></a><!-- doxytag: member="sequence.c::fc_printSequence" ref="gc55deb72bd96a0e32e471f07463d3cc8" args="(FC_Sequence sequence, char *label, int print_coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_printSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print sequence meta data to stdout, and optionally the coordinates. 
<p>
<b>Modifications:</b> <ul>
<li>11/20/03 WSK Created.</li><li>10/31/07 ACG optional precision flag </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend variable name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_coords</em>&nbsp;</td><td>
input - 1 = print the coordinates. 2 = print the in exponential notation with 5 digits of precision </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01893">1893</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00418">fc_getDataTypeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00129">fc_printfWarningMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01899"></a>01899   {
<a name="l01900"></a>01900   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l01901"></a>01901   <span class="keywordtype">int</span> i;
<a name="l01902"></a>01902   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01903"></a>01903   <span class="keywordtype">int</span> numStep;
<a name="l01904"></a>01904   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> dataType;
<a name="l01905"></a>01905   <span class="keywordtype">void</span>* dbuf;
<a name="l01906"></a>01906 
<a name="l01907"></a>01907   <span class="comment">// special case: printing a null handle is not an error</span>
<a name="l01908"></a>01908   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>)) {
<a name="l01909"></a>01909     printf(<span class="stringliteral">"Sequence: FC_NULL_SEQUENCE\n"</span>);
<a name="l01910"></a>01910     fflush(NULL);
<a name="l01911"></a>01911     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01912"></a>01912   }
<a name="l01913"></a>01913 
<a name="l01914"></a>01914   <span class="comment">// check input</span>
<a name="l01915"></a>01915   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01916"></a>01916   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01917"></a>01917     <a class="code" href="group__Library.html#gbf7b424a5a96a9887547a6545f03e3e2">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_DATASET"</span>);
<a name="l01918"></a>01918     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01919"></a>01919   }
<a name="l01920"></a>01920 
<a name="l01921"></a>01921   <span class="comment">// log message</span>
<a name="l01922"></a>01922   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Printing sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01923"></a>01923 
<a name="l01924"></a>01924   <span class="comment">// print label &amp; var name</span>
<a name="l01925"></a>01925   <span class="keywordflow">if</span> (label)
<a name="l01926"></a>01926     printf(<span class="stringliteral">"%s: "</span>, label);
<a name="l01927"></a>01927   <span class="keywordflow">else</span>
<a name="l01928"></a>01928     printf(<span class="stringliteral">"Sequence: "</span>);
<a name="l01929"></a>01929   printf(<span class="stringliteral">"'%s'\n"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01930"></a>01930   fflush(NULL);
<a name="l01931"></a>01931 
<a name="l01932"></a>01932   <span class="comment">// print meta data</span>
<a name="l01933"></a>01933   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(sequence, &amp;numStep, &amp;dataType);
<a name="l01934"></a>01934   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01935"></a>01935     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for sequence '%s'"</span>,
<a name="l01936"></a>01936                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01937"></a>01937     <span class="keywordflow">return</span> rc;
<a name="l01938"></a>01938   }
<a name="l01939"></a>01939   printf(<span class="stringliteral">"%snumStep = %d, dataType = %s\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, numStep,
<a name="l01940"></a>01940          <a class="code" href="group__DataTypes.html#g6720a592eace2d7459eb410a3b29cd2f">fc_getDataTypeText</a>(dataType));
<a name="l01941"></a>01941   fflush(NULL);
<a name="l01942"></a>01942 
<a name="l01943"></a>01943   <span class="comment">// print coordinates</span>
<a name="l01944"></a>01944   <span class="keywordflow">if</span> (print_coords) {
<a name="l01945"></a>01945     rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(sequence, &amp;dbuf);
<a name="l01946"></a>01946     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01947"></a>01947       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for sequence '%s'"</span>,
<a name="l01948"></a>01948                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01949"></a>01949       <span class="keywordflow">return</span> rc;
<a name="l01950"></a>01950     }
<a name="l01951"></a>01951     
<a name="l01952"></a>01952     <span class="comment">// print the coordinates</span>
<a name="l01953"></a>01953     printf(<span class="stringliteral">"%sCoordinates:\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>);
<a name="l01954"></a>01954     fflush(NULL);
<a name="l01955"></a>01955     <span class="keywordflow">switch</span> (dataType) {
<a name="l01956"></a>01956     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297a1c2c6e22d293be2bf392b0b2633b387">FC_DT_CHAR</a>: 
<a name="l01957"></a>01957       {
<a name="l01958"></a>01958         <span class="keywordtype">char</span>* cast_buf = (<span class="keywordtype">char</span> *)dbuf;
<a name="l01959"></a>01959         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l01960"></a>01960           printf(<span class="stringliteral">"%s%s%d:  %c\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01961"></a>01961       }
<a name="l01962"></a>01962       <span class="keywordflow">break</span>;
<a name="l01963"></a>01963     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>:
<a name="l01964"></a>01964       {
<a name="l01965"></a>01965         <span class="keywordtype">int</span>* cast_buf = (<span class="keywordtype">int</span> *)dbuf;
<a name="l01966"></a>01966         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01967"></a>01967           printf(<span class="stringliteral">"%s%s%d:  %d\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01968"></a>01968       }
<a name="l01969"></a>01969       <span class="keywordflow">break</span>;
<a name="l01970"></a>01970     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>:
<a name="l01971"></a>01971       {
<a name="l01972"></a>01972         <span class="keywordtype">float</span>* cast_buf = (<span class="keywordtype">float</span> *)dbuf;
<a name="l01973"></a>01973         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01974"></a>01974           printf(<span class="stringliteral">"%s%s%d:  %.6g\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01975"></a>01975       }
<a name="l01976"></a>01976       <span class="keywordflow">break</span>;
<a name="l01977"></a>01977     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>:
<a name="l01978"></a>01978       {
<a name="l01979"></a>01979         <span class="keywordtype">double</span>* cast_buf = (<span class="keywordtype">double</span> *)dbuf;
<a name="l01980"></a>01980         <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l01981"></a>01981        <span class="keywordflow">switch</span>(print_coords){
<a name="l01982"></a>01982        <span class="keywordflow">case</span> 2:
<a name="l01983"></a>01983          printf(<span class="stringliteral">"%s%s%d:  %5leg\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01984"></a>01984          <span class="keywordflow">break</span>;
<a name="l01985"></a>01985        <span class="keywordflow">default</span>:
<a name="l01986"></a>01986          printf(<span class="stringliteral">"%s%s%d:  %.15g\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i, cast_buf[i]);
<a name="l01987"></a>01987          <span class="keywordflow">break</span>;
<a name="l01988"></a>01988        }
<a name="l01989"></a>01989       }
<a name="l01990"></a>01990       <span class="keywordflow">break</span>;
<a name="l01991"></a>01991     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>:
<a name="l01992"></a>01992       printf(<span class="stringliteral">"Cannot print data type '%s'\n"</span>, <a class="code" href="group__DataTypes.html#g6720a592eace2d7459eb410a3b29cd2f">fc_getDataTypeText</a>(dataType));
<a name="l01993"></a>01993     }
<a name="l01994"></a>01994     fflush(NULL);
<a name="l01995"></a>01995   }
<a name="l01996"></a>01996 
<a name="l01997"></a>01997   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01998"></a>01998 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb8b2e91b0cebfdafd546185da89ca2ee"></a><!-- doxytag: member="sequence.c::fc_releaseSequence" ref="gb8b2e91b0cebfdafd546185da89ca2ee" args="(FC_Sequence sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_releaseSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to minimize sequence's memory usage. 
<p>
<b>Description:</b> <p>
Call to try and release un-needed memory in a sequence. If the sequence has been saved to disk, the large data is released. If the sequence has not been saved to disk, this will do nothing.<p>
<b>Modifications:</b> <ul>
<li>04/19/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l01364">1364</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00129">fc_printfWarningMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l01366"></a>01366   {
<a name="l01367"></a>01367   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* seqSlot;
<a name="l01368"></a>01368   
<a name="l01369"></a>01369   <span class="comment">// special case: releasing a null handle is not an error</span>
<a name="l01370"></a>01370   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(sequence, <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>)) {
<a name="l01371"></a>01371     <a class="code" href="group__Library.html#gbf7b424a5a96a9887547a6545f03e3e2">fc_printfWarningMessage</a>(<span class="stringliteral">"Releasing FC_NULL_SEQUENCE"</span>);
<a name="l01372"></a>01372     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01373"></a>01373   }
<a name="l01374"></a>01374 
<a name="l01375"></a>01375   <span class="comment">// check input</span>
<a name="l01376"></a>01376   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l01377"></a>01377   <span class="keywordflow">if</span> (seqSlot == NULL) {
<a name="l01378"></a>01378     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01379"></a>01379     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01380"></a>01380   }
<a name="l01381"></a>01381   
<a name="l01382"></a>01382   <span class="comment">// log message</span>
<a name="l01383"></a>01383   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Cleaning up sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01384"></a>01384 
<a name="l01385"></a>01385   <span class="comment">// remove big data if this slot is committed</span>
<a name="l01386"></a>01386   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l01387"></a>01387     free(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a>);
<a name="l01388"></a>01388     seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> = NULL;
<a name="l01389"></a>01389   }
<a name="l01390"></a>01390 
<a name="l01391"></a>01391   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01392"></a>01392 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g159398af1c86b8385325088c6c73a5db"></a><!-- doxytag: member="sequence.c::fc_setSequenceCoords" ref="g159398af1c86b8385325088c6c73a5db" args="(FC_Sequence sequence, int numStep, FC_DataType dataType, void *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setSequenceCoords           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the sequence coordinates by copy. 
<p>
<b>Description:</b> <p>
Set the coordinates for the sequence. Must provide the number of steps, the data type, and a pointer to the 1-D array of coordinates. This routine makes a copy of the coords for the library, so the user still has responsibility of the original buffer. If you would like to give the coordinates array to the sequence instead of just copying them, use <a class="el" href="group__Sequence.html#g183a3690e04d4949159d3e6d94ebe2d6">fc_setSequenceCoordsPtr()</a>.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>2003-NOV-13 WSK Created</li><li>09/10/04 WSK, changed so cannot set coords more than once. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - Sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
Input - Number of steps in the sequence </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
Input - The data type of the coordinate array (i.e. int, float, etc) </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
Input - Array of coordinate data </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00182">182</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00239">fc_isDataTypeValid()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="base_8c-source.html#l00740">fc_sizeofDataType()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.
<p>
Referenced by <a class="el" href="sequence_8c-source.html#l00309">fc_copySequence()</a>, <a class="el" href="sequence_8c-source.html#l00560">fc_createRegularSequence()</a>, and <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00188"></a>00188   {
<a name="l00189"></a>00189   <span class="keywordtype">int</span> size;
<a name="l00190"></a>00190   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a> *seqSlot;
<a name="l00191"></a>00191   
<a name="l00192"></a>00192   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetSequenceCoordsPtr()</span>
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <span class="comment">// check input</span>
<a name="l00195"></a>00195   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l00196"></a>00196   <span class="keywordflow">if</span> (seqSlot == NULL || numStep &lt; 1 || !<a class="code" href="group__DataTypes.html#ged8b462070c0f2617ee62753bcbe2f19">fc_isDataTypeValid</a>(dataType) ||
<a name="l00197"></a>00197       dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l00198"></a>00198     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00199"></a>00199     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00200"></a>00200   }
<a name="l00201"></a>00201  
<a name="l00202"></a>00202   <span class="comment">// a little more checking -- can't overwrite coords </span>
<a name="l00203"></a>00203   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> != NULL || seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00204"></a>00204     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on sequence '%s'"</span>,
<a name="l00205"></a>00205                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00206"></a>00206     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00207"></a>00207   }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <span class="comment">// log message</span>
<a name="l00210"></a>00210   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting coords on sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="comment">// Meta data</span>
<a name="l00213"></a>00213   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a3fcf3738a975fbb592f656c1aec2014">numStep</a> = numStep;
<a name="l00214"></a>00214   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#48070e07370e2f2221611e4b403ed82b">datatype</a> = dataType;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216   <span class="comment">// Big data</span>
<a name="l00217"></a>00217   size = <a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(dataType);
<a name="l00218"></a>00218   size *= numStep;
<a name="l00219"></a>00219   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> = malloc(size);
<a name="l00220"></a>00220   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> == NULL) {
<a name="l00221"></a>00221     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00222"></a>00222       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00223"></a>00223   }
<a name="l00224"></a>00224   memcpy(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a>, coords, size);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00227"></a>00227 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g183a3690e04d4949159d3e6d94ebe2d6"></a><!-- doxytag: member="sequence.c::fc_setSequenceCoordsPtr" ref="g183a3690e04d4949159d3e6d94ebe2d6" args="(FC_Sequence sequence, int numStep, FC_DataType dataType, void *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setSequenceCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a>&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the pointer to the mesh coordinates. 
<p>
<b>Description:</b> <p>
Set the coordinates for the sequence. Must provide the number of steps, the data type, and a pointer to the 1-D array of coordinates. This routine passes the coords array directly to the library, so the user no longer has responsibility of the original buffer. If you would like to keep the coords array, you should use <a class="el" href="group__Sequence.html#g159398af1c86b8385325088c6c73a5db">fc_setSequenceCoords()</a> instead which makes a copy of the coords array.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>10/01/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
Input - Sequence handle </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
Input - Number of steps in the sequence </td></tr>
<tr><td valign="top"><em>dataType</em>&nbsp;</td><td>
Input - The data type of the coordinate array (i.e. int, float, etc) </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
Input - Array of coordinate data </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00247">247</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="sequenceP_8h-source.html#l00084">_FC_SeqSlot::coords</a>, <a class="el" href="sequenceP_8h-source.html#l00082">_FC_SeqSlot::datatype</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00239">fc_isDataTypeValid()</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.
<p>
Referenced by <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="sequence_8c-source.html#l00402">fc_shiftAndScaleSequence()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00226">readOneData()</a>.<div class="fragment"><pre class="fragment"><a name="l00253"></a>00253   {
<a name="l00254"></a>00254   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a> *seqSlot;
<a name="l00255"></a>00255   
<a name="l00256"></a>00256   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetSequenceCoords()</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="comment">// check input</span>
<a name="l00259"></a>00259   seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(sequence);
<a name="l00260"></a>00260   <span class="keywordflow">if</span> (seqSlot == NULL || numStep &lt; 1 || !<a class="code" href="group__DataTypes.html#ged8b462070c0f2617ee62753bcbe2f19">fc_isDataTypeValid</a>(dataType) ||
<a name="l00261"></a>00261       dataType == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a62975da602b780b75ca6362662d6a9ad5a5f">FC_DT_UNKNOWN</a> || coords == NULL) {
<a name="l00262"></a>00262     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00263"></a>00263     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00264"></a>00264   }
<a name="l00265"></a>00265  
<a name="l00266"></a>00266   <span class="comment">// a little more checking -- can't overwrite coords </span>
<a name="l00267"></a>00267   <span class="keywordflow">if</span> (seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> != NULL || seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00268"></a>00268     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on sequence '%s'"</span>,
<a name="l00269"></a>00269                           seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00270"></a>00270     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00271"></a>00271   }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273   <span class="comment">// log message</span>
<a name="l00274"></a>00274   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting coords on sequence '%s'"</span>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276   <span class="comment">// Meta data</span>
<a name="l00277"></a>00277   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a3fcf3738a975fbb592f656c1aec2014">numStep</a> = numStep;
<a name="l00278"></a>00278   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#48070e07370e2f2221611e4b403ed82b">datatype</a> = dataType;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280   <span class="comment">// Big data</span>
<a name="l00281"></a>00281   seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#a6d57e3fffa81673e4205a4621e45206">coords</a> = coords;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00284"></a>00284 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g280929f36644937212a6188aecc29d3a"></a><!-- doxytag: member="sequence.c::fc_shiftAndScaleSequence" ref="g280929f36644937212a6188aecc29d3a" args="(FC_Sequence src_seq, FC_Dataset dest_ds, double shift, double scale, char *newName, FC_Sequence *new_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_shiftAndScaleSequence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>src_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>new_seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a seq, return a new sequence that is the old one shifted and scaled. 
<p>
<b>Description:</b> <p>
Given a seq, return a new sequence that is the old one shifted and scaled. Possible usage: This function can be followed by fc_copySeqVariable in order to create a new seqVar that is an oldSeqVar normalized in time such that it starts at time zero.<p>
The shift is applied before the scale. i.e., new_seq_val = (old_seq_val+shift)*(scale). If you don't want to shift, pass in 0 for the shift; if you dont want to scale pass in 1 for the scale.<p>
The datatype of the new sequence is FC_DT_DOUBLE regardless of the original sequence datatype.<p>
This returns with an error if the orignal sequence is not numerical. Scaling by zero is not allowed.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000058">Todo:</a></b></dt><dd>change this so the user can specify the return type.</dd></dl>
<b>Modifications:</b> 6/14/05 ACG created. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>src_seq</em>&nbsp;</td><td>
Input - the source sequence to be shifted and scaled </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
Input - the destination dataset to be copied into </td></tr>
<tr><td valign="top"><em>shift</em>&nbsp;</td><td>
input - val shifting seq by </td></tr>
<tr><td valign="top"><em>scale</em>&nbsp;</td><td>
input - val scaling seq by </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new sequence </td></tr>
<tr><td valign="top"><em>new_seq</em>&nbsp;</td><td>
Output - handle to the new sequence </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="sequence_8c-source.html#l00402">402</a> of file <a class="el" href="sequence_8c-source.html">sequence.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="util_8h-source.html#l00136">FC_DBL_EQUIV</a>, <a class="el" href="sequence_8c-source.html#l01415">fc_deleteSequence()</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01725">fc_getSequenceCoordsPtr()</a>, <a class="el" href="sequence_8c-source.html#l01600">fc_getSequenceInfo()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00768">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="sequence_8c-source.html#l00247">fc_setSequenceCoordsPtr()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="sequenceP_8h-source.html#l00075">_FC_SeqSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00409"></a>00409   { 
<a name="l00410"></a>00410   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00411"></a>00411 
<a name="l00412"></a>00412   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00413"></a>00413   <a class="code" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>* src_seqSlot;
<a name="l00414"></a>00414   <span class="keywordtype">int</span> numStep;
<a name="l00415"></a>00415   <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> seqdatatype;
<a name="l00416"></a>00416   <span class="keywordtype">double</span>* prev;
<a name="l00417"></a>00417   <span class="keywordtype">void</span>* coordsp;
<a name="l00418"></a>00418   <span class="keywordtype">int</span> i;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420   <span class="comment">// default return</span>
<a name="l00421"></a>00421   <span class="keywordflow">if</span> (new_seq)
<a name="l00422"></a>00422     *new_seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424   <span class="comment">// check input</span>
<a name="l00425"></a>00425   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dest_ds);
<a name="l00426"></a>00426   src_seqSlot = <a class="code" href="group__PrivateSequence.html#ge669615c173acc924f9664fa05672e7f">_fc_getSeqSlot</a>(src_seq);
<a name="l00427"></a>00427   <span class="keywordflow">if</span> (dest_dsSlot == NULL || src_seqSlot == NULL ||
<a name="l00428"></a>00428       new_seq == NULL || newName == NULL) {
<a name="l00429"></a>00429     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00430"></a>00430     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00431"></a>00431   }
<a name="l00432"></a>00432 
<a name="l00433"></a>00433   <span class="comment">// log message</span>
<a name="l00434"></a>00434   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"shifting and scaling sequence '%s' to '%s'"</span>, 
<a name="l00435"></a>00435                       src_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#b4ebe9e673fa41268979b4d19bfbcc5a">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, newName);
<a name="l00436"></a>00436 
<a name="l00437"></a>00437   <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(scale,0.0)){
<a name="l00438"></a>00438     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"scaling by zero is not allowed"</span>);
<a name="l00439"></a>00439     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00440"></a>00440   }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442   rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a> (src_seq, &amp;numStep, &amp;seqdatatype);
<a name="l00443"></a>00443   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00444"></a>00444     <span class="keywordflow">return</span> rc;
<a name="l00445"></a>00445   }
<a name="l00446"></a>00446 
<a name="l00447"></a>00447   <span class="keywordflow">if</span> (!(seqdatatype == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a> || seqdatatype == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a> ||
<a name="l00448"></a>00448         seqdatatype == <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>)){
<a name="l00449"></a>00449     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"seq data type is not numerical"</span>);
<a name="l00450"></a>00450     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00451"></a>00451   }
<a name="l00452"></a>00452 
<a name="l00453"></a>00453   rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(src_seq,&amp;coordsp);
<a name="l00454"></a>00454   <span class="keywordflow">if</span> (rc!= <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00455"></a>00455     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00456"></a>00456     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00457"></a>00457   }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459 
<a name="l00460"></a>00460   prev = (<span class="keywordtype">double</span>*)malloc(numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00461"></a>00461   <span class="keywordflow">if</span> (prev == NULL){
<a name="l00462"></a>00462     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<span class="stringliteral">"cant make data array"</span>);
<a name="l00463"></a>00463     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00464"></a>00464     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00465"></a>00465   }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++){
<a name="l00468"></a>00468     <span class="keywordflow">switch</span>(seqdatatype){
<a name="l00469"></a>00469     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297f0b74a7d9f58ca6960dd832980645f7d">FC_DT_INT</a>:
<a name="l00470"></a>00470       prev[i] = (<span class="keywordtype">double</span>)(((<span class="keywordtype">int</span>*)coordsp)[i]);
<a name="l00471"></a>00471       <span class="keywordflow">break</span>;
<a name="l00472"></a>00472     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297ad59da2c9908f7fd6dcc81b25680057b">FC_DT_FLOAT</a>:
<a name="l00473"></a>00473       prev[i] = (double)(((<span class="keywordtype">float</span>*)coordsp)[i]);
<a name="l00474"></a>00474       <span class="keywordflow">break</span>;
<a name="l00475"></a>00475     <span class="keywordflow">default</span>: <span class="comment">//know its a double</span>
<a name="l00476"></a>00476       prev[i] = ((<span class="keywordtype">double</span>*)coordsp)[i];
<a name="l00477"></a>00477       <span class="keywordflow">break</span>;
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <span class="comment">//this isnt quite ideal - e.g., if magnitude of both shift and scale are small...</span>
<a name="l00481"></a>00481     <span class="keywordflow">if</span> (<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(prev[i],-shift)){
<a name="l00482"></a>00482       prev[i] = 0.0;
<a name="l00483"></a>00483     }<span class="keywordflow">else</span>{
<a name="l00484"></a>00484       prev[i]+=shift;
<a name="l00485"></a>00485       <span class="keywordflow">if</span> (!<a class="code" href="group__PublicFloatingPoint.html#gef9a2ac5984a93f3daf980de76ab1456">FC_DBL_EQUIV</a>(scale,1.0)){
<a name="l00486"></a>00486         prev[i]*=scale;
<a name="l00487"></a>00487       }
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489   }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491   <span class="comment">// create new sequence </span>
<a name="l00492"></a>00492   rc = <a class="code" href="group__Sequence.html#g7f88e0eb0db536a4d213c003a0ab798c">fc_createSequence</a>(dest_ds, newName, new_seq);
<a name="l00493"></a>00493   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00494"></a>00494     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create sequence '%s'"</span>, newName);
<a name="l00495"></a>00495     free(prev);
<a name="l00496"></a>00496     <span class="keywordflow">return</span> rc;
<a name="l00497"></a>00497   }
<a name="l00498"></a>00498 
<a name="l00499"></a>00499   <span class="comment">// set new seq coords</span>
<a name="l00500"></a>00500   rc = <a class="code" href="group__Sequence.html#g183a3690e04d4949159d3e6d94ebe2d6">fc_setSequenceCoordsPtr</a>(*new_seq,numStep,<a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>,(<span class="keywordtype">void</span>*)prev);
<a name="l00501"></a>00501   <span class="keywordflow">if</span> (rc!= <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>){
<a name="l00502"></a>00502     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00503"></a>00503     free(prev);
<a name="l00504"></a>00504     <a class="code" href="group__Sequence.html#gf23403070ab8aa0a4d172f3cc0293754">fc_deleteSequence</a>(*new_seq);
<a name="l00505"></a>00505     *new_seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00506"></a>00506     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00507"></a>00507   }
<a name="l00508"></a>00508   
<a name="l00509"></a>00509   <span class="keywordflow">return</span> rc;
<a name="l00510"></a>00510 }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Oct 31 11:10:01 2007 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
