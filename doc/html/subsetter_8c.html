<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FCLib: tools/subsetter.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>tools/subsetter.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
given a var (elem or nodal) name and some condition, writes out a subsets (or promoted subsets) satisfying that condition. This is intended to be used with seq var, where the subsets are promoted to meshes and the reassmebler is used to reconstitute the data onto the orig big mesh 
<p>
<b>Description:</b> subsetter dataset "ouputtype" "variable name" "op" threshold_value doStrict<p>
outputtype is by default subsets with option of -M to promote the segmented threshold subset to new meshes. In either case, the original mesh will be written out as well. Note that in the subset to mesh promotion the numbering will change, but there will be a elem and vert numbering map variable associated with the new mesh.<p>
The same val of doStrict is used for subset to mesh promotion in the case of vertex vars, but we may not want this.<p>
"op: is the threshold operator such as "&gt;", "&lt;=", "==", etc. Quotes are required around the op string, but can be dropped around the variable name if there are no spaces or punctuation in the name. "doStrict" is used in the call to fc_copySubsetWithNewAssocation and more info on it can be found there.<p>
Multicomponent vars will be discovered and merged and their magnitude is used for the thresh comparison.<p>
New subsets or meshes are named &lt;meshname&gt;_T_s# in the case of variables and &lt;meshname&gt;_T::_s# where # is the timestep number in the case of sequence variables and the s# is the segment number<p>
var can be a normal var, but in the case of a seq var, this can be paired with region reassembler for reconsitituting<p>
output files are: if dont promote: subsetter_subsets.ex2 - has mesh and subsets on it (no vars) if promote: 1) subsetter_geomonly.ex2 - for the main mesh with geom only 2) subsetter_subsets.ex2 - for the promoted meshes (with all seq vars at that step and with elem/vertex mapping vars for reconsitituting)<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000130">Todo:</a></b></dt><dd><ul>
<li>check doStrict</li></ul>
</dd></dl>
<b>Modifications:</b> <ul>
<li>12/02/07 ACG</li><li>03/28/08 ACG - picking up again now that nodal subset writeout is fixed. Note - not using seq subset since segmenting the subset - this way I can set the names.</li><li>04/12/08 ACG - rearranging a bit.</li><li>06/XX/08 ACG - various fixes becuase of filesize issues</li><li>07/13/08 ACG - put sequences on geom only for reconstituting later -08/10/08 ACG - cleaning up for pairing with reassembler </li></ul>

<p>Definition in file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;exodusII.h&quot;</code><br>
<code>#include &quot;<a class="el" href="fc_8h-source.html">fc.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for subsetter.c:</div>
<div class="dynsection">
<p><center><img src="subsetter_8c__incl.gif" border="0" usemap="#tools/subsetter.c_map" alt=""></center>
<map name="tools/subsetter.c_map">
<area shape="rect" href="fc_8h.html" title="Master header file for FCLib." alt="" coords="1285,84,1333,111"><area shape="rect" href="base_8h.html" title="Public declarations for Data Types, Data Interface, and Handles Modules." alt="" coords="195,161,264,188"><area shape="rect" href="storage_8h.html" title="Public declarations for Simple Data Objects Module." alt="" coords="288,161,376,188"><area shape="rect" href="library_8h.html" title="Public declarations for the Library Module." alt="" coords="400,161,477,188"><area shape="rect" href="dataset_8h.html" title="Public declarations for the Dataset Module." alt="" coords="501,161,589,188"><area shape="rect" href="sequence_8h.html" title="Public declarations for the Sequence Module." alt="" coords="613,161,717,188"><area shape="rect" href="mesh_8h.html" title="Public declarations for the Mesh Module." alt="" coords="741,161,816,188"><area shape="rect" href="subset_8h.html" title="Public declarations for Subset module." alt="" coords="840,161,920,188"><area shape="rect" href="variable_8h.html" title="Public declarations for Variable Module." alt="" coords="944,161,1037,188"><area shape="rect" href="feature_8h.html" title="Public declarations for Features module." alt="" coords="1061,161,1149,188"><area shape="rect" href="shape_8h.html" title="Declarations for Shape module." alt="" coords="1173,161,1251,188"><area shape="rect" href="fileio_8h.html" title="Public declarations for File IO module." alt="" coords="1275,161,1344,188"><area shape="rect" href="error_8h.html" title="Declarations for Error Handling Module." alt="" coords="1368,161,1435,188"><area shape="rect" href="geom_8h.html" title="Public declarations for Geometric Relations module." alt="" coords="1459,161,1536,188"><area shape="rect" href="statistics_8h.html" title="Public declarations for Statistics Routines module." alt="" coords="1487,239,1583,265"><area shape="rect" href="sierra_8h.html" title="Public declarations for the Sierra module." alt="" coords="1611,161,1685,188"><area shape="rect" href="threshold_8h.html" title="Public declarations for Threshold module." alt="" coords="1709,161,1811,188"><area shape="rect" href="elemdeath_8h.html" title="Declarations for Element Death module." alt="" coords="1835,161,1949,188"><area shape="rect" href="series_8h.html" title="Public declarations for Series Routines module." alt="" coords="1973,161,2048,188"><area shape="rect" href="topo_8h.html" title="Public declarations for Topological Relations module." alt="" coords="2072,161,2139,188"><area shape="rect" href="util_8h.html" title="Public declarations for Utilities module." alt="" coords="2163,161,2219,188"><area shape="rect" href="track_8h.html" title="Declaration of tracking routines." alt="" coords="2243,161,2312,188"><area shape="rect" href="varmath_8h.html" title="Public declarations for Variable Math module." alt="" coords="2336,161,2432,188"><area shape="rect" href="custom_8h.html" title="Declarations for Custom module." alt="" coords="2456,161,2544,188"></map>
</div>

<p>
<a href="subsetter_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415">ABSOLUTE</a> = 0, 
<br>
&nbsp;&nbsp;<a class="el" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e">SCALEMIN</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b0410c4dd5f028b3ab8d94e123e682de926">SCALEMAX</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#67e0a36d9d6b8623850444e57612149e">getArgs</a> (int, char **)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#b502cb0ac537fb4abeeb105ab31390dd">createThresholdableVar</a> (<a class="el" href="structFC__Variable.html">FC_Variable</a>, <a class="el" href="structFC__Variable.html">FC_Variable</a> *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#68343740bad2c219c431df8827f5e25c">processOneVar</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="structFC__Variable.html">FC_Variable</a> var, int step, int currnSubsets)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#5470d1fe286b8864424987862ea74aae">ds</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#15206368e0a18f984f0ad6cb10c2995e">op</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#fcfbedec6ebde62c6a091ce335836ef1">threshold</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="group__DataTypes.html#g1ceb59a5b485f8bcbcb8acad4cfb9323">FC_VerbosityLevel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#46e260e16f29333b3f475e879e4d8e70">verbose_level</a> = FC_QUIET</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#1b1d0096741b4e5e6db466c2d58ba0d2">ffilebase</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a></td></tr>

</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="bc6126af1d45847bc59afa0aa3216b04"></a><!-- doxytag: member="subsetter.c::@3" ref="bc6126af1d45847bc59afa0aa3216b04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415"></a><!-- doxytag: member="ABSOLUTE" ref="bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415" args="" -->ABSOLUTE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e"></a><!-- doxytag: member="SCALEMIN" ref="bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e" args="" -->SCALEMIN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="bc6126af1d45847bc59afa0aa3216b0410c4dd5f028b3ab8d94e123e682de926"></a><!-- doxytag: member="SCALEMAX" ref="bc6126af1d45847bc59afa0aa3216b0410c4dd5f028b3ab8d94e123e682de926" args="" -->SCALEMAX</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00127">127</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00127"></a>00127 {<a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415">ABSOLUTE</a>=0, <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e">SCALEMIN</a>, <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b0410c4dd5f028b3ab8d94e123e682de926">SCALEMAX</a>};
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="b502cb0ac537fb4abeeb105ab31390dd"></a><!-- doxytag: member="subsetter.c::createThresholdableVar" ref="b502cb0ac537fb4abeeb105ab31390dd" args="(FC_Variable, FC_Variable *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int createThresholdableVar           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a>&nbsp;</td>
          <td class="paramname"> <em>var_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a> *&nbsp;</td>
          <td class="paramname"> <em>thresh_var_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00329">329</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>References <a class="el" href="varmath_8c-source.html#l03533">fc_createMagnitudeVariable()</a>, <a class="el" href="error_8h-source.html#l00080">fc_exitIfError</a>, <a class="el" href="error_8h-source.html#l00116">fc_exitIfErrorPrintf</a>, and <a class="el" href="variable_8c-source.html#l05582">fc_getVariableNumComponent()</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00329"></a>00329                                                                                   {
<a name="l00330"></a>00330   <span class="keywordtype">int</span> numComp;
<a name="l00331"></a>00331   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc = <a class="code" href="group__Variable.html#gb3e6e14f099d7870ee2c38ccccf87544" title="Return number of components of a variable.">fc_getVariableNumComponent</a>(var_handle,&amp;numComp);
<a name="l00332"></a>00332   <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00333"></a>00333   <span class="keywordflow">if</span> (numComp != 1){
<a name="l00334"></a>00334     <span class="comment">// use the magnitude instead</span>
<a name="l00335"></a>00335     rc = <a class="code" href="group__VariableMath.html#g8b3157495faccd3052b54aa54cb96c1b" title="Creates a new variable which is the magnitude of the current variable.">fc_createMagnitudeVariable</a>(var_handle, <span class="stringliteral">"mag"</span>, thresh_var_handle);
<a name="l00336"></a>00336     <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Cannot make magnitude var\n"</span>);
<a name="l00337"></a>00337   } <span class="keywordflow">else</span> {
<a name="l00338"></a>00338     *thresh_var_handle = var_handle;
<a name="l00339"></a>00339   }
<a name="l00340"></a>00340   <span class="keywordflow">return</span> 1;
<a name="l00341"></a>00341 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="67e0a36d9d6b8623850444e57612149e"></a><!-- doxytag: member="subsetter.c::getArgs" ref="67e0a36d9d6b8623850444e57612149e" args="(int, char **)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getArgs           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00525">525</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>References <a class="el" href="subsetter_8c-source.html#l00127">ABSOLUTE</a>, <a class="el" href="subsetter_8c-source.html#l00118">doFeature</a>, <a class="el" href="subsetter_8c-source.html#l00111">doPromote</a>, <a class="el" href="subsetter_8c-source.html#l00110">doStrict</a>, <a class="el" href="base_8h-source.html#l00084">FC_LOG_MESSAGES</a>, <a class="el" href="base_8h-source.html#l00083">FC_WARNING_MESSAGES</a>, <a class="el" href="subsetter_8c-source.html#l00116">ffilebase</a>, <a class="el" href="subsetter_8c-source.html#l00114">file_name</a>, <a class="el" href="subsetter_8c-source.html#l00108">op</a>, <a class="el" href="subsetter_8c-source.html#l00127">SCALEMAX</a>, <a class="el" href="subsetter_8c-source.html#l00127">SCALEMIN</a>, <a class="el" href="subsetter_8c-source.html#l00109">threshold</a>, <a class="el" href="subsetter_8c-source.html#l00112">threshType</a>, <a class="el" href="subsetter_8c-source.html#l00115">var_name</a>, and <a class="el" href="regionreassembler_8c-source.html#l00069">verbose_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00525"></a>00525                                    {
<a name="l00526"></a>00526   <span class="comment">// handle arguments</span>
<a name="l00527"></a>00527   <span class="keywordtype">int</span> i;
<a name="l00528"></a>00528 
<a name="l00529"></a>00529   <span class="keywordflow">if</span> (argc &lt; 5) {
<a name="l00530"></a>00530   usage:
<a name="l00531"></a>00531     printf(<span class="stringliteral">"usage: %s [options] dataset \"var name\" \"op\" thresh_value/perc doStrict\n"</span>, argv[0]);
<a name="l00532"></a>00532     printf(<span class="stringliteral">"options: \n"</span>);
<a name="l00533"></a>00533     printf(<span class="stringliteral">"   -h           : print this help message\n"</span>);
<a name="l00534"></a>00534     printf(<span class="stringliteral">"   -v           : verbose: print warning and error messages\n"</span>);
<a name="l00535"></a>00535     printf(<span class="stringliteral">"   -V           : very verbose: print log and error messages\n"</span>);
<a name="l00536"></a>00536     printf(<span class="stringliteral">"   -M           : promote thresholded subsets to meshes (for reassembler later)\n"</span>);
<a name="l00537"></a>00537     printf(<span class="stringliteral">"   -f ffile     : turn on feature tracking. will write per-mesh output files with ffilename base\n"</span>);
<a name="l00538"></a>00538     printf(<span class="stringliteral">"   -a/smax/smin (required) : is the thresh value absolute (a) or a scale (times) of the max or min per timestep\n"</span>);
<a name="l00539"></a>00539     printf(<span class="stringliteral">"\n"</span>);
<a name="l00540"></a>00540     printf(<span class="stringliteral">"Prints to stdout the subsets in the dataset for which\n"</span>);
<a name="l00541"></a>00541     printf(<span class="stringliteral">"the given nodal or elem variable satisfies the threshold operation.\n"</span>);
<a name="l00542"></a>00542     printf(<span class="stringliteral">"\"op\" is an operator such as \"&gt;\", \"&lt;=\", \"==\", etc.\n"</span>);
<a name="l00543"></a>00543     printf(<span class="stringliteral">"Quotes are required around the op string, but can be dropped\n"</span>);
<a name="l00544"></a>00544     printf(<span class="stringliteral">"around the variable name if it contains no spaces or\n"</span>);
<a name="l00545"></a>00545     printf(<span class="stringliteral">"punctuation. \"doStrict\" is used in the internal call to\n"</span>);
<a name="l00546"></a>00546     printf(<span class="stringliteral">"fc_copySubsetWithNewAssociation and more info can be found there.\n"</span>);
<a name="l00547"></a>00547     printf(<span class="stringliteral">"\n"</span>);
<a name="l00548"></a>00548     printf(<span class="stringliteral">"Example: %s -M -f \"./junk/sub\" -a ../data/gen_multivar_seq.ex2 \"temperature per vertex\" \"&gt;\" 300 1\n"</span>, argv[0]);
<a name="l00549"></a>00549     printf(<span class="stringliteral">"\n"</span>);
<a name="l00550"></a>00550     printf(<span class="stringliteral">"\n"</span>);
<a name="l00551"></a>00551     fflush(NULL);
<a name="l00552"></a>00552     exit(-1);
<a name="l00553"></a>00553   }
<a name="l00554"></a>00554 
<a name="l00555"></a>00555   <span class="comment">//defaults</span>
<a name="l00556"></a>00556   <a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a> = -1;
<a name="l00557"></a>00557 
<a name="l00558"></a>00558   <span class="keywordflow">for</span> (i = 1; i &lt; argc; i++) {
<a name="l00559"></a>00559     <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-v"</span>)) {
<a name="l00560"></a>00560       <a class="code" href="regionreassembler_8c.html#46e260e16f29333b3f475e879e4d8e70">verbose_level</a> = <a class="code" href="group__DataTypes.html#gg1ceb59a5b485f8bcbcb8acad4cfb9323d5f8d0b704dba62980776bac1283a741">FC_WARNING_MESSAGES</a>;
<a name="l00561"></a>00561     }
<a name="l00562"></a>00562     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-V"</span>)) {
<a name="l00563"></a>00563       <a class="code" href="regionreassembler_8c.html#46e260e16f29333b3f475e879e4d8e70">verbose_level</a> = <a class="code" href="group__DataTypes.html#gg1ceb59a5b485f8bcbcb8acad4cfb932395535fc1e83f1faa426c80811de6c55e">FC_LOG_MESSAGES</a>;
<a name="l00564"></a>00564     }
<a name="l00565"></a>00565     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-M"</span>)){
<a name="l00566"></a>00566       <a class="code" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a> = 1;
<a name="l00567"></a>00567     }
<a name="l00568"></a>00568     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-f"</span>)){
<a name="l00569"></a>00569       <a class="code" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a> = 1;
<a name="l00570"></a>00570       <span class="keywordflow">if</span> (i+1 &gt; argc)
<a name="l00571"></a>00571      <span class="keywordflow">goto</span> usage;
<a name="l00572"></a>00572       <a class="code" href="subsetter_8c.html#1b1d0096741b4e5e6db466c2d58ba0d2">ffilebase</a> = argv[++i];
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-a"</span>) || !(strcmp(argv[i], <span class="stringliteral">"-smin"</span>)) || !(strcmp(argv[i], <span class="stringliteral">"-smax"</span>))){
<a name="l00575"></a>00575       <span class="comment">//putting these together for clarity</span>
<a name="l00576"></a>00576       <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> != -1){
<a name="l00577"></a>00577      <span class="keywordflow">goto</span> usage;
<a name="l00578"></a>00578       }
<a name="l00579"></a>00579       <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-a"</span>)){
<a name="l00580"></a>00580      <a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> = <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415">ABSOLUTE</a>;
<a name="l00581"></a>00581       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(argv[i], <span class="stringliteral">"-smin"</span>)){
<a name="l00582"></a>00582      <a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> = <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e">SCALEMIN</a>;
<a name="l00583"></a>00583       } <span class="keywordflow">else</span> {
<a name="l00584"></a>00584      <a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> = <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b0410c4dd5f028b3ab8d94e123e682de926">SCALEMAX</a>;
<a name="l00585"></a>00585       }
<a name="l00586"></a>00586     } 
<a name="l00587"></a>00587     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(argv[i], <span class="stringliteral">"-h"</span>, 2) || !strncmp(argv[i], <span class="stringliteral">"-"</span>, 1))
<a name="l00588"></a>00588       <span class="keywordflow">goto</span> usage;
<a name="l00589"></a>00589     <span class="keywordflow">else</span> {
<a name="l00590"></a>00590       <span class="keywordflow">if</span> (i+4 &gt;= argc)
<a name="l00591"></a>00591         <span class="keywordflow">goto</span> usage;
<a name="l00592"></a>00592       <a class="code" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a> = argv[i];
<a name="l00593"></a>00593       <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a> = argv[i+1];
<a name="l00594"></a>00594       <a class="code" href="subsetter_8c.html#15206368e0a18f984f0ad6cb10c2995e">op</a> = argv[i+2];
<a name="l00595"></a>00595       <a class="code" href="subsetter_8c.html#fcfbedec6ebde62c6a091ce335836ef1">threshold</a> = atof(argv[i+3]);
<a name="l00596"></a>00596       <a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a> = atoi(argv[i+4]);
<a name="l00597"></a>00597       i+=4;
<a name="l00598"></a>00598     }
<a name="l00599"></a>00599   }
<a name="l00600"></a>00600   <span class="keywordflow">if</span> (!<a class="code" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a> || !<a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a> || (<a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a> == -1) || <a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> == -1)
<a name="l00601"></a>00601     <span class="keywordflow">goto</span> usage;
<a name="l00602"></a>00602 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="subsetter.c::main" ref="3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00129">129</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>References <a class="el" href="subsetter_8c-source.html#l00118">doFeature</a>, <a class="el" href="subsetter_8c-source.html#l00111">doPromote</a>, <a class="el" href="base_8h-source.html#l00196">FC_AT_ELEMENT</a>, <a class="el" href="base_8h-source.html#l00191">FC_AT_VERTEX</a>, <a class="el" href="sequence_8c-source.html#l00310">fc_copySequence()</a>, <a class="el" href="dataset_8c-source.html#l00116">fc_createDataset()</a>, <a class="el" href="feature_8c-source.html#l00126">fc_createFeatureGroup()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="error_8h-source.html#l00080">fc_exitIfError</a>, <a class="el" href="error_8h-source.html#l00116">fc_exitIfErrorPrintf</a>, <a class="el" href="library_8c-source.html#l00256">fc_finalLibrary()</a>, <a class="el" href="feature_8c-source.html#l00177">fc_freeFeatureGroup()</a>, <a class="el" href="fileio_8h-source.html#l00081">FC_FT_EXODUS</a>, <a class="el" href="mesh_8c-source.html#l02183">fc_getMeshes()</a>, <a class="el" href="mesh_8c-source.html#l02762">fc_getMeshName()</a>, <a class="el" href="variable_8c-source.html#l04695">fc_getOrGenerateUniqueSeqVariableByName()</a>, <a class="el" href="variable_8c-source.html#l04286">fc_getOrGenerateUniqueVariableByName()</a>, <a class="el" href="sequence_8c-source.html#l01150">fc_getSequences()</a>, <a class="el" href="variable_8c-source.html#l05539">fc_getVariableAssociationType()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="library_8c-source.html#l00208">fc_initLibrary()</a>, <a class="el" href="variable_8c-source.html#l05178">fc_isSeqVariableValid()</a>, <a class="el" href="variable_8c-source.html#l05156">fc_isVariableValid()</a>, <a class="el" href="fileio_8c-source.html#l01565">fc_loadDataset()</a>, <a class="el" href="base_8c-source.html#l00779">FC_NULL_VARIABLE</a>, <a class="el" href="feature_8c-source.html#l01044">fc_printFeatureGroup()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="library_8c-source.html#l00146">fc_setLibraryVerbosity()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="track_8c-source.html#l00159">fc_trackAllSteps()</a>, <a class="el" href="fileio_8c-source.html#l01706">fc_writeDataset()</a>, <a class="el" href="feature_8c-source.html#l01145">fc_writeFeatureGraph()</a>, <a class="el" href="subsetter_8c-source.html#l00116">ffilebase</a>, <a class="el" href="subsetter_8c-source.html#l00114">file_name</a>, <a class="el" href="regionreassembler_8c-source.html#l00332">getArgs()</a>, <a class="el" href="subsetter_8c-source.html#l00119">numROIPerStep</a>, <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>, <a class="el" href="subsetter_8c-source.html#l00115">var_name</a>, and <a class="el" href="regionreassembler_8c-source.html#l00069">verbose_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00129"></a>00129                                 {
<a name="l00130"></a>00130   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00131"></a>00131   <span class="keywordtype">int</span> i;
<a name="l00132"></a>00132   <span class="keywordtype">int</span> numMesh;
<a name="l00133"></a>00133   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a>* meshes;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135   <a class="code" href="regionreassembler_8c.html#67e0a36d9d6b8623850444e57612149e">getArgs</a>(argc, argv);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137   <span class="comment">// init library and load dataset</span>
<a name="l00138"></a>00138   rc = <a class="code" href="group__Library.html#gc54575c50a63dd29c694c78315d8fcf2" title="Set the library verbosity level.">fc_setLibraryVerbosity</a>(<a class="code" href="regionreassembler_8c.html#46e260e16f29333b3f475e879e4d8e70">verbose_level</a>);
<a name="l00139"></a>00139   <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00140"></a>00140   rc = <a class="code" href="group__Library.html#g18b26962103ffc9596657386d55a93af" title="Setup Feature Characterization Library for use.">fc_initLibrary</a>();
<a name="l00141"></a>00141   <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00142"></a>00142   rc = <a class="code" href="group__FileIO.html#g77b8250a472752e14bda28962116a66b" title="Load a dataset and it&amp;#39;s members from a file.">fc_loadDataset</a>(<a class="code" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a>, &amp;<a class="code" href="regionreassembler_8c.html#5470d1fe286b8864424987862ea74aae">ds</a>);
<a name="l00143"></a>00143   <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc,<span class="stringliteral">"Can't load dataset\n"</span>);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145   <span class="comment">//set up new dataset -- is this really the only way I can</span>
<a name="l00146"></a>00146   <span class="comment">//get a dataset I can drop things from and write?</span>
<a name="l00147"></a>00147   rc = <a class="code" href="group__Dataset.html#g14025fd46757f6fd2943b3bcdcab39d0" title="Create a new dataset.">fc_createDataset</a>(<span class="stringliteral">"copied_ds"</span>, &amp;<a class="code" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a>); <span class="comment">//will have to handle case where there are no subsets created</span>
<a name="l00148"></a>00148   <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Failed to create new dataset"</span>);
<a name="l00149"></a>00149   rc = <a class="code" href="group__Dataset.html#g14025fd46757f6fd2943b3bcdcab39d0" title="Create a new dataset.">fc_createDataset</a>(<span class="stringliteral">"geomonly_ds"</span>, &amp;<a class="code" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a>); <span class="comment">//this will have only the orig geom. have to</span>
<a name="l00150"></a>00150   <span class="comment">//write to a separte ds so that it doesnt gain vertex vars in the eventual exodus writeout</span>
<a name="l00151"></a>00151   <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Failed to create new dataset"</span>);
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="comment">// get number of meshes and setup var arrays</span>
<a name="l00154"></a>00154   rc = <a class="code" href="group__Mesh.html#gcb092c2c909dd536c0120830890a9f36" title="Get the meshes in a dataset.">fc_getMeshes</a>(<a class="code" href="regionreassembler_8c.html#5470d1fe286b8864424987862ea74aae">ds</a>, &amp;numMesh, &amp;meshes);
<a name="l00155"></a>00155 
<a name="l00156"></a>00156   printf(<span class="stringliteral">"Subset summary for dataset '%s'\n"</span>,<a class="code" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a>);
<a name="l00157"></a>00157   fflush(NULL);
<a name="l00158"></a>00158   
<a name="l00159"></a>00159   <span class="keywordflow">if</span> (numMesh &lt; 1){
<a name="l00160"></a>00160     printf(<span class="stringliteral">"No meshes were found\n"</span>);
<a name="l00161"></a>00161     fflush(NULL);
<a name="l00162"></a>00162     exit(0);
<a name="l00163"></a>00163   } <span class="keywordflow">else</span> {
<a name="l00164"></a>00164     printf(<span class="stringliteral">"%d meshes:\n"</span>, numMesh);
<a name="l00165"></a>00165     fflush(NULL);
<a name="l00166"></a>00166     
<a name="l00167"></a>00167     <span class="comment">// loop over meshes</span>
<a name="l00168"></a>00168     <span class="keywordflow">for</span> (i = 0; i &lt; numMesh; i++) {
<a name="l00169"></a>00169       <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a> var_handle;
<a name="l00170"></a>00170       <span class="keywordtype">char</span>* mesh_name;
<a name="l00171"></a>00171       <a class="code" href="group__Mesh.html#g3d701a44941883311e4940d7d3b4146a" title="Return name of a mesh.">fc_getMeshName</a>(meshes[i], &amp;mesh_name);
<a name="l00172"></a>00172       printf(<span class="stringliteral">"Results for mesh '%s':\n"</span>,mesh_name);
<a name="l00173"></a>00173       fflush(NULL);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175       <span class="comment">//check if basic var</span>
<a name="l00176"></a>00176       rc = <a class="code" href="group__Variable.html#g0fa74bad632cca78316af6f11ef7cf48" title="Gets a unique var if it exists, otherwise generate it from components if possible...">fc_getOrGenerateUniqueVariableByName</a>(meshes[i], <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>,
<a name="l00177"></a>00177                               &amp;var_handle);
<a name="l00178"></a>00178       <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00179"></a>00179       <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(var_handle, <a class="code" href="group__Handles.html#g82162b8ad3f5476855507c3c6450db09" title="Null (default) variable handle.">FC_NULL_VARIABLE</a>)){
<a name="l00180"></a>00180        <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Problems finding unique basic variable '%s'"</span>,
<a name="l00181"></a>00181                       <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>);
<a name="l00182"></a>00182       }
<a name="l00183"></a>00183       
<a name="l00184"></a>00184       <span class="keywordflow">if</span> (<a class="code" href="group__Variable.html#g31f5830cdcafcce9ffec2c8bb2ff46e2" title="Check that the handle refers to a valid variable.">fc_isVariableValid</a>(var_handle)){
<a name="l00185"></a>00185      <span class="comment">//make sure its the right type</span>
<a name="l00186"></a>00186      <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188      rc = <a class="code" href="group__Variable.html#ge4935bc28dae482ddabcfd421400ab13" title="Return data association of a variable.">fc_getVariableAssociationType</a>(var_handle, &amp;assoc);
<a name="l00189"></a>00189      <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00190"></a>00190      
<a name="l00191"></a>00191      <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af690a2a90b49747de25e69b3bfdad27f4a">FC_AT_ELEMENT</a> || assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af644ec6296999025f1ac12940f0c8e36d3">FC_AT_VERTEX</a> ){
<a name="l00192"></a>00192        <a class="code" href="subsetter_8c.html#68343740bad2c219c431df8827f5e25c">processOneVar</a>( meshes[i], var_handle, -1, 0);
<a name="l00193"></a>00193      }
<a name="l00194"></a>00194       } <span class="keywordflow">else</span> {
<a name="l00195"></a>00195         <span class="comment">//check if seq var</span>
<a name="l00196"></a>00196         <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a>* seq_var_handles;
<a name="l00197"></a>00197         <span class="keywordtype">int</span> temp_numStep;
<a name="l00198"></a>00198      <span class="keywordtype">int</span> j;
<a name="l00199"></a>00199      <span class="keywordtype">int</span> nSubsets = 0;
<a name="l00200"></a>00200      rc = <a class="code" href="group__Variable.html#g9022a4933230e252076467a05f101a68" title="Gets a unique seq var if it exists, otherwise generate it from components if possible...">fc_getOrGenerateUniqueSeqVariableByName</a>(meshes[i], <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>,
<a name="l00201"></a>00201                                    &amp;temp_numStep,
<a name="l00202"></a>00202                                    &amp;seq_var_handles);
<a name="l00203"></a>00203         <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00204"></a>00204      <span class="keywordflow">if</span> (!seq_var_handles){
<a name="l00205"></a>00205        <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Problems finding unique seq variable '%s'"</span>,
<a name="l00206"></a>00206                     <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>);
<a name="l00207"></a>00207      }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="keywordflow">if</span> (<a class="code" href="group__Variable.html#gac07e226e274bee4de4b21db8e03ae0e" title="Check that the handle refers to a valid variable.">fc_isSeqVariableValid</a>(temp_numStep,seq_var_handles)){
<a name="l00210"></a>00210        <span class="comment">//make sure its the right type</span>
<a name="l00211"></a>00211        <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00212"></a>00212        
<a name="l00213"></a>00213        rc = <a class="code" href="group__Variable.html#ge4935bc28dae482ddabcfd421400ab13" title="Return data association of a variable.">fc_getVariableAssociationType</a>(seq_var_handles[0], &amp;assoc);
<a name="l00214"></a>00214        <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216        <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af690a2a90b49747de25e69b3bfdad27f4a">FC_AT_ELEMENT</a> || assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af644ec6296999025f1ac12940f0c8e36d3">FC_AT_VERTEX</a> ){ 
<a name="l00217"></a>00217          <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a>){
<a name="l00218"></a>00218            <a class="code" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a> = (<span class="keywordtype">int</span>*)malloc(temp_numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00219"></a>00219            <a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a> = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>**)malloc(temp_numStep*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*));
<a name="l00220"></a>00220          }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222          <span class="comment">//do step by step</span>
<a name="l00223"></a>00223          <span class="keywordflow">for</span> (j=0; j &lt; temp_numStep; j++){
<a name="l00224"></a>00224            <span class="keywordtype">int</span> crSubsets;
<a name="l00225"></a>00225            crSubsets =  <a class="code" href="subsetter_8c.html#68343740bad2c219c431df8827f5e25c">processOneVar</a>(meshes[i], seq_var_handles[j], 
<a name="l00226"></a>00226                           j, nSubsets);
<a name="l00227"></a>00227            nSubsets+=crSubsets;
<a name="l00228"></a>00228          } <span class="comment">//steps</span>
<a name="l00229"></a>00229          <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a>){
<a name="l00230"></a>00230            <span class="keywordtype">char</span> featurefilename[100];
<a name="l00231"></a>00231            <span class="keywordtype">int</span> sone = strlen(<a class="code" href="subsetter_8c.html#1b1d0096741b4e5e6db466c2d58ba0d2">ffilebase</a>);
<a name="l00232"></a>00232            <span class="keywordflow">if</span> (sone &gt; 20) sone = 20;
<a name="l00233"></a>00233            <span class="keywordtype">int</span> stwo = strlen(mesh_name);
<a name="l00234"></a>00234            <span class="keywordflow">if</span> (stwo &gt; 20) stwo = 20;
<a name="l00235"></a>00235            <span class="keywordtype">int</span> sthree = strlen(<a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>);
<a name="l00236"></a>00236            <span class="keywordflow">if</span> (sthree &gt; 20) sthree = 20;
<a name="l00237"></a>00237            <span class="keywordtype">char</span> formatstring[20];
<a name="l00238"></a>00238            snprintf(formatstring,20,<span class="stringliteral">"%s%d%s%d%s%d%s"</span>,<span class="stringliteral">"%"</span>,sone,<span class="stringliteral">"s_%"</span>,stwo,<span class="stringliteral">"s_%"</span>,sthree,<span class="stringliteral">"s"</span>);
<a name="l00239"></a>00239            snprintf(featurefilename, 100, formatstring,<a class="code" href="subsetter_8c.html#1b1d0096741b4e5e6db466c2d58ba0d2">ffilebase</a>,mesh_name,<a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>);
<a name="l00240"></a>00240            featurefilename[100-1] = <span class="charliteral">'\0'</span>;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242            rc = <a class="code" href="group__Features.html#g8267eb0702817ed89cdb46635cf3d97d" title="Create a new Feature Group.">fc_createFeatureGroup</a>(&amp;<a class="code" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a>);
<a name="l00243"></a>00243            <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Can't create feature group"</span>);
<a name="l00244"></a>00244            rc = <a class="code" href="group__FeatureTracking.html#g993f13a1cdda004e273ddd21f8877cad" title="Track and create features.">fc_trackAllSteps</a>(temp_numStep, <a class="code" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a>,
<a name="l00245"></a>00245                         <a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a>, <a class="code" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a>);
<a name="l00246"></a>00246            <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Can't track steps"</span>);
<a name="l00247"></a>00247            <span class="comment">//now can clean up</span>
<a name="l00248"></a>00248            free(<a class="code" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a>);
<a name="l00249"></a>00249            <span class="keywordflow">for</span> (j=0; j &lt; temp_numStep; j++){
<a name="l00250"></a>00250           free(<a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a>[j]);
<a name="l00251"></a>00251            }
<a name="l00252"></a>00252            free(<a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a>);
<a name="l00253"></a>00253            <a class="code" href="group__Features.html#g5aac348db7cb0b8f19d4100a6c67395d" title="Print the contents of a feature group.">fc_printFeatureGroup</a>(<a class="code" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a>);
<a name="l00254"></a>00254            <a class="code" href="group__Features.html#g98608b2006357dda5a91e4347aa3163b" title="Print a feature graph.">fc_writeFeatureGraph</a>(<a class="code" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a>,featurefilename);
<a name="l00255"></a>00255            <a class="code" href="group__Features.html#gf03a731433438d5b565026b23d338fa6" title="Free memory associated with a feature group.">fc_freeFeatureGroup</a>(<a class="code" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a>);
<a name="l00256"></a>00256          }
<a name="l00257"></a>00257        } <span class="comment">//assoc</span>
<a name="l00258"></a>00258         } <span class="keywordflow">else</span> {
<a name="l00259"></a>00259           printf(<span class="stringliteral">"Cannot get variable '%s'\n"</span>, <a class="code" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a>);
<a name="l00260"></a>00260           fflush(NULL);
<a name="l00261"></a>00261           <span class="keywordflow">continue</span>;
<a name="l00262"></a>00262      }
<a name="l00263"></a>00263         free(seq_var_handles);
<a name="l00264"></a>00264       }
<a name="l00265"></a>00265       free(mesh_name);
<a name="l00266"></a>00266     } <span class="comment">//nummesh</span>
<a name="l00267"></a>00267   }
<a name="l00268"></a>00268   free(meshes);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   {
<a name="l00271"></a>00271     <span class="comment">//if there are anymeshes on the geom only ds, then copy over the</span>
<a name="l00272"></a>00272     <span class="comment">//sequences as well for reconstituing later</span>
<a name="l00273"></a>00273     
<a name="l00274"></a>00274     <a class="code" href="structFC__Sequence.html" title="Sequence Handle.">FC_Sequence</a> *seqs,newseq;
<a name="l00275"></a>00275     <span class="keywordtype">int</span> numseq;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277     rc = <a class="code" href="group__Sequence.html#g0ad1217500f245d78aaad5c79f960ba1" title="Get the sequences in a dataset.">fc_getSequences</a>(<a class="code" href="regionreassembler_8c.html#5470d1fe286b8864424987862ea74aae">ds</a>, &amp;numseq, &amp;seqs);
<a name="l00278"></a>00278     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00279"></a>00279       printf(<span class="stringliteral">"Cannot get sequences from orig ds\n"</span>);
<a name="l00280"></a>00280     } <span class="keywordflow">else</span> {
<a name="l00281"></a>00281       <span class="keywordflow">for</span> (i = 0; i &lt; numseq; i++){
<a name="l00282"></a>00282      rc = <a class="code" href="group__Sequence.html#g75c324c79f7f053ef9e7c568dcb7bc5b" title="Copy a sequence.">fc_copySequence</a>(seqs[i],<a class="code" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a>,NULL,&amp;newseq);
<a name="l00283"></a>00283      <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>){
<a name="l00284"></a>00284        printf(<span class="stringliteral">"Cannot get copy sequence from orig ds\n"</span>);
<a name="l00285"></a>00285      }
<a name="l00286"></a>00286       }
<a name="l00287"></a>00287       free(seqs);
<a name="l00288"></a>00288     }
<a name="l00289"></a>00289   }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291   <span class="comment">/*</span>
<a name="l00292"></a>00292 <span class="comment">  printf("-----------------------------\n");</span>
<a name="l00293"></a>00293 <span class="comment">  fc_printDataset(ds,"test - orig ds");</span>
<a name="l00294"></a>00294 <span class="comment">  rc = fc_getMeshes(ds, &amp;numMesh, &amp;meshes);</span>
<a name="l00295"></a>00295 <span class="comment">  for (i = 0; i &lt; numMesh; i++){</span>
<a name="l00296"></a>00296 <span class="comment">    fc_printMesh(meshes[i],"",0,0,0,0);</span>
<a name="l00297"></a>00297 <span class="comment">  }</span>
<a name="l00298"></a>00298 <span class="comment">  if (meshes) free(meshes);</span>
<a name="l00299"></a>00299 <span class="comment">  fc_printDataset(new_ds,"test - new ds");</span>
<a name="l00300"></a>00300 <span class="comment">  rc = fc_getMeshes(new_ds, &amp;numMesh, &amp;meshes);</span>
<a name="l00301"></a>00301 <span class="comment">  for (i = 0; i &lt; numMesh; i++){</span>
<a name="l00302"></a>00302 <span class="comment">    fc_printMesh(meshes[i],"",0,0,0,0);</span>
<a name="l00303"></a>00303 <span class="comment">  }</span>
<a name="l00304"></a>00304 <span class="comment">  if (meshes) free(meshes);</span>
<a name="l00305"></a>00305 <span class="comment">  fc_printDataset(geomonly_ds,"test - geom only ds");</span>
<a name="l00306"></a>00306 <span class="comment">  rc = fc_getMeshes(geomonly_ds, &amp;numMesh, &amp;meshes);</span>
<a name="l00307"></a>00307 <span class="comment">  for (i = 0; i &lt; numMesh; i++){</span>
<a name="l00308"></a>00308 <span class="comment">    fc_printMesh(meshes[i],"",0,0,0,0);</span>
<a name="l00309"></a>00309 <span class="comment">  }</span>
<a name="l00310"></a>00310 <span class="comment">  if (meshes) free(meshes);</span>
<a name="l00311"></a>00311 <span class="comment">  printf("-----------------------------\n");</span>
<a name="l00312"></a>00312 <span class="comment">  */</span>
<a name="l00313"></a>00313 
<a name="l00314"></a>00314   <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a>){
<a name="l00315"></a>00315     rc = <a class="code" href="group__FileIO.html#gd9ebe76a3f236b62d2065721158bdf50" title="Write a dataset.">fc_writeDataset</a>(<a class="code" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a>, <span class="stringliteral">"subsetter_geomonly.ex2"</span>, <a class="code" href="group__FileIO.html#gge2c4eb60578842e0dfb050ffe07be10f99ecebdb6b57140d8fd211b1f9f62c4b">FC_FT_EXODUS</a>);
<a name="l00316"></a>00316   }
<a name="l00317"></a>00317   rc = <a class="code" href="group__FileIO.html#gd9ebe76a3f236b62d2065721158bdf50" title="Write a dataset.">fc_writeDataset</a>(<a class="code" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a>, <span class="stringliteral">"subsetter_subsets.ex2"</span>, <a class="code" href="group__FileIO.html#gge2c4eb60578842e0dfb050ffe07be10f99ecebdb6b57140d8fd211b1f9f62c4b">FC_FT_EXODUS</a>);
<a name="l00318"></a>00318 
<a name="l00319"></a>00319   <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00320"></a>00320   rc = <a class="code" href="group__Dataset.html#g34fa9d41751a903d238574a800456d78" title="Delete a dataset.">fc_deleteDataset</a>(<a class="code" href="regionreassembler_8c.html#5470d1fe286b8864424987862ea74aae">ds</a>);
<a name="l00321"></a>00321   <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323   <a class="code" href="group__Library.html#g29ff0e41fb4f58b55489bc875ac32b2f" title="Cleanup when done using Feature Characterization Library.">fc_finalLibrary</a>();
<a name="l00324"></a>00324   exit(0);
<a name="l00325"></a>00325 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="68343740bad2c219c431df8827f5e25c"></a><!-- doxytag: member="subsetter.c::processOneVar" ref="68343740bad2c219c431df8827f5e25c" args="(FC_Mesh mesh, FC_Variable var, int step, int currnSubsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int processOneVar           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a>&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>currnSubsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00344">344</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>References <a class="el" href="subsetter_8c-source.html#l00127">ABSOLUTE</a>, <a class="el" href="subsetter_8c-source.html#l00329">createThresholdableVar()</a>, <a class="el" href="subsetter_8c-source.html#l00118">doFeature</a>, <a class="el" href="subsetter_8c-source.html#l00111">doPromote</a>, <a class="el" href="subsetter_8c-source.html#l00110">doStrict</a>, <a class="el" href="base_8h-source.html#l00196">FC_AT_ELEMENT</a>, <a class="el" href="base_8h-source.html#l00191">FC_AT_VERTEX</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="variable_8c-source.html#l01831">fc_copyVariableToRegionMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="threshold_8c-source.html#l00088">fc_createThresholdSubset()</a>, <a class="el" href="mesh_8c-source.html#l02626">fc_deleteMesh()</a>, <a class="el" href="subset_8c-source.html#l02482">fc_deleteSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="error_8h-source.html#l00080">fc_exitIfError</a>, <a class="el" href="error_8h-source.html#l00116">fc_exitIfErrorPrintf</a>, <a class="el" href="mesh_8c-source.html#l02285">fc_getMeshByName()</a>, <a class="el" href="mesh_8c-source.html#l02953">fc_getMeshDim()</a>, <a class="el" href="mesh_8c-source.html#l02762">fc_getMeshName()</a>, <a class="el" href="variable_8c-source.html#l03637">fc_getSeqVariables()</a>, <a class="el" href="subset_8c-source.html#l02700">fc_getSubsetName()</a>, <a class="el" href="subset_8c-source.html#l02828">fc_getSubsetNumMember()</a>, <a class="el" href="variable_8c-source.html#l05539">fc_getVariableAssociationType()</a>, <a class="el" href="statistics_8c-source.html#l00097">fc_getVariableMinMax()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8c-source.html#l00774">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="mesh_8c-source.html#l04004">fc_printMesh()</a>, <a class="el" href="subset_8c-source.html#l03173">fc_printSubset()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="subsetter_8c-source.html#l00119">numROIPerStep</a>, <a class="el" href="subsetter_8c-source.html#l00108">op</a>, <a class="el" href="subsetter_8c-source.html#l00127">SCALEMIN</a>, <a class="el" href="subsetter_8c-source.html#l00109">threshold</a>, and <a class="el" href="subsetter_8c-source.html#l00112">threshType</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00129">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00346"></a>00346                                            {
<a name="l00347"></a>00347   <span class="comment">//if its not a seqvar step = -1</span>
<a name="l00348"></a>00348   <span class="comment">//currnSubsets is number of segments currently written out for this mesh (if this</span>
<a name="l00349"></a>00349   <span class="comment">//the first time one will be written out, we also write out the mesh to the new</span>
<a name="l00350"></a>00350   <span class="comment">//dataset</span>
<a name="l00351"></a>00351   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00352"></a>00352   <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a> thresh_var;
<a name="l00353"></a>00353   <span class="keywordtype">char</span>* mesh_name;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355   <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#b502cb0ac537fb4abeeb105ab31390dd">createThresholdableVar</a>(var_handle,&amp;thresh_var)){
<a name="l00356"></a>00356     <span class="keywordtype">int</span> numMember;
<a name="l00357"></a>00357     <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> subs_handle;
<a name="l00358"></a>00358     <span class="keywordtype">char</span> sub_name[MAX_STR_LENGTH];
<a name="l00359"></a>00359     <span class="keywordtype">double</span> currthreshold;
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     <a class="code" href="group__Mesh.html#g3d701a44941883311e4940d7d3b4146a" title="Return name of a mesh.">fc_getMeshName</a>(mesh, &amp;mesh_name);
<a name="l00362"></a>00362     <span class="keywordflow">if</span> (step == -1 ){
<a name="l00363"></a>00363       snprintf(sub_name, MAX_STR_LENGTH, <span class="stringliteral">"%s_T"</span>,mesh_name);
<a name="l00364"></a>00364     } <span class="keywordflow">else</span> {
<a name="l00365"></a>00365       snprintf(sub_name, MAX_STR_LENGTH, <span class="stringliteral">"%s_T%d"</span>,mesh_name,step);
<a name="l00366"></a>00366     }
<a name="l00367"></a>00367     sub_name[MAX_STR_LENGTH-1] = <span class="charliteral">'\0'</span>;
<a name="l00368"></a>00368 
<a name="l00369"></a>00369     <span class="keywordflow">switch</span> (<a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a>){
<a name="l00370"></a>00370     <span class="keywordflow">case</span> <a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04c45fae60f994b1b3d5dd2556265f3415">ABSOLUTE</a>:
<a name="l00371"></a>00371       currthreshold = <a class="code" href="subsetter_8c.html#fcfbedec6ebde62c6a091ce335836ef1">threshold</a>;
<a name="l00372"></a>00372       <span class="keywordflow">break</span>;
<a name="l00373"></a>00373     <span class="keywordflow">default</span>:
<a name="l00374"></a>00374       {
<a name="l00375"></a>00375      <span class="keywordtype">double</span> minv, maxv;
<a name="l00376"></a>00376      rc = <a class="code" href="group__Statistics.html#g8e828048c88585a6de200e4f05d61ee4" title="Find min &amp;amp; max data values of a variable.">fc_getVariableMinMax</a>(var_handle, &amp;minv, NULL, &amp;maxv, NULL);
<a name="l00377"></a>00377      <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Cannot get min/max\n"</span>);
<a name="l00378"></a>00378      currthreshold  = (<a class="code" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> ==<a class="code" href="subsetter_8c.html#bc6126af1d45847bc59afa0aa3216b04af6bb1cd1bcf55d9315fea519b327b0e">SCALEMIN</a>)? minv: maxv;
<a name="l00379"></a>00379      currthreshold *= <a class="code" href="subsetter_8c.html#fcfbedec6ebde62c6a091ce335836ef1">threshold</a>; <span class="comment">//threshold is a scale val</span>
<a name="l00380"></a>00380      <span class="comment">//   printf("max = %f min = %f scale = %f abs = %f\n", </span>
<a name="l00381"></a>00381      <span class="comment">//          maxv, minv, threshold, currthreshold);</span>
<a name="l00382"></a>00382      <span class="keywordflow">break</span>;
<a name="l00383"></a>00383       }
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386     rc = <a class="code" href="group__Threshold.html#g6419d82dbacbe4aed0a6e2cde7c3d146" title="Create thresholded region.">fc_createThresholdSubset</a>(thresh_var, <a class="code" href="subsetter_8c.html#15206368e0a18f984f0ad6cb10c2995e">op</a>, currthreshold, sub_name,
<a name="l00387"></a>00387                       &amp;subs_handle); <span class="comment">//gives me all the ids</span>
<a name="l00388"></a>00388     <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00389"></a>00389     
<a name="l00390"></a>00390     rc = <a class="code" href="group__Subset.html#gdf7851470403bb379426110abf7923ba" title="Get number of members in a subset.">fc_getSubsetNumMember</a>(subs_handle, &amp;numMember);
<a name="l00391"></a>00391     <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00392"></a>00392     <span class="keywordflow">if</span> (numMember &lt; 1){
<a name="l00393"></a>00393       <span class="keywordflow">if</span> (step != -1 &amp;&amp; <a class="code" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a>){
<a name="l00394"></a>00394      <span class="comment">//for feature tracking - can only do if seqvar</span>
<a name="l00395"></a>00395      <a class="code" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a>[step] = 0;
<a name="l00396"></a>00396      <a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a>[step] = NULL;
<a name="l00397"></a>00397       }
<a name="l00398"></a>00398       rc = <a class="code" href="group__Subset.html#g550d0636e4f35c29d6dbc427b3165a24" title="Delete a subset.">fc_deleteSubset</a>(subs_handle);
<a name="l00399"></a>00399       <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00400"></a>00400       free(mesh_name);
<a name="l00401"></a>00401       <span class="keywordflow">return</span> 0;
<a name="l00402"></a>00402     } <span class="keywordflow">else</span> {
<a name="l00403"></a>00403       <span class="comment">//segment</span>
<a name="l00404"></a>00404       <span class="keywordtype">int</span> numSegments;
<a name="l00405"></a>00405       <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> *segments;
<a name="l00406"></a>00406       <span class="keywordtype">int</span> num_dim;
<a name="l00407"></a>00407       <span class="keywordtype">int</span> i,j;
<a name="l00408"></a>00408 
<a name="l00409"></a>00409       rc = <a class="code" href="group__TopologyRelations.html#g45c86dc9ebd4835c3f96efdf2a6003d9" title="Created separate connected components.">fc_segment</a>(subs_handle, 0, &amp;numSegments, &amp;segments); <span class="comment">//names work out ok</span>
<a name="l00410"></a>00410       <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00411"></a>00411       <span class="comment">//no longer need the thresh subset</span>
<a name="l00412"></a>00412       rc = <a class="code" href="group__Subset.html#g550d0636e4f35c29d6dbc427b3165a24" title="Delete a subset.">fc_deleteSubset</a>(subs_handle);
<a name="l00413"></a>00413       <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415       <span class="keywordflow">if</span> (step != -1){
<a name="l00416"></a>00416      printf(<span class="stringliteral">"Step %d:\n"</span>,step);
<a name="l00417"></a>00417       }
<a name="l00418"></a>00418       <span class="comment">//write it out to the new dataset</span>
<a name="l00419"></a>00419       <span class="keywordflow">if</span> (currnSubsets == 0){
<a name="l00420"></a>00420      <span class="comment">//will want this geom only later</span>
<a name="l00421"></a>00421      <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> copiedMesh;
<a name="l00422"></a>00422      <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a>){ 
<a name="l00423"></a>00423        <span class="comment">//copy it to a diff file than the promotions</span>
<a name="l00424"></a>00424        <span class="comment">//write out the whole mesh geom </span>
<a name="l00425"></a>00425        rc = <a class="code" href="group__Mesh.html#g13cefebd04b8d1c1586737e32fc6ae2b" title="Copy a mesh.">fc_copyMesh</a>(mesh, <a class="code" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a>, mesh_name, 0,0,0,0, &amp;copiedMesh);
<a name="l00426"></a>00426        <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Can't copy over original mesh geom"</span>);  
<a name="l00427"></a>00427      } <span class="keywordflow">else</span> {
<a name="l00428"></a>00428        <span class="comment">//copy it to the same file as the non-promoted subsets since the subsets will be on this mesh</span>
<a name="l00429"></a>00429        rc = <a class="code" href="group__Mesh.html#g13cefebd04b8d1c1586737e32fc6ae2b" title="Copy a mesh.">fc_copyMesh</a>(mesh, <a class="code" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a>, mesh_name, 0,0,0,0, &amp;copiedMesh);
<a name="l00430"></a>00430        <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Can't copy over original mesh geom"</span>);  
<a name="l00431"></a>00431      }
<a name="l00432"></a>00432       }
<a name="l00433"></a>00433 
<a name="l00434"></a>00434       rc = <a class="code" href="group__Mesh.html#g1dbe9de126f08baea03de91a37b0258b" title="Returns dimensionality of the mesh coordinates.">fc_getMeshDim</a>(mesh, &amp;num_dim);
<a name="l00435"></a>00435       <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc,<span class="stringliteral">"Can't get mesh dim"</span>);
<a name="l00436"></a>00436       <span class="keywordflow">for</span> (i = 0; i &lt; numSegments; i++){
<a name="l00437"></a>00437      <span class="keywordtype">char</span> *segname;
<a name="l00438"></a>00438 
<a name="l00439"></a>00439      rc = <a class="code" href="group__Subset.html#g429e404a267e2f574e2578aa5d0aaa35" title="Get subset name.">fc_getSubsetName</a>(segments[i], &amp;segname);
<a name="l00440"></a>00440      <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"Can't get subset name"</span>);
<a name="l00441"></a>00441      <a class="code" href="group__Subset.html#g9e2ce19c0ca2d3f08df7f02643f82ce3" title="Print subset meta data to stdout, and optionally the member IDs.">fc_printSubset</a>(segments[i],<span class="stringliteral">"thresh subset"</span>,0);
<a name="l00442"></a>00442 
<a name="l00443"></a>00443      <span class="keywordflow">if</span> (<a class="code" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a>){
<a name="l00444"></a>00444        <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> promotedMesh;
<a name="l00445"></a>00445        <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a> vertmap, elemmap;
<a name="l00446"></a>00446        <span class="comment">//copy over the vars and also the seq vars, but for this timestep only</span>
<a name="l00447"></a>00447        <span class="comment">//first get the vars</span>
<a name="l00448"></a>00448        rc = <a class="code" href="group__Mesh.html#g13ed8e3d8db0f8452d15bc3249b1c33d" title="Create a new mesh which is the subset of another mesh.">fc_createSubsetMesh</a>(segments[i], <a class="code" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a>, <a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a>, 1,0,0,0,
<a name="l00449"></a>00449                        segname, &amp;promotedMesh, &amp;vertmap, &amp;elemmap);
<a name="l00450"></a>00450        <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"cant promote subset"</span>);          
<a name="l00451"></a>00451        <span class="comment">//depending on doStrict, this might actually be a null mesh</span>
<a name="l00452"></a>00452        <span class="comment">//note that we will still have a segment, since that is a vertex subset</span>
<a name="l00453"></a>00453        <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(promotedMesh, <a class="code" href="group__Handles.html#gb9dbcbf01def2e3490de3b1325bec3aa" title="Null (default) mesh handle.">FC_NULL_MESH</a>)){
<a name="l00454"></a>00454          <a class="code" href="group__Mesh.html#g7e846c58fe79c1f2bac817a2b7ed692e" title="Delete a mesh.">fc_deleteMesh</a>(promotedMesh);
<a name="l00455"></a>00455        }
<a name="l00456"></a>00456        <span class="comment">//now get the seq vars for this timestep only</span>
<a name="l00457"></a>00457        <span class="keywordflow">if</span> (step &gt; 0){
<a name="l00458"></a>00458          <span class="keywordtype">int</span> numSeqVar;
<a name="l00459"></a>00459          <span class="keywordtype">int</span> *numStepPerSeq;
<a name="l00460"></a>00460          <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a>** seqVars;
<a name="l00461"></a>00461          <a class="code" href="structFC__Variable.html" title="Variable Handle.">FC_Variable</a> junkVar;
<a name="l00462"></a>00462          <span class="keywordtype">int</span> inneri;
<a name="l00463"></a>00463          rc = <a class="code" href="group__Variable.html#g01bf1b0d9b1de983115a461216039449" title="Get the sequence variables in a mesh.">fc_getSeqVariables</a>(mesh, &amp;numSeqVar, &amp;numStepPerSeq, &amp;seqVars);
<a name="l00464"></a>00464          <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"cant get seqvars on orig mesh"</span>);        
<a name="l00465"></a>00465          <span class="keywordflow">for</span> (inneri = 0; inneri &lt; numSeqVar; inneri++){
<a name="l00466"></a>00466            <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00467"></a>00467            rc = <a class="code" href="group__Variable.html#ge4935bc28dae482ddabcfd421400ab13" title="Return data association of a variable.">fc_getVariableAssociationType</a>(seqVars[inneri][0], &amp;assoc);
<a name="l00468"></a>00468            <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"cant get var assoc type"</span>);       
<a name="l00469"></a>00469               <span class="keywordflow">switch</span>(assoc){
<a name="l00470"></a>00470            <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af644ec6296999025f1ac12940f0c8e36d3">FC_AT_VERTEX</a>:
<a name="l00471"></a>00471           rc = <a class="code" href="group__Variable.html#g60931b560efb891670612ed65dc6cb63" title="Copy a variable defined on a larger mesh onto a smaller one.">fc_copyVariableToRegionMesh</a>(seqVars[inneri][step], promotedMesh,
<a name="l00472"></a>00472                                vertmap, NULL, NULL, &amp;junkVar) ;
<a name="l00473"></a>00473           <span class="keywordflow">break</span>;
<a name="l00474"></a>00474            <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af690a2a90b49747de25e69b3bfdad27f4a">FC_AT_ELEMENT</a>:
<a name="l00475"></a>00475           rc = <a class="code" href="group__Variable.html#g60931b560efb891670612ed65dc6cb63" title="Copy a variable defined on a larger mesh onto a smaller one.">fc_copyVariableToRegionMesh</a>(seqVars[inneri][step], promotedMesh,
<a name="l00476"></a>00476                                elemmap, NULL, NULL, &amp;junkVar) ;
<a name="l00477"></a>00477           <span class="keywordflow">break</span>;
<a name="l00478"></a>00478            <span class="keywordflow">default</span>:
<a name="l00479"></a>00479           <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't copy var to region var for assoc type"</span>);
<a name="l00480"></a>00480           <span class="keywordflow">break</span>;
<a name="l00481"></a>00481            }
<a name="l00482"></a>00482          }
<a name="l00483"></a>00483          <span class="keywordflow">for</span> (j = 0; j &lt; numSeqVar; j++)
<a name="l00484"></a>00484            free(seqVars[j]);
<a name="l00485"></a>00485          <span class="keywordflow">if</span> (seqVars) free(seqVars);
<a name="l00486"></a>00486          <span class="keywordflow">if</span> (numStepPerSeq) free (numStepPerSeq);
<a name="l00487"></a>00487           }
<a name="l00488"></a>00488        <a class="code" href="group__Mesh.html#g997dddca0418a14d3d3a2d2f7a76d622" title="Print mesh meta data to stdout, and optionally the connections and/or coordinates...">fc_printMesh</a>(promotedMesh,<span class="stringliteral">"promoted mesh"</span>,0,0,0,0);
<a name="l00489"></a>00489      } <span class="keywordflow">else</span> {
<a name="l00490"></a>00490        <span class="keywordtype">int</span> numCopiedMeshes;
<a name="l00491"></a>00491        <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a>* copiedMeshes;
<a name="l00492"></a>00492        <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> copiedSubset;
<a name="l00493"></a>00493 
<a name="l00494"></a>00494        rc = <a class="code" href="group__Mesh.html#gb72987c2bf83a19f208df925bc8af86b" title="Get all meshes with a given name from the dataset.">fc_getMeshByName</a>(<a class="code" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a>, mesh_name, &amp;numCopiedMeshes,
<a name="l00495"></a>00495                     &amp;copiedMeshes);
<a name="l00496"></a>00496        <a class="code" href="group__ErrorHandling.html#gcc9949110ba62c7ec8fabf7b455f1c0b" title="If the return code is an error, print diagnostic and exit.">fc_exitIfError</a>(rc);
<a name="l00497"></a>00497        <span class="keywordflow">if</span> (numCopiedMeshes != 1){
<a name="l00498"></a>00498          <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>,
<a name="l00499"></a>00499                      <span class="stringliteral">"Cant find unique new mesh on which to put this subset"</span>);
<a name="l00500"></a>00500        }
<a name="l00501"></a>00501        rc = <a class="code" href="group__Subset.html#g8c233583d14e8205bbfe4aca0d196772" title="Copy subset to a new subset.">fc_copySubset</a>(segments[i], copiedMeshes[0], segname, &amp;copiedSubset);
<a name="l00502"></a>00502        <a class="code" href="error_8h.html#ed3cf62a82d02c561c0b9c80756fcab9">fc_exitIfErrorPrintf</a>(rc, <span class="stringliteral">"cant copy subset"</span>);
<a name="l00503"></a>00503        free(copiedMeshes);
<a name="l00504"></a>00504      }
<a name="l00505"></a>00505      free(segname);
<a name="l00506"></a>00506       } <span class="comment">//for</span>
<a name="l00507"></a>00507 
<a name="l00508"></a>00508       <span class="comment">//feature tracking</span>
<a name="l00509"></a>00509       <span class="keywordflow">if</span> (step == -1 || !<a class="code" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a>) {
<a name="l00510"></a>00510      free(segments);
<a name="l00511"></a>00511       } <span class="keywordflow">else</span> {
<a name="l00512"></a>00512      <span class="comment">//for feature tracking</span>
<a name="l00513"></a>00513      <a class="code" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a>[step] = numSegments;
<a name="l00514"></a>00514      <a class="code" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a>[step] = segments;
<a name="l00515"></a>00515       }
<a name="l00516"></a>00516       free(mesh_name);
<a name="l00517"></a>00517       <span class="keywordflow">return</span> numSegments;
<a name="l00518"></a>00518     }
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   }
<a name="l00521"></a>00521   <span class="keywordflow">return</span> 0;
<a name="l00522"></a>00522 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="e2a4d4758f1edc2373f833688f7655de"></a><!-- doxytag: member="subsetter.c::doFeature" ref="e2a4d4758f1edc2373f833688f7655de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="subsetter_8c.html#e2a4d4758f1edc2373f833688f7655de">doFeature</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00118">118</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="subsetter_8c-source.html#l00129">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="892045087fc486bd229ec3d05f22cf5e"></a><!-- doxytag: member="subsetter.c::doPromote" ref="892045087fc486bd229ec3d05f22cf5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="subsetter_8c.html#892045087fc486bd229ec3d05f22cf5e">doPromote</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00111">111</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="subsetter_8c-source.html#l00129">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a5132f7621c6dc0ab225ba797836ebe1"></a><!-- doxytag: member="subsetter.c::doStrict" ref="a5132f7621c6dc0ab225ba797836ebe1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00110">110</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="volumeSegments_8c-source.html#l00087">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5470d1fe286b8864424987862ea74aae"></a><!-- doxytag: member="subsetter.c::ds" ref="5470d1fe286b8864424987862ea74aae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> <a class="el" href="subsetter_8c.html#5470d1fe286b8864424987862ea74aae">ds</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00104">104</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8d4bde49e4bab386241fed1f7664cbc"></a><!-- doxytag: member="subsetter.c::featureGroup" ref="d8d4bde49e4bab386241fed1f7664cbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFC__FeatureGroup.html">FC_FeatureGroup</a>* <a class="el" href="subsetter_8c.html#d8d4bde49e4bab386241fed1f7664cbc">featureGroup</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00121">121</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1b1d0096741b4e5e6db466c2d58ba0d2"></a><!-- doxytag: member="subsetter.c::ffilebase" ref="1b1d0096741b4e5e6db466c2d58ba0d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="subsetter_8c.html#1b1d0096741b4e5e6db466c2d58ba0d2">ffilebase</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00116">116</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, and <a class="el" href="subsetter_8c-source.html#l00129">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8505c513bc640d1f69e5f76fb32b24a8"></a><!-- doxytag: member="subsetter.c::file_name" ref="8505c513bc640d1f69e5f76fb32b24a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="subsetter_8c.html#8505c513bc640d1f69e5f76fb32b24a8">file_name</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00114">114</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, and <a class="el" href="edgeStats_8c-source.html#l00105">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="562e516693565116e5daffd9ee7b4bd6"></a><!-- doxytag: member="subsetter.c::geomonly_ds" ref="562e516693565116e5daffd9ee7b4bd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> <a class="el" href="subsetter_8c.html#562e516693565116e5daffd9ee7b4bd6">geomonly_ds</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00106">106</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="6cbd4565ecacc63bef6c1aec4d27f712"></a><!-- doxytag: member="subsetter.c::new_ds" ref="6cbd4565ecacc63bef6c1aec4d27f712" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> <a class="el" href="subsetter_8c.html#6cbd4565ecacc63bef6c1aec4d27f712">new_ds</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00105">105</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="geomExtract_8c-source.html#l00060">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d076e66ce25f90703e238516183dcbc"></a><!-- doxytag: member="subsetter.c::numROIPerStep" ref="4d076e66ce25f90703e238516183dcbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* <a class="el" href="subsetter_8c.html#4d076e66ce25f90703e238516183dcbc">numROIPerStep</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00119">119</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="15206368e0a18f984f0ad6cb10c2995e"></a><!-- doxytag: member="subsetter.c::op" ref="15206368e0a18f984f0ad6cb10c2995e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="subsetter_8c.html#15206368e0a18f984f0ad6cb10c2995e">op</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00108">108</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="screwBreaks_8c-source.html#l00583">getDeathThresholdSubset()</a>, <a class="el" href="gaplines_8c-source.html#l00433">main()</a>, <a class="el" href="screwBreaks_8c-source.html#l00428">printDeathVarSet()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e63d36d016a677a53880fac0dd84ffec"></a><!-- doxytag: member="subsetter.c::ROIsPerStep" ref="e63d36d016a677a53880fac0dd84ffec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFC__Subset.html">FC_Subset</a>** <a class="el" href="subsetter_8c.html#e63d36d016a677a53880fac0dd84ffec">ROIsPerStep</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00120">120</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fcfbedec6ebde62c6a091ce335836ef1"></a><!-- doxytag: member="subsetter.c::threshold" ref="fcfbedec6ebde62c6a091ce335836ef1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="subsetter_8c.html#fcfbedec6ebde62c6a091ce335836ef1">threshold</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00109">109</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d4b278e1542fc9c62f41811f84b3de27"></a><!-- doxytag: member="subsetter.c::threshType" ref="d4b278e1542fc9c62f41811f84b3de27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="subsetter_8c.html#d4b278e1542fc9c62f41811f84b3de27">threshType</a> = -1<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00112">112</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4b703ba1f7a1288de40089aa611b9abf"></a><!-- doxytag: member="subsetter.c::var_name" ref="4b703ba1f7a1288de40089aa611b9abf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="subsetter_8c.html#4b703ba1f7a1288de40089aa611b9abf">var_name</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00115">115</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

<p>Referenced by <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="variable_8c-source.html#l03056">fc_createComponentSeqVariables()</a>, <a class="el" href="variable_8c-source.html#l02928">fc_createComponentVariables()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="subsetter_8c-source.html#l00525">getArgs()</a>, <a class="el" href="volumeSegments_8c-source.html#l00378">isThresholdable()</a>, <a class="el" href="fcdump_8c-source.html#l00114">isVariableInFilterList()</a>, and <a class="el" href="loadHistory_8c-source.html#l00064">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="46e260e16f29333b3f475e879e4d8e70"></a><!-- doxytag: member="subsetter.c::verbose_level" ref="46e260e16f29333b3f475e879e4d8e70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g1ceb59a5b485f8bcbcb8acad4cfb9323">FC_VerbosityLevel</a> <a class="el" href="subsetter_8c.html#46e260e16f29333b3f475e879e4d8e70">verbose_level</a> = FC_QUIET<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="subsetter_8c-source.html#l00113">113</a> of file <a class="el" href="subsetter_8c-source.html">subsetter.c</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 27 13:26:14 2008 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
