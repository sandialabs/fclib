<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCLib: Table (Private)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Table (Private)<br>
<small>
[<a class="el" href="group__DataInterface.html">Data Interface</a>]</small>
</h1>
<p>
Collaboration diagram for Table (Private):<hr><a name="_details"></a><h2>Detailed Description</h2>
Routines for manipulating the table data structures. 
<p>
<b>Description:</b> <p>
The primary data structures for FCLib are managed as "tables" (arrays) of "slots" (structs), which are structures that hold metadata and data corresponding to that data entity type (i.e. <a class="el" href="struct__FC__DsSlot.html">_FC_DsSlot</a>, <a class="el" href="struct__FC__SeqSlot.html">_FC_SeqSlot</a>, <a class="el" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>, <a class="el" href="struct__FC__SubSlot.html">_FC_SubSlot</a>, <a class="el" href="struct__FC__VarSlot.html">_FC_VarSlot</a>). For more information about what information each type of slot holds, see the documentation on the struct definitions.<p>
All slot types have a common header (<a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>) as the their first member. This allows us to make some general purpose utility routines which work on any slot type. The header also contains information about the state of a slot like whether it can be modified on disk (writable), and whether the disk version matches the current version (committed).<p>
Any table consists of an array of pointers to the appropriate slot type. The tables are expanded as necessary by doubling the number of entries at a time. Entries start with a NULL value and are allocated as needed. The slots of "Deleted" slots are freed and set back to NULL.<p>
Each table has supporting data structures - xTableSize is the length of the table; xOpenSlots is a sorted array of available slots.<p>
Generic versions of basic table operations are defined in this module (like get a new slot or delete a slot). These basic operations take a specific kind of table and the necessary supporting information. To simplify matters, each kind of data (dataset, mesh, etc) has a wrapper that does the operation on that type of table (e.g. <a class="el" href="group__PrivateDataset.html#gc648797ef3306e535c956426de836526">_fc_getNewDsSlot()</a> does <a class="el" href="group__PrivateTable.html#ge34ab73a6222765edfc4134ca3519c5f">_fc_getNewSlot()</a> with the dataset table).<p>
The data tables are not exposed at the user level and are instead manipulated by <a class="el" href="group__Handles.html">Handles</a> which contain just enough information for called routines to locate the appropriate slot in the tables (i.e. the index into the table and a unique sequence number to make sure the slot still refers to the same entity). 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Slot Header.  <a href="struct__FC__SlotHeader.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>&nbsp;&nbsp;&nbsp;&quot;    &quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indent string for _fc_printXTable() routines.  <a href="#g6b934222896a4b4b02da5ffbb2bd1f83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#gd709d7ba7ba84abe5e6a7a91f037934a">TABLE_DIVIDER_STRING</a>&nbsp;&nbsp;&nbsp;&quot;----------------------------------------------\n&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A string of hyphens to use as a table divider for _fc_printXTable() routines.  <a href="#gd709d7ba7ba84abe5e6a7a91f037934a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(handle, xSlot_pointer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a handle from a table slot.  <a href="#gc5ef4396668306a24b76028dda975a26"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#g5b2da1cfdef894767314907efc02099b">_fc_setSlotHeaderName</a> (<a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *header, char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replaces the name for a slot header with a copy of the input.  <a href="#g5b2da1cfdef894767314907efc02099b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#gbcaa23dfe9ec68cdc993be66d56f615e">_fc_initSlotHeader</a> (<a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *header)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a table header.  <a href="#gbcaa23dfe9ec68cdc993be66d56f615e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#geda51a6251d829ec903a93c67c0d6391">_fc_clearSlotHeader</a> (<a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *header)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear a slot header's.  <a href="#geda51a6251d829ec903a93c67c0d6391"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#g3cef5fb6e331e782f8a7f14bd0f9bbe8">_fc_printSlotHeader</a> (<a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> header)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the contents of an <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> to stderr.  <a href="#g3cef5fb6e331e782f8a7f14bd0f9bbe8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#ge34ab73a6222765edfc4134ca3519c5f">_fc_getNewSlot</a> (int *tableSize, <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> ***table, <a class="el" href="structFC__SortedIntArray.html">FC_SortedIntArray</a> *openSlots, int slotSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get an empty slot from table.  <a href="#ge34ab73a6222765edfc4134ca3519c5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#gad0539bd0e7ba29168e2a05b2e0b5e33">_fc_isHandleValid</a> (int slotID, int uID, int tableSize, <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **table)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that a handle is valid.  <a href="#gad0539bd0e7ba29168e2a05b2e0b5e33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#g4ac70eb6636dc2c2e6b04d1a69ecfd53">_fc_getSlot</a> (int slotID, int tableSize, <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **table)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a slot by ID.  <a href="#g4ac70eb6636dc2c2e6b04d1a69ecfd53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#gda92df98e0b218e6e9a8d5fd9fe61fbd">_fc_deleteSlot</a> (int slotID, int tableSize, <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **table, <a class="el" href="structFC__SortedIntArray.html">FC_SortedIntArray</a> *openSlots)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete the contents of a slot.  <a href="#gda92df98e0b218e6e9a8d5fd9fe61fbd"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateTable.html#g58c95f07ab230237faab5ae2e796b25e">next_uID</a> = 1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Master unique ID.  <a href="#g58c95f07ab230237faab5ae2e796b25e"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="gc5ef4396668306a24b76028dda975a26"></a><!-- doxytag: member="tableP.h::_FC_GET_HANDLE" ref="gc5ef4396668306a24b76028dda975a26" args="(handle, xSlot_pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _FC_GET_HANDLE          </td>
          <td>(</td>
          <td class="paramtype">handle,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xSlot_pointer&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">( (handle).slotID = (xSlot_pointer)-&gt;header.slotID, \
           (handle).uID = (xSlot_pointer)-&gt;header.uID )
</pre></div>Get a handle from a table slot. 
<p>
<b>Description:</b> <p>
Copies values from the table slot into the handle Warning! No type checking 
<p>
Definition at line <a class="el" href="tableP_8h-source.html#l00076">76</a> of file <a class="el" href="tableP_8h-source.html">tableP.h</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, <a class="el" href="dataset_8c-source.html#l00116">fc_createDataset()</a>, <a class="el" href="variable_8c-source.html#l00185">fc_createGlobalSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l00122">fc_createGlobalVariable()</a>, <a class="el" href="mesh_8c-source.html#l00119">fc_createMesh()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="variable_8c-source.html#l00348">fc_createSeqVariable()</a>, <a class="el" href="subset_8c-source.html#l00127">fc_createSubset()</a>, <a class="el" href="variable_8c-source.html#l00284">fc_createVariable()</a>, <a class="el" href="library_8c-source.html#l00220">fc_finalLibrary()</a>, <a class="el" href="dataset_8c-source.html#l00447">fc_getDatasetByName()</a>, <a class="el" href="dataset_8c-source.html#l00333">fc_getDatasets()</a>, <a class="el" href="variable_8c-source.html#l02866">fc_getGlobalSeqVariableByName()</a>, <a class="el" href="variable_8c-source.html#l02422">fc_getGlobalSeqVariables()</a>, <a class="el" href="variable_8c-source.html#l02779">fc_getGlobalVariableByName()</a>, <a class="el" href="variable_8c-source.html#l02362">fc_getGlobalVariables()</a>, <a class="el" href="mesh_8c-source.html#l01534">fc_getMeshByName()</a>, <a class="el" href="mesh_8c-source.html#l02716">fc_getMeshCoordsAsVariable()</a>, <a class="el" href="mesh_8c-source.html#l01432">fc_getMeshes()</a>, <a class="el" href="sequence_8c-source.html#l01239">fc_getSequenceByName()</a>, <a class="el" href="sequence_8c-source.html#l01138">fc_getSequences()</a>, <a class="el" href="variable_8c-source.html#l03295">fc_getSeqVariableByName()</a>, <a class="el" href="variable_8c-source.html#l02567">fc_getSeqVariables()</a>, <a class="el" href="subset_8c-source.html#l00789">fc_getSubsetByName()</a>, <a class="el" href="subset_8c-source.html#l00695">fc_getSubsets()</a>, <a class="el" href="variable_8c-source.html#l02982">fc_getVariableByName()</a>, and <a class="el" href="variable_8c-source.html#l02503">fc_getVariables()</a>.
</div>
</div><p>
<a class="anchor" name="g6b934222896a4b4b02da5ffbb2bd1f83"></a><!-- doxytag: member="tableP.h::INDENT_STR" ref="g6b934222896a4b4b02da5ffbb2bd1f83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INDENT_STR&nbsp;&nbsp;&nbsp;&quot;    &quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indent string for _fc_printXTable() routines. 
<p>

<p>
Definition at line <a class="el" href="tableP_8h-source.html#l00057">57</a> of file <a class="el" href="tableP_8h-source.html">tableP.h</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00831">fc_printDataset()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="sequence_8c-source.html#l01893">fc_printSequence()</a>, <a class="el" href="variable_8c-source.html#l05123">fc_printSeqVariableRange()</a>, <a class="el" href="subset_8c-source.html#l02109">fc_printSubset()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, <a class="el" href="subset_8c-source.html#l02369">fc_printSubsetOfVariable()</a>, <a class="el" href="variable_8c-source.html#l04970">fc_printVariable()</a>, <a class="el" href="varStats_8c-source.html#l00061">get_and_print_stats()</a>, and <a class="el" href="varStats_8c-source.html#l00096">main()</a>.
</div>
</div><p>
<a class="anchor" name="gd709d7ba7ba84abe5e6a7a91f037934a"></a><!-- doxytag: member="tableP.h::TABLE_DIVIDER_STRING" ref="gd709d7ba7ba84abe5e6a7a91f037934a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TABLE_DIVIDER_STRING&nbsp;&nbsp;&nbsp;&quot;----------------------------------------------\n&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A string of hyphens to use as a table divider for _fc_printXTable() routines. 
<p>

<p>
Definition at line <a class="el" href="tableP_8h-source.html#l00064">64</a> of file <a class="el" href="tableP_8h-source.html">tableP.h</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01106">_fc_printDsTable()</a>, <a class="el" href="mesh_8c-source.html#l05334">_fc_printMeshTable()</a>, <a class="el" href="sequence_8c-source.html#l02208">_fc_printSeqTable()</a>, <a class="el" href="subset_8c-source.html#l02693">_fc_printSubTable()</a>, and <a class="el" href="variable_8c-source.html#l05491">_fc_printVarTable()</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="geda51a6251d829ec903a93c67c0d6391"></a><!-- doxytag: member="table.c::_fc_clearSlotHeader" ref="geda51a6251d829ec903a93c67c0d6391" args="(_FC_SlotHeader *header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _fc_clearSlotHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *&nbsp;</td>
          <td class="paramname"> <em>header</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear a slot header's. 
<p>
<b>Description:</b> <p>
Releases all dynamically allocated resources in a table header, and reinitializes all members.<p>
<b>Modifications:</b> <ul>
<li>APR-29-2003 W Koegler Created.</li><li>2003-APR-31 W Koegler Made more comprehensive </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>header</em>&nbsp;</td><td>
input/output - the slotheader to clear </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00195">195</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="table_8c-source.html#l00171">_fc_initSlotHeader()</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="tableP_8h-source.html#l00096">_FC_SlotHeader::uID</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00940">_fc_clearDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05169">_fc_clearMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02057">_fc_clearSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l02551">_fc_clearSubSlot()</a>, and <a class="el" href="variable_8c-source.html#l05338">_fc_clearVarSlot()</a>.<div class="fragment"><pre class="fragment"><a name="l00197"></a>00197   {
<a name="l00198"></a>00198   <span class="keywordflow">if</span> (header != NULL) {
<a name="l00199"></a>00199     <span class="comment">// free dynamically allocated arrays</span>
<a name="l00200"></a>00200     <span class="keywordflow">if</span> (header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>)
<a name="l00201"></a>00201       free(header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00202"></a>00202     
<a name="l00203"></a>00203     <span class="comment">// reinitialize</span>
<a name="l00204"></a>00204     <a class="code" href="group__PrivateTable.html#gbcaa23dfe9ec68cdc993be66d56f615e">_fc_initSlotHeader</a>(header);
<a name="l00205"></a>00205     
<a name="l00206"></a>00206     <span class="comment">// make "empty"</span>
<a name="l00207"></a>00207     header-&gt;<a class="code" href="struct__FC__SlotHeader.html#ae698d218a4e7ed1ad21844a4be31f8a">uID</a> = -1;
<a name="l00208"></a>00208     <span class="comment">// do NOT change header-&gt;slotID: for as long as the slot exists</span>
<a name="l00209"></a>00209     <span class="comment">// it's slot ID is set and should stay the same</span>
<a name="l00210"></a>00210   }   
<a name="l00211"></a>00211 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gda92df98e0b218e6e9a8d5fd9fe61fbd"></a><!-- doxytag: member="table.c::_fc_deleteSlot" ref="gda92df98e0b218e6e9a8d5fd9fe61fbd" args="(int slotID, int tableSize, _FC_SlotHeader **table, FC_SortedIntArray *openSlots)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_deleteSlot           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tableSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__SortedIntArray.html">FC_SortedIntArray</a> *&nbsp;</td>
          <td class="paramname"> <em>openSlots</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete the contents of a slot. 
<p>
<b>Description:</b> <p>
If the slot exists, deletes the memory associated with that slot and add the slotID to the openSlots lists.<p>
Assumes that dynamic data in the slot has already been "cleared".<p>
<b>Modifications:</b> <ul>
<li>12/20/05 WSD Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>slotID</em>&nbsp;</td><td>
input: slot id </td></tr>
<tr><td valign="top"><em>tableSize</em>&nbsp;</td><td>
input: the table size </td></tr>
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
input: the table </td></tr>
<tr><td valign="top"><em>openSlots</em>&nbsp;</td><td>
input/output: the open slots </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00384">384</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="storage_8c-source.html#l00300">fc_addIntToSortedIntArray()</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01075">_fc_deleteDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05303">_fc_deleteMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02177">_fc_deleteSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l02641">_fc_deleteSubSlot()</a>, and <a class="el" href="variable_8c-source.html#l05460">_fc_deleteVarSlot()</a>.<div class="fragment"><pre class="fragment"><a name="l00385"></a>00385                                      : slot <span class="keywordtype">id</span>  */
<a name="l00386"></a>00386    <span class="keywordtype">int</span> tableSize,          <span class="comment">/**&lt; input: the table size  */</span>
<a name="l00387"></a>00387    <a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>** table, <span class="comment">/**&lt; input: the table */</span>
<a name="l00388"></a>00388    <a class="code" href="structFC__SortedIntArray.html">FC_SortedIntArray</a>* openSlots  <span class="comment">/**&lt; input/output: the open slots */</span>
<a name="l00389"></a>00389 ) {
<a name="l00390"></a>00390   <span class="keywordtype">int</span> ret;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392   <span class="keywordflow">if</span> (slotID &gt;= 0 &amp;&amp; slotID &lt; tableSize &amp;&amp; table[slotID]) {
<a name="l00393"></a>00393     free(table[slotID]);
<a name="l00394"></a>00394     table[slotID] = NULL;
<a name="l00395"></a>00395     ret = <a class="code" href="group__SimpleDataObjects.html#g64768f52c122c1cd322cbebac85979f2">fc_addIntToSortedIntArray</a>(openSlots, slotID);
<a name="l00396"></a>00396     <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l00397"></a>00397       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add ID to sia"</span>);
<a name="l00398"></a>00398       <span class="keywordflow">return</span> ret; <span class="comment">// an error occured</span>
<a name="l00399"></a>00399     }
<a name="l00400"></a>00400     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == 0) {
<a name="l00401"></a>00401       fprintf(stderr, <span class="stringliteral">"***developer note: Algorithmic error! shouldn't reach here!"</span>);
<a name="l00402"></a>00402       fflush(NULL);
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404   }
<a name="l00405"></a>00405   
<a name="l00406"></a>00406   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00407"></a>00407 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ge34ab73a6222765edfc4134ca3519c5f"></a><!-- doxytag: member="table.c::_fc_getNewSlot" ref="ge34ab73a6222765edfc4134ca3519c5f" args="(int *tableSize, _FC_SlotHeader ***table, FC_SortedIntArray *openSlots, int slotSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>* _fc_getNewSlot           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>tableSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> ***&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__SortedIntArray.html">FC_SortedIntArray</a> *&nbsp;</td>
          <td class="paramname"> <em>openSlots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>slotSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get an empty slot from table. 
<p>
<b>Description:</b> <p>
Code to get an empty slot from any type of table. It first checks for an unused spot (either the entry is NULL or has a unique ID less than 0). If there are no unused slots, it grows the table by factor of 2. If the unused slot is NULL, it allocates a new slot.<p>
<b>Modifications:</b> <ul>
<li>5/11/04 WSK Moved common code from <a class="el" href="group__PrivateDataset.html#gc648797ef3306e535c956426de836526">_fc_getNewDsSlot()</a>, <a class="el" href="group__PrivateSequence.html#g5564a4956d267de3840d4e152a83e6bc">_fc_getNewSeqSlot()</a>, <a class="el" href="group__PrivateMesh.html#g8a7f30c78d86a946eda68bdf9f4d0970">_fc_getNewMeshSlot()</a> &amp; <a class="el" href="group__PrivateVariable.html#g7c70f60847534856bb95eb09c681e345">_fc_getNewVarSlot()</a> to here. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tableSize</em>&nbsp;</td><td>
input/output: pointer to table size </td></tr>
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
input/output: pointer to table </td></tr>
<tr><td valign="top"><em>openSlots</em>&nbsp;</td><td>
input/output: sia holds indices of available slots </td></tr>
<tr><td valign="top"><em>slotSize</em>&nbsp;</td><td>
input: size of a slot </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00255">255</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="table_8c-source.html#l00171">_fc_initSlotHeader()</a>, <a class="el" href="storage_8c-source.html#l00300">fc_addIntToSortedIntArray()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="storage_8c-source.html#l00592">fc_popSortedIntArrayFront()</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="table_8c-source.html#l00113">next_uID</a>, <a class="el" href="storage_8h-source.html#l00098">FC_SortedIntArray::numVal</a>, and <a class="el" href="storage_8h-source.html#l00100">FC_SortedIntArray::vals</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01000">_fc_getNewDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05226">_fc_getNewMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02101">_fc_getNewSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l02669">_fc_getNewSubSlot()</a>, and <a class="el" href="variable_8c-source.html#l05382">_fc_getNewVarSlot()</a>.<div class="fragment"><pre class="fragment"><a name="l00256"></a>00256                                               : pointer to table size  */
<a name="l00257"></a>00257    <a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>*** table,  <span class="comment">/**&lt; input/output: pointer to table */</span>
<a name="l00258"></a>00258    <a class="code" href="structFC__SortedIntArray.html">FC_SortedIntArray</a>* openSlots,     <span class="comment">/**&lt; input/output:  sia holds</span>
<a name="l00259"></a>00259 <span class="comment">                    indices of available slots */</span>
<a name="l00260"></a>00260    <span class="keywordtype">int</span> slotSize              <span class="comment">/**&lt; input: size of a slot */</span>
<a name="l00261"></a>00261 ) {
<a name="l00262"></a>00262   <span class="keywordtype">int</span> i;
<a name="l00263"></a>00263   <span class="keywordtype">int</span> slotID, newSize, ret;
<a name="l00264"></a>00264   <span class="keywordtype">void</span> *temp;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   <span class="comment">// get an unused slot</span>
<a name="l00267"></a>00267   <span class="keywordflow">if</span> (openSlots-&gt;<a class="code" href="structFC__SortedIntArray.html#7788cf6104dcf23fe03af42ab8a65ce9">numVal</a> &gt; 0) {
<a name="l00268"></a>00268     slotID = openSlots-&gt;<a class="code" href="structFC__SortedIntArray.html#60520a789b3d255c10053389b65bab10">vals</a>[0];
<a name="l00269"></a>00269     <a class="code" href="group__SimpleDataObjects.html#g57cffd885adba9db67a4924d45bb1ce7">fc_popSortedIntArrayFront</a>(openSlots);
<a name="l00270"></a>00270   }
<a name="l00271"></a>00271   <span class="keywordflow">else</span> { <span class="comment">// if an unused slot doesn't exist, make some more slots</span>
<a name="l00272"></a>00272     <span class="keywordflow">if</span> (*tableSize == 0)
<a name="l00273"></a>00273       newSize = 1;
<a name="l00274"></a>00274     <span class="keywordflow">else</span>
<a name="l00275"></a>00275       newSize = 2*(*tableSize);
<a name="l00276"></a>00276     temp = realloc(*table, newSize*<span class="keyword">sizeof</span>(<a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>*));
<a name="l00277"></a>00277     <span class="keywordflow">if</span> (temp == NULL) {
<a name="l00278"></a>00278       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00279"></a>00279       <span class="keywordflow">return</span> NULL;
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281     *table = temp;
<a name="l00282"></a>00282     <span class="keywordflow">for</span> (i = (*tableSize); i &lt; newSize; i++)
<a name="l00283"></a>00283       (*table)[i] = NULL;
<a name="l00284"></a>00284     <span class="comment">// NOTE! the ID of the first new slot doesn't get added to openSlots</span>
<a name="l00285"></a>00285     slotID = (*tableSize);
<a name="l00286"></a>00286     <span class="keywordflow">for</span> (i = newSize-1; i &gt; (*tableSize); i--) {
<a name="l00287"></a>00287       ret = <a class="code" href="group__SimpleDataObjects.html#g64768f52c122c1cd322cbebac85979f2">fc_addIntToSortedIntArray</a>(openSlots, i);
<a name="l00288"></a>00288       <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l00289"></a>00289      <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add key to sia, memory error?"</span>);
<a name="l00290"></a>00290      <span class="keywordflow">return</span> NULL; <span class="comment">// an error occured</span>
<a name="l00291"></a>00291       }
<a name="l00292"></a>00292       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == 0) {
<a name="l00293"></a>00293      fprintf(stderr, <span class="stringliteral">"***developer note: Algorithmic error! shouldn't reach here!"</span>);
<a name="l00294"></a>00294      fflush(NULL);
<a name="l00295"></a>00295       }
<a name="l00296"></a>00296     }
<a name="l00297"></a>00297     (*tableSize) = newSize;
<a name="l00298"></a>00298   }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300   <span class="comment">// allocate slot if necessary</span>
<a name="l00301"></a>00301   <span class="keywordflow">if</span> ((*table)[slotID] == NULL) {
<a name="l00302"></a>00302     (*table)[slotID] = malloc(slotSize);
<a name="l00303"></a>00303     <span class="keywordflow">if</span> ((*table)[slotID] == NULL) {
<a name="l00304"></a>00304       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00305"></a>00305       <span class="keywordflow">return</span> NULL;
<a name="l00306"></a>00306     }
<a name="l00307"></a>00307   }
<a name="l00308"></a>00308         
<a name="l00309"></a>00309   <span class="comment">// setup the slot</span>
<a name="l00310"></a>00310   <a class="code" href="group__PrivateTable.html#gbcaa23dfe9ec68cdc993be66d56f615e">_fc_initSlotHeader</a>((*table)[slotID]);
<a name="l00311"></a>00311   (*table)[slotID]-&gt;slotID = slotID;
<a name="l00312"></a>00312   (*table)[slotID]-&gt;uID = <a class="code" href="group__PrivateTable.html#g58c95f07ab230237faab5ae2e796b25e">next_uID</a>;
<a name="l00313"></a>00313   <a class="code" href="group__PrivateTable.html#g58c95f07ab230237faab5ae2e796b25e">next_uID</a>++;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315   <span class="keywordflow">return</span> (*table)[slotID];
<a name="l00316"></a>00316 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4ac70eb6636dc2c2e6b04d1a69ecfd53"></a><!-- doxytag: member="table.c::_fc_getSlot" ref="g4ac70eb6636dc2c2e6b04d1a69ecfd53" args="(int slotID, int tableSize, _FC_SlotHeader **table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>* _fc_getSlot           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tableSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **&nbsp;</td>
          <td class="paramname"> <em>table</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a slot by ID. 
<p>
<b>Description:</b> <p>
Returns a slot if it exists (exists means has some thing in it and therefore the uID will be 1 or greater. Otherwise returns NULL.<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>slotID</em>&nbsp;</td><td>
input: slot id </td></tr>
<tr><td valign="top"><em>tableSize</em>&nbsp;</td><td>
input: the table size </td></tr>
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
input: the table </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00357">357</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01056">_fc_getDsSlotFromID()</a>, <a class="el" href="mesh_8c-source.html#l05284">_fc_getMeshSlotFromID()</a>, <a class="el" href="sequence_8c-source.html#l02158">_fc_getSeqSlotFromID()</a>, <a class="el" href="subset_8c-source.html#l02622">_fc_getSubSlotFromID()</a>, and <a class="el" href="variable_8c-source.html#l05441">_fc_getVarSlotFromID()</a>.<div class="fragment"><pre class="fragment"><a name="l00358"></a>00358                                      : slot <span class="keywordtype">id</span>  */
<a name="l00359"></a>00359    <span class="keywordtype">int</span> tableSize,          <span class="comment">/**&lt; input: the table size  */</span>
<a name="l00360"></a>00360    <a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>** table  <span class="comment">/**&lt; input: the table */</span>
<a name="l00361"></a>00361 ) {
<a name="l00362"></a>00362   <span class="keywordflow">if</span> (slotID &lt; 0 || slotID &gt;= tableSize || !table[slotID] ||
<a name="l00363"></a>00363       table[slotID]-&gt;uID &lt; 1)
<a name="l00364"></a>00364     <span class="keywordflow">return</span> NULL;
<a name="l00365"></a>00365   <span class="keywordflow">else</span>
<a name="l00366"></a>00366     <span class="keywordflow">return</span> table[slotID];
<a name="l00367"></a>00367 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gbcaa23dfe9ec68cdc993be66d56f615e"></a><!-- doxytag: member="table.c::_fc_initSlotHeader" ref="gbcaa23dfe9ec68cdc993be66d56f615e" args="(_FC_SlotHeader *header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _fc_initSlotHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *&nbsp;</td>
          <td class="paramname"> <em>header</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize a table header. 
<p>
<b>Description:</b> <p>
Sets all table header values to appropriate default values. Except the slot number and the unique ID which should only be set by _fc_new_xxxSlot.<p>
<b>Modifications:</b> APR-29-2003 W Koegler Created. Moved code from getnextslot <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>header</em>&nbsp;</td><td>
input - the slotheader to initialize </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00171">171</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="table_8c-source.html#l00195">_fc_clearSlotHeader()</a>, <a class="el" href="table_8c-source.html#l00255">_fc_getNewSlot()</a>, <a class="el" href="dataset_8c-source.html#l00907">_fc_initDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l04937">_fc_initMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02009">_fc_initSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l02504">_fc_initSubSlot()</a>, and <a class="el" href="variable_8c-source.html#l05284">_fc_initVarSlot()</a>.<div class="fragment"><pre class="fragment"><a name="l00173"></a>00173   {
<a name="l00174"></a>00174   <span class="keywordflow">if</span> (header != NULL) {
<a name="l00175"></a>00175     <span class="comment">// header-&gt;slot is NOT changed</span>
<a name="l00176"></a>00176     <span class="comment">// header-&gt;uID is NOT changed </span>
<a name="l00177"></a>00177     header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a> = NULL;
<a name="l00178"></a>00178     header-&gt;<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> = 0;
<a name="l00179"></a>00179   }   
<a name="l00180"></a>00180 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gad0539bd0e7ba29168e2a05b2e0b5e33"></a><!-- doxytag: member="table.c::_fc_isHandleValid" ref="gad0539bd0e7ba29168e2a05b2e0b5e33" args="(int slotID, int uID, int tableSize, _FC_SlotHeader **table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _fc_isHandleValid           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>uID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tableSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> **&nbsp;</td>
          <td class="paramname"> <em>table</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that a handle is valid. 
<p>
<b>Description:</b> <p>
Returns 1 if the handle is valid and 0 if it is not. Valid means that the object exists and that it has the same uID as the handle (this extra check is necessary because the slot may get reused, at which time the handle is invalid even though it refers to a real object).<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>slotID</em>&nbsp;</td><td>
input: slot id from a handle </td></tr>
<tr><td valign="top"><em>uID</em>&nbsp;</td><td>
input: unique id from a handle </td></tr>
<tr><td valign="top"><em>tableSize</em>&nbsp;</td><td>
input: the table size </td></tr>
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
input: the table </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00332">332</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02130">_fc_getSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l02596">_fc_getSubSlot()</a>, <a class="el" href="variable_8c-source.html#l05412">_fc_getVarSlot()</a>, <a class="el" href="dataset_8c-source.html#l00762">fc_isDatasetValid()</a>, <a class="el" href="mesh_8c-source.html#l01961">fc_isMeshValid()</a>, <a class="el" href="sequence_8c-source.html#l01493">fc_isSequenceValid()</a>, <a class="el" href="subset_8c-source.html#l01652">fc_isSubsetValid()</a>, and <a class="el" href="variable_8c-source.html#l04032">fc_isVariableValid()</a>.<div class="fragment"><pre class="fragment"><a name="l00333"></a>00333                                      : slot <span class="keywordtype">id</span> from a handle  */
<a name="l00334"></a>00334    <span class="keywordtype">int</span> uID,                <span class="comment">/**&lt; input: unique id from a handle */</span>
<a name="l00335"></a>00335    <span class="keywordtype">int</span> tableSize,          <span class="comment">/**&lt; input: the table size  */</span>
<a name="l00336"></a>00336    <a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>** table  <span class="comment">/**&lt; input: the table */</span>
<a name="l00337"></a>00337 ) {
<a name="l00338"></a>00338   <span class="keywordflow">if</span> (slotID &lt; 0 || slotID &gt;= tableSize || !table[slotID] ||
<a name="l00339"></a>00339       table[slotID]-&gt;uID != uID)
<a name="l00340"></a>00340     <span class="keywordflow">return</span> 0;
<a name="l00341"></a>00341   <span class="keywordflow">else</span>
<a name="l00342"></a>00342     <span class="keywordflow">return</span> 1;
<a name="l00343"></a>00343 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g3cef5fb6e331e782f8a7f14bd0f9bbe8"></a><!-- doxytag: member="table.c::_fc_printSlotHeader" ref="g3cef5fb6e331e782f8a7f14bd0f9bbe8" args="(_FC_SlotHeader header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _fc_printSlotHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>&nbsp;</td>
          <td class="paramname"> <em>header</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print the contents of an <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> to stderr. 
<p>
<b>Description:</b> <p>
This is a helper routine for the _fc_printXTable routines, used to print <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> information (all table have an <a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>). It is meant to be called from these routines and wont' have pretty formatting if called on its own; but the info will be right.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-NOV-13 WSK Fixed up.</li><li>12/03/03 WSK Fixed up some more. </li></ul>

<p>
Definition at line <a class="el" href="table_8c-source.html#l00229">229</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>, and <a class="el" href="tableP_8h-source.html#l00096">_FC_SlotHeader::uID</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l01106">_fc_printDsTable()</a>, <a class="el" href="mesh_8c-source.html#l05334">_fc_printMeshTable()</a>, <a class="el" href="sequence_8c-source.html#l02208">_fc_printSeqTable()</a>, <a class="el" href="subset_8c-source.html#l02693">_fc_printSubTable()</a>, and <a class="el" href="variable_8c-source.html#l05491">_fc_printVarTable()</a>.<div class="fragment"><pre class="fragment"><a name="l00231"></a>00231   {
<a name="l00232"></a>00232   fprintf(stderr, <span class="stringliteral">"     name = '%s'\n"</span>, header.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00233"></a>00233   fprintf(stderr, <span class="stringliteral">"     slotID = %d, uID = %d, committed = %d\n"</span>, 
<a name="l00234"></a>00234           header.<a class="code" href="struct__FC__SlotHeader.html#bcade4ee6957823bf234769051debf4d">slotID</a>, header.<a class="code" href="struct__FC__SlotHeader.html#ae698d218a4e7ed1ad21844a4be31f8a">uID</a>, header.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a>);
<a name="l00235"></a>00235   fflush(NULL);
<a name="l00236"></a>00236 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g5b2da1cfdef894767314907efc02099b"></a><!-- doxytag: member="table.c::_fc_setSlotHeaderName" ref="g5b2da1cfdef894767314907efc02099b" args="(_FC_SlotHeader *header, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> _fc_setSlotHeaderName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a> *&nbsp;</td>
          <td class="paramname"> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Replaces the name for a slot header with a copy of the input. 
<p>
<b>Description:</b> <p>
Takes a name, allocates space for the name (realloc if a name is already set) and copies it (user is still responsible for input char string).<p>
This replaces the current name (and frees that memory). Make sure to call this only if header has been initialized at some point with header.name = NULL.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>header</em>&nbsp;</td><td>
input/output - pointer to a slot header </td></tr>
<tr><td valign="top"><em>name</em>&nbsp;</td><td>
input - name to set </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="table_8c-source.html#l00132">132</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
References <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="dataset_8c-source.html#l00542">fc_changeDatasetName()</a>, <a class="el" href="mesh_8c-source.html#l01618">fc_changeMeshName()</a>, <a class="el" href="sequence_8c-source.html#l01323">fc_changeSequenceName()</a>, <a class="el" href="variable_8c-source.html#l03706">fc_changeSeqVariableName()</a>, <a class="el" href="subset_8c-source.html#l01136">fc_changeSubsetName()</a>, <a class="el" href="variable_8c-source.html#l03678">fc_changeVariableName()</a>, <a class="el" href="variable_8c-source.html#l01665">fc_convertVariablesToSeqVariable()</a>, <a class="el" href="dataset_8c-source.html#l00116">fc_createDataset()</a>, <a class="el" href="variable_8c-source.html#l00185">fc_createGlobalSeqVariable()</a>, <a class="el" href="variable_8c-source.html#l00122">fc_createGlobalVariable()</a>, <a class="el" href="mesh_8c-source.html#l00119">fc_createMesh()</a>, <a class="el" href="sequence_8c-source.html#l00113">fc_createSequence()</a>, <a class="el" href="variable_8c-source.html#l00348">fc_createSeqVariable()</a>, <a class="el" href="subset_8c-source.html#l00127">fc_createSubset()</a>, and <a class="el" href="variable_8c-source.html#l00284">fc_createVariable()</a>.<div class="fragment"><pre class="fragment"><a name="l00135"></a>00135   {
<a name="l00136"></a>00136   <span class="comment">// check input</span>
<a name="l00137"></a>00137   <span class="keywordflow">if</span> (!header || !name) {
<a name="l00138"></a>00138     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00139"></a>00139     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00140"></a>00140   }
<a name="l00141"></a>00141   
<a name="l00142"></a>00142   <span class="comment">// delete the current name</span>
<a name="l00143"></a>00143   <span class="keywordflow">if</span> (header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>)
<a name="l00144"></a>00144     free(header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00145"></a>00145   
<a name="l00146"></a>00146   <span class="comment">// copy the name</span>
<a name="l00147"></a>00147   header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a> = malloc(strlen(name) + 1);
<a name="l00148"></a>00148   <span class="keywordflow">if</span> (header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a> == NULL) {
<a name="l00149"></a>00149     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00150"></a>00150     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00151"></a>00151   }
<a name="l00152"></a>00152   strcpy(header-&gt;<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, name);
<a name="l00153"></a>00153   
<a name="l00154"></a>00154   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00155"></a>00155 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g58c95f07ab230237faab5ae2e796b25e"></a><!-- doxytag: member="table.c::next_uID" ref="g58c95f07ab230237faab5ae2e796b25e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__PrivateTable.html#g58c95f07ab230237faab5ae2e796b25e">next_uID</a> = 1<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Master unique ID. 
<p>
<b>Description:</b> <p>
Each slot has a unique ID which is checked against when dereferencing a handle. Each uID is only used once, so this master uID keeps track of the next available number. uIDs start at 1 and go up. (Start with 1 so anything initialized with 0 won't be accidentally o.k. 
<p>
Definition at line <a class="el" href="table_8c-source.html#l00113">113</a> of file <a class="el" href="table_8c-source.html">table.c</a>.
<p>
Referenced by <a class="el" href="table_8c-source.html#l00255">_fc_getNewSlot()</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Oct 31 11:10:01 2007 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
