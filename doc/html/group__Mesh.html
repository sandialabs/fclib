<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCLib: Mesh</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Mesh<br>
<small>
[<a class="el" href="group__DataInterface.html">Data Interface</a>]</small>
</h1>
<p>
Collaboration diagram for Mesh:<hr><a name="_details"></a><h2>Detailed Description</h2>
Operations on meshes. 
<p>
<b>Description:</b> <p>
(For an explanation of general data manipulations, see <a class="el" href="group__DataInterface.html">Data Interface</a>.) 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateMesh.html">(Private)</a></td></tr>

<tr><td colspan="2"><br><h2>Create new mesh from scratch.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gfeb2fbc7f7fce6d00b6946d43b56e0bb">fc_createMesh</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *meshname, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> *mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mesh.  <a href="#gfeb2fbc7f7fce6d00b6946d43b56e0bb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#ga17885c11234d1a1421cdb1a7d118315">fc_setMeshCoords</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int dim, int numVertex, double *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the mesh coordinates by copy.  <a href="#ga17885c11234d1a1421cdb1a7d118315"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gd49edafdfdda60b392d3a24803869b50">fc_setMeshCoordsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int dim, int numVertex, double *coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the pointer to the mesh coordinates.  <a href="#gd49edafdfdda60b392d3a24803869b50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gd5ca47af0316847926ce72532ae605a9">fc_setMeshElementConns</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> elemType, int numElem, int *connectivities)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the mesh element to vertex connectivities by copy.  <a href="#gd5ca47af0316847926ce72532ae605a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gbb354f851c7ec2f20f2921fd5a76cf02">fc_setMeshElementConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> elemType, int numElem, int *connectivities)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the pointer to the mesh element connectivities.  <a href="#gbb354f851c7ec2f20f2921fd5a76cf02"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Other ways to get new meshes.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g547dbbb4182c42da1677c20fd858c60f">fc_copyMesh</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> src_mesh, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, char *newName, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> *new_mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy a mesh.  <a href="#g547dbbb4182c42da1677c20fd858c60f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gb576e8dd50a853aa248c1a189cf2384b">fc_createSubsetMesh</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> dest_ds, int doStrict, char *newName, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> *new_mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mesh which is the subset of another mesh.  <a href="#gb576e8dd50a853aa248c1a189cf2384b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g255dc0498a0a61783e2377780aaccb7a">fc_createSimpleHexMesh</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *newName, int N, int M, int P, double *lower_coords, double *upper_coords, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> *new_mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a simple hex mesh.  <a href="#g255dc0498a0a61783e2377780aaccb7a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get existing meshes.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#ge71cd0e179143c6d82d58b9cc78cc436">fc_getMeshes</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numMesh, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> **meshes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the meshes in a dataset.  <a href="#ge71cd0e179143c6d82d58b9cc78cc436"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g8e7d13e18646abacaaa8b63e1dcd9001">fc_getNumMesh</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, int *numMesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the the number of meshes in a dataset.  <a href="#g8e7d13e18646abacaaa8b63e1dcd9001"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g8f35371531555da3b336a94d7ce3053d">fc_getMeshByName</a> (<a class="el" href="structFC__Dataset.html">FC_Dataset</a> dataset, char *meshname, int *numMeshes, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> **meshes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all meshes with a given name from the dataset.  <a href="#g8f35371531555da3b336a94d7ce3053d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Change the name of a mesh.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#ga995c691a8bfe0252b43e460056c6c26">fc_changeMeshName</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char *newName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the name of a mesh.  <a href="#ga995c691a8bfe0252b43e460056c6c26"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Release/delete meshes.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g794ab95c549f52f5a7ae932ff450923b">fc_releaseMesh</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to minimize mesh's memory usage.  <a href="#g794ab95c549f52f5a7ae932ff450923b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gc3572be7c4803b339a6110f2c3980e8e">fc_deleteMesh</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a mesh.  <a href="#gc3572be7c4803b339a6110f2c3980e8e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get mesh metadata.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gdc4cdd6e7f6a9151458bcb2c25715fd5">fc_isMeshValid</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the handle refers to a valid mesh.  <a href="#gdc4cdd6e7f6a9151458bcb2c25715fd5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g9f5a1b484e4b5ab4e0e137bfe34e10d6">fc_getMeshName</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char **meshname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return name of a mesh.  <a href="#g9f5a1b484e4b5ab4e0e137bfe34e10d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gb815346660b55dc96f257fbb970f0754">fc_getDatasetFromMesh</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="structFC__Dataset.html">FC_Dataset</a> *dataset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parent dataset of the mesh.  <a href="#gb815346660b55dc96f257fbb970f0754"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g12034c759ea24e05c321a611de1bab8e">fc_getMeshInfo</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *topodim, int *dim, int *numVertex, int *numElement, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *elemType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about a mesh.  <a href="#g12034c759ea24e05c321a611de1bab8e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g06bdd16c4f8ea1d805927fb26ca8d8ef">fc_getMeshTopodim</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *topodim)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the topological dimensionality of the mesh.  <a href="#g06bdd16c4f8ea1d805927fb26ca8d8ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#geaea4205623196e6b1b58da0b4b82b20">fc_getMeshDim</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *dim)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns dimensionality of the mesh coordinates.  <a href="#geaea4205623196e6b1b58da0b4b82b20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gd4e8931bbef75eafafa0735e23e513fa">fc_getMeshNumVertex</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numVertex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of vertices in a mesh.  <a href="#gd4e8931bbef75eafafa0735e23e513fa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g83a0b8188d49812c8d6d4c883cb8e9c4">fc_getMeshNumElement</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numElem)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns number of elements in a mesh.  <a href="#g83a0b8188d49812c8d6d4c883cb8e9c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g3bb6165352ed68a9dd86957ebae28008">fc_getMeshElementType</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *elemType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns type of elements in the mesh.  <a href="#g3bb6165352ed68a9dd86957ebae28008"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g04012a97710d5965ca5c92116cd9389e">fc_getMeshEdgeFaceInfo</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numEdge, int *numFace, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *faceType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about edges and faces in a mesh.  <a href="#g04012a97710d5965ca5c92116cd9389e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g0526437d03be312b52b0bbe8bc60a701">fc_getMeshNumEdge</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numEdge)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of edges in a mesh.  <a href="#g0526437d03be312b52b0bbe8bc60a701"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g0f4d7e58dc5936fc8f3824cbce0bf7c4">fc_getMeshNumFace</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numFace)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of faces in a mesh.  <a href="#g0f4d7e58dc5936fc8f3824cbce0bf7c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gb9414508dbdae090770e51de63b305dc">fc_getMeshFaceType</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *faceType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get element type of the face in the mesh.  <a href="#gb9414508dbdae090770e51de63b305dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> assoc, int *numEntity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns number of a type of mesh entity.  <a href="#gf169a555056c84bdfd59839bab4f8d76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g1c733c775b0e381dec888b5879f1c7f5">fc_getMeshEntityElementType</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> assoc, int ID, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *elemType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the element type of the mesh entity.  <a href="#g1c733c775b0e381dec888b5879f1c7f5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get mesh big data.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g44d09391731a139c4efc2c4fb2eda4e7">fc_getMeshCoordsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, double **coords_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the vertex coordinates of the mesh.  <a href="#g44d09391731a139c4efc2c4fb2eda4e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g4296dd134171c28f6f5dad6284748713">fc_getMeshCoordsAsVariable</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="structFC__Variable.html">FC_Variable</a> *coords_var)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the vertex coordinates of the mesh as a variable.  <a href="#g4296dd134171c28f6f5dad6284748713"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gf2e80f30f86823573a2a2e516234eab8">fc_getMeshEdgeConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **conns_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return edge connectivities.  <a href="#gf2e80f30f86823573a2a2e516234eab8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g0d44e57289411649dd174c54bc25264a">fc_getMeshFaceTypesPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> **faceTypes_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return face types.  <a href="#g0d44e57289411649dd174c54bc25264a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g216435eac0f72ad3ccb35e44b2df6ca5">fc_getMeshFaceConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **numVertPerFace_p, int *maxNumVertPerFace_p, int **conns_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return face connectivities.  <a href="#g216435eac0f72ad3ccb35e44b2df6ca5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g71ce3ca34963dcc548b6a7c38aa17fd9">fc_getMeshElementConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **conns_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return element to vertex connectivities for the mesh.  <a href="#g71ce3ca34963dcc548b6a7c38aa17fd9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g7e6a4ccf4c7aed555ccdbe6f17d7b80f">fc_getMeshElementToEdgeConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **elemToEdgeConns_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return element to edge connectivities.  <a href="#g7e6a4ccf4c7aed555ccdbe6f17d7b80f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#gce10d190e3467e0c32fd318b9a0a2a19">fc_getMeshElementToFaceConnsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **elemToFaceConns_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return element to face connectivities.  <a href="#gce10d190e3467e0c32fd318b9a0a2a19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g50269cff01d472e3b30ed46d8b91738a">fc_getMeshElementFaceOrientsPtr</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int **elemFaceOrients_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return element's face's orientations relative to global faces.  <a href="#g50269cff01d472e3b30ed46d8b91738a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print mesh.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mesh.html#g3b6bf934bf4715494826ddce189a8d10">fc_printMesh</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char *label, int print_edgeConns, int print_faceConns, int print_elemConns, int print_coords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print mesh meta data to stdout, and optionally the connections and/or coordinates.  <a href="#g3b6bf934bf4715494826ddce189a8d10"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga995c691a8bfe0252b43e460056c6c26"></a><!-- doxytag: member="mesh.c::fc_changeMeshName" ref="ga995c691a8bfe0252b43e460056c6c26" args="(FC_Mesh mesh, char *newName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_changeMeshName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the name of a mesh. 
<p>
<b>Modifications:</b> <ul>
<li>8/24/2005 WSD. Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
Input - the mesh. </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - new name for the mesh. </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01618">1618</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.<div class="fragment"><pre class="fragment"><a name="l01621"></a>01621   {
<a name="l01622"></a>01622   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l01623"></a>01623 
<a name="l01624"></a>01624   <span class="comment">// check input</span>
<a name="l01625"></a>01625   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l01626"></a>01626   <span class="keywordflow">if</span> (meshSlot == NULL || newName == NULL) {
<a name="l01627"></a>01627     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01628"></a>01628     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01629"></a>01629   }
<a name="l01630"></a>01630 
<a name="l01631"></a>01631   <span class="comment">// log message</span>
<a name="l01632"></a>01632   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Changing name of mesh from '%s' to '%s'"</span>, 
<a name="l01633"></a>01633                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, newName);
<a name="l01634"></a>01634   
<a name="l01635"></a>01635   <span class="comment">// Do it</span>
<a name="l01636"></a>01636   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g5b2da1cfdef894767314907efc02099b">_fc_setSlotHeaderName</a>(&amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>, newName);
<a name="l01637"></a>01637 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g547dbbb4182c42da1677c20fd858c60f"></a><!-- doxytag: member="mesh.c::fc_copyMesh" ref="g547dbbb4182c42da1677c20fd858c60f" args="(FC_Mesh src_mesh, FC_Dataset dest_ds, char *newName, FC_Mesh *new_mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_copyMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>src_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> *&nbsp;</td>
          <td class="paramname"> <em>new_mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy a mesh. 
<p>
<b>Description:</b> <p>
Create a copy of a mesh, in the specified dataset, with the given name. This also copies all variables on the mesh.<p>
Note: if there are any sequence variables on the mesh, this routine may copy their related sequences if they do not exist in the destination dataset.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000052">Todo:</a></b></dt><dd>Should better define what constitutes an appropriate sequence when copying sequence variables. Right now very conservative: expects to find essentially the same sequence: same name &amp; same data values.</dd></dl>
<b>Modifications:</b> <ul>
<li>2003-NOV-11 WSK Created</li><li>10/4/04 WSK, changed internals so they call more routines and go to the structs less often. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>src_mesh</em>&nbsp;</td><td>
Input - the source mesh to be copied </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
Input - the destination dataset to be copied into </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new mesh, a NULL value is a flag to use the name of the source mesh </td></tr>
<tr><td valign="top"><em>new_mesh</em>&nbsp;</td><td>
Output - handle to the new mesh </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00460">460</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::coordVarID</a>, <a class="el" href="subset_8c-source.html#l00218">fc_copySubset()</a>, <a class="el" href="variable_8c-source.html#l00927">fc_copyVariable()</a>, <a class="el" href="mesh_8c-source.html#l00119">fc_createMesh()</a>, <a class="el" href="mesh_8c-source.html#l02716">fc_getMeshCoordsAsVariable()</a>, <a class="el" href="mesh_8c-source.html#l02655">fc_getMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02981">fc_getMeshElementConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02067">fc_getMeshInfo()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l00695">fc_getSubsets()</a>, <a class="el" href="variable_8c-source.html#l02503">fc_getVariables()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="mesh_8c-source.html#l00193">fc_setMeshCoords()</a>, <a class="el" href="mesh_8c-source.html#l00321">fc_setMeshElementConns()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00172">fc_copyDataset()</a>, and <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l00466"></a>00466   { 
<a name="l00467"></a>00467   <span class="keywordtype">int</span> i, j;
<a name="l00468"></a>00468   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00469"></a>00469   <span class="keywordtype">int</span> topodim, dim, numVert, numElem;
<a name="l00470"></a>00470   <span class="keywordtype">int</span> numSubset, numVariable, numSeqVar, *numStepPerSeq;
<a name="l00471"></a>00471   <a class="code" href="structFC__Subset.html">FC_Subset</a> *subsets, new_subset;
<a name="l00472"></a>00472   <a class="code" href="structFC__Variable.html">FC_Variable</a> *variables, new_var, **seqVars, *new_seqVar;
<a name="l00473"></a>00473   <a class="code" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> elemType;
<a name="l00474"></a>00474   <span class="keywordtype">double</span> *coords;
<a name="l00475"></a>00475   <span class="keywordtype">int</span>* conns;
<a name="l00476"></a>00476   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00477"></a>00477   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* src_meshSlot;
<a name="l00478"></a>00478   
<a name="l00479"></a>00479   <span class="comment">// default return value</span>
<a name="l00480"></a>00480   <span class="keywordflow">if</span> (new_mesh)
<a name="l00481"></a>00481     *new_mesh = <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483   <span class="comment">// check input</span>
<a name="l00484"></a>00484   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dest_ds);
<a name="l00485"></a>00485   src_meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(src_mesh);
<a name="l00486"></a>00486   <span class="keywordflow">if</span> (dest_dsSlot == NULL || src_meshSlot == NULL || new_mesh == NULL) {
<a name="l00487"></a>00487     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00488"></a>00488     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00489"></a>00489   }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491   <span class="comment">// test for NULL name</span>
<a name="l00492"></a>00492   <span class="keywordflow">if</span> (newName == NULL)
<a name="l00493"></a>00493     newName = src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495   <span class="comment">// log message</span>
<a name="l00496"></a>00496   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Copying mesh '%s' to '%s'"</span>, src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, 
<a name="l00497"></a>00497                       newName);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499   <span class="comment">// get src data</span>
<a name="l00500"></a>00500   rc = <a class="code" href="group__Mesh.html#g12034c759ea24e05c321a611de1bab8e">fc_getMeshInfo</a>(src_mesh, &amp;topodim, &amp;dim, &amp;numVert, &amp;numElem,
<a name="l00501"></a>00501                         &amp;elemType);
<a name="l00502"></a>00502   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00503"></a>00503     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for mesh '%s'"</span>,
<a name="l00504"></a>00504                           src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00505"></a>00505     <span class="keywordflow">return</span> rc;
<a name="l00506"></a>00506   }
<a name="l00507"></a>00507   rc = <a class="code" href="group__Mesh.html#g44d09391731a139c4efc2c4fb2eda4e7">fc_getMeshCoordsPtr</a>(src_mesh, &amp;coords);
<a name="l00508"></a>00508   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00509"></a>00509     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for mesh '%s'"</span>,
<a name="l00510"></a>00510                           src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00511"></a>00511     <span class="keywordflow">return</span> rc;
<a name="l00512"></a>00512   }
<a name="l00513"></a>00513   rc = <a class="code" href="group__Mesh.html#g71ce3ca34963dcc548b6a7c38aa17fd9">fc_getMeshElementConnsPtr</a>(src_mesh, &amp;conns);
<a name="l00514"></a>00514   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00515"></a>00515     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get connectivities for mesh '%s'"</span>,
<a name="l00516"></a>00516                           src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00517"></a>00517     <span class="keywordflow">return</span> rc;
<a name="l00518"></a>00518   }
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="comment">// create new mesh </span>
<a name="l00521"></a>00521   rc = <a class="code" href="group__Mesh.html#gfeb2fbc7f7fce6d00b6946d43b56e0bb">fc_createMesh</a>(dest_ds, newName, new_mesh);
<a name="l00522"></a>00522   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00523"></a>00523     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get create new mesh '%s'"</span>, newName);
<a name="l00524"></a>00524     <span class="keywordflow">return</span> rc;
<a name="l00525"></a>00525   }
<a name="l00526"></a>00526   rc = <a class="code" href="group__Mesh.html#ga17885c11234d1a1421cdb1a7d118315">fc_setMeshCoords</a>(*new_mesh, dim, numVert, coords);
<a name="l00527"></a>00527   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00528"></a>00528     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to set vertices on mesh '%s'"</span>, newName);
<a name="l00529"></a>00529     <span class="keywordflow">return</span> rc;
<a name="l00530"></a>00530   }
<a name="l00531"></a>00531   rc = <a class="code" href="group__Mesh.html#gd5ca47af0316847926ce72532ae605a9">fc_setMeshElementConns</a>(*new_mesh, elemType, numElem, conns);
<a name="l00532"></a>00532   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00533"></a>00533     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to set elements on mesh '%s'"</span>, newName);
<a name="l00534"></a>00534     <span class="keywordflow">return</span> rc;
<a name="l00535"></a>00535   }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537   <span class="comment">// Note: if you change behavior here, might want to change in</span>
<a name="l00538"></a>00538   <span class="comment">// fc_createSubsetMesh() too</span>
<a name="l00539"></a>00539 
<a name="l00540"></a>00540   <span class="comment">// copy the subsets</span>
<a name="l00541"></a>00541   rc = <a class="code" href="group__Subset.html#g5c0185b0cab5ac7256fec095a98c3bd0">fc_getSubsets</a>(src_mesh, &amp;numSubset, &amp;subsets);
<a name="l00542"></a>00542   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00543"></a>00543     <span class="keywordflow">return</span> rc;
<a name="l00544"></a>00544   <span class="keywordflow">for</span> (i = 0; i &lt; numSubset; i++) {
<a name="l00545"></a>00545     rc = <a class="code" href="group__Subset.html#g8d62de2aecacfe4938e68a08153fd3c1">fc_copySubset</a>(subsets[i], *new_mesh, NULL, &amp;new_subset);
<a name="l00546"></a>00546     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00547"></a>00547       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to copy member subset"</span>);
<a name="l00548"></a>00548       <span class="keywordflow">return</span> rc;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550   }
<a name="l00551"></a>00551   free(subsets);
<a name="l00552"></a>00552 
<a name="l00553"></a>00553   <span class="comment">// copy the basic variables</span>
<a name="l00554"></a>00554   rc = <a class="code" href="group__Variable.html#g74cf87c790d013532d9451af1b5f1fbb">fc_getVariables</a>(src_mesh, &amp;numVariable, &amp;variables);
<a name="l00555"></a>00555   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00556"></a>00556     <span class="keywordflow">return</span> rc;
<a name="l00557"></a>00557   <span class="keywordflow">for</span> (i = 0; i &lt; numVariable; i++) {
<a name="l00558"></a>00558     <span class="comment">// do something different for the mesh 'coords as variable'</span>
<a name="l00559"></a>00559     <span class="keywordflow">if</span> (variables[i].slotID == src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#87698a0b5c2b6161380ae3134b88668b">coordVarID</a>) {
<a name="l00560"></a>00560       rc = <a class="code" href="group__Mesh.html#g4296dd134171c28f6f5dad6284748713">fc_getMeshCoordsAsVariable</a>(*new_mesh, &amp;new_var);
<a name="l00561"></a>00561       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00562"></a>00562         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create copy of coords variable"</span>);
<a name="l00563"></a>00563         <span class="keywordflow">return</span> rc;
<a name="l00564"></a>00564       }
<a name="l00565"></a>00565     }
<a name="l00566"></a>00566     <span class="comment">// normal path for variables</span>
<a name="l00567"></a>00567     <span class="keywordflow">else</span> {
<a name="l00568"></a>00568       rc = <a class="code" href="group__Variable.html#g613db2bba8e25ddc62756f186f442cab">fc_copyVariable</a>(variables[i], *new_mesh, NULL, &amp;new_var);
<a name="l00569"></a>00569       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00570"></a>00570         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to copy member variable"</span>);
<a name="l00571"></a>00571         <span class="keywordflow">return</span> rc;
<a name="l00572"></a>00572       }
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574   }
<a name="l00575"></a>00575   free(variables);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   <span class="comment">// copy the sequence variables</span>
<a name="l00578"></a>00578   rc = <a class="code" href="group__Variable.html#g93185e07dcdf01ffc87fc28a69ee96ae">fc_getSeqVariables</a>(src_mesh, &amp;numSeqVar, &amp;numStepPerSeq, &amp;seqVars);
<a name="l00579"></a>00579   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00580"></a>00580     <span class="keywordflow">return</span> rc;
<a name="l00581"></a>00581   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++) {
<a name="l00582"></a>00582     <a class="code" href="structFC__Sequence.html">FC_Sequence</a> src_seq, dest_seq;
<a name="l00583"></a>00583 
<a name="l00584"></a>00584     <span class="comment">// look for appropriate sequence on the destination dataset</span>
<a name="l00585"></a>00585     rc = <a class="code" href="group__Variable.html#gea428de5a2584716f6e2bc77cd339544">fc_getSequenceFromSeqVariable</a>(numStepPerSeq[i], seqVars[i],
<a name="l00586"></a>00586                                        &amp;src_seq);
<a name="l00587"></a>00587     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00588"></a>00588       <span class="keywordflow">return</span> rc;
<a name="l00589"></a>00589     dest_seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l00590"></a>00590     <span class="comment">// if we are in the same dataset, reuse the same sequence</span>
<a name="l00591"></a>00591     <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dest_ds, src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#553d7d0470e312f24080c5ed49334ead">ds</a>)) 
<a name="l00592"></a>00592       dest_seq = src_seq;
<a name="l00593"></a>00593     <span class="keywordflow">else</span> { <span class="comment">// look for an appropriate sequence in dest_ds</span>
<a name="l00594"></a>00594       <span class="keywordtype">int</span> dest_numSequence, src_numStep, dest_numStep;
<a name="l00595"></a>00595       <a class="code" href="structFC__Sequence.html">FC_Sequence</a> *dest_sequences;
<a name="l00596"></a>00596       <span class="keywordtype">char</span>* src_name, *dest_name;
<a name="l00597"></a>00597       <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> src_dataType, dest_dataType;
<a name="l00598"></a>00598       <span class="keywordtype">void</span>* src_coords_p, *dest_coords_p;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600       <span class="comment">// collect src sequence info      </span>
<a name="l00601"></a>00601       rc = <a class="code" href="group__Sequence.html#gc810d7a86c70a251ea10a90e9c59b710">fc_getSequenceName</a>(src_seq, &amp;src_name);
<a name="l00602"></a>00602       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00603"></a>00603         <span class="keywordflow">return</span> rc;
<a name="l00604"></a>00604       rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(src_seq, &amp;src_numStep, &amp;src_dataType); 
<a name="l00605"></a>00605       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00606"></a>00606         <span class="keywordflow">return</span> rc;
<a name="l00607"></a>00607       rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(src_seq, &amp;src_coords_p);
<a name="l00608"></a>00608       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00609"></a>00609         <span class="keywordflow">return</span> rc;
<a name="l00610"></a>00610  
<a name="l00611"></a>00611       <span class="comment">// compare to dest sequences</span>
<a name="l00612"></a>00612       rc = <a class="code" href="group__Sequence.html#g4e9e6506fc7e6ce22310105003a21789">fc_getSequences</a>(dest_ds, &amp;dest_numSequence, &amp;dest_sequences);
<a name="l00613"></a>00613       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00614"></a>00614         <span class="keywordflow">return</span> rc;
<a name="l00615"></a>00615       <span class="keywordflow">for</span> (j = 0; j &lt; dest_numSequence; j++) {
<a name="l00616"></a>00616         rc = <a class="code" href="group__Sequence.html#gc810d7a86c70a251ea10a90e9c59b710">fc_getSequenceName</a>(dest_sequences[j], &amp;dest_name);
<a name="l00617"></a>00617         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00618"></a>00618           <span class="keywordflow">return</span> rc;
<a name="l00619"></a>00619         rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(dest_sequences[j], &amp;dest_numStep,
<a name="l00620"></a>00620                                 &amp;dest_dataType); 
<a name="l00621"></a>00621         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00622"></a>00622           <span class="keywordflow">return</span> rc;
<a name="l00623"></a>00623         rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(dest_sequences[j], &amp;dest_coords_p);
<a name="l00624"></a>00624         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00625"></a>00625           <span class="keywordflow">return</span> rc;
<a name="l00626"></a>00626         <span class="comment">// compare (?checking actual coords values might be too stringent)</span>
<a name="l00627"></a>00627         <span class="keywordflow">if</span> (!strcmp(dest_name, src_name) &amp;&amp; dest_numStep == src_numStep &amp;&amp; 
<a name="l00628"></a>00628             dest_dataType == src_dataType &amp;&amp; 
<a name="l00629"></a>00629             !memcmp(dest_coords_p, src_coords_p, 
<a name="l00630"></a>00630                     <a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(src_dataType))) {
<a name="l00631"></a>00631 
<a name="l00632"></a>00632           free(dest_name);
<a name="l00633"></a>00633 
<a name="l00634"></a>00634           <span class="comment">// passed all tests, this is the match</span>
<a name="l00635"></a>00635           dest_seq = dest_sequences[j];
<a name="l00636"></a>00636           <span class="keywordflow">break</span>;
<a name="l00637"></a>00637         }
<a name="l00638"></a>00638         free(dest_name);
<a name="l00639"></a>00639       }
<a name="l00640"></a>00640       free(dest_sequences);
<a name="l00641"></a>00641       free(src_name);
<a name="l00642"></a>00642     }
<a name="l00643"></a>00643     <span class="comment">// if failed to find one, just copy it</span>
<a name="l00644"></a>00644     <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dest_seq, <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>)) {
<a name="l00645"></a>00645       rc = <a class="code" href="group__Sequence.html#gf617aa03a3fa894bf69f860d90cb8ed9">fc_copySequence</a>(src_seq, dest_ds, NULL, &amp;dest_seq);
<a name="l00646"></a>00646       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00647"></a>00647         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to copy sequence needed for seqVar"</span>);
<a name="l00648"></a>00648         <span class="keywordflow">return</span> rc;
<a name="l00649"></a>00649       }
<a name="l00650"></a>00650     }
<a name="l00651"></a>00651 
<a name="l00652"></a>00652     <span class="comment">// copy the sequence variables</span>
<a name="l00653"></a>00653     rc = <a class="code" href="group__Variable.html#g0f742eca08d99bdb19862fe375f4f3d9">fc_copySeqVariable</a>(numStepPerSeq[i], seqVars[i], *new_mesh, dest_seq,
<a name="l00654"></a>00654                             NULL, &amp;new_seqVar);
<a name="l00655"></a>00655     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00656"></a>00656       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to copy member sequence variable"</span>);
<a name="l00657"></a>00657       <span class="keywordflow">return</span> rc;
<a name="l00658"></a>00658     }
<a name="l00659"></a>00659     free(new_seqVar);
<a name="l00660"></a>00660     free(seqVars[i]);
<a name="l00661"></a>00661   }
<a name="l00662"></a>00662   free(numStepPerSeq);
<a name="l00663"></a>00663   free(seqVars);
<a name="l00664"></a>00664 
<a name="l00665"></a>00665   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00666"></a>00666 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gfeb2fbc7f7fce6d00b6946d43b56e0bb"></a><!-- doxytag: member="mesh.c::fc_createMesh" ref="gfeb2fbc7f7fce6d00b6946d43b56e0bb" args="(FC_Dataset dataset, char *meshname, FC_Mesh *mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>meshname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> *&nbsp;</td>
          <td class="paramname"> <em>mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new mesh. 
<p>
<b>Description:</b> <p>
Create a new, in-memory, mesh.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset handle to associate mesh with </td></tr>
<tr><td valign="top"><em>meshname</em>&nbsp;</td><td>
input - new mesh name </td></tr>
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
output - mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00119">119</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05226">_fc_getNewMeshSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="meshP_8h-source.html#l00096">_FC_MeshSlot::ds</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.
<p>
Referenced by <a class="el" href="exodusio_8c-source.html#l00466">_fc_loadExodusDataset()</a>, <a class="el" href="lsdynaio_8c-source.html#l00478">_fc_loadLSDynaDataset()</a>, <a class="el" href="fileio_8c-source.html#l00462">_fc_makeMeshFromFiles()</a>, <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="geom_8c-source.html#l01069">fc_createBoundingBoxMesh()</a>, <a class="el" href="mesh_8c-source.html#l01299">fc_createSimpleHexMesh()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="seriesDemo_8c-source.html#l00075">main()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00198">setupDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l00123"></a>00123   {
<a name="l00124"></a>00124   <span class="keywordtype">int</span> *tempslotIDs;
<a name="l00125"></a>00125   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l00126"></a>00126   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l00127"></a>00127   
<a name="l00128"></a>00128   <span class="comment">// default returns</span>
<a name="l00129"></a>00129   <span class="keywordflow">if</span> (mesh)
<a name="l00130"></a>00130     *mesh = <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>;
<a name="l00131"></a>00131   
<a name="l00132"></a>00132   <span class="comment">// check input</span>
<a name="l00133"></a>00133   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l00134"></a>00134   <span class="keywordflow">if</span> (dsSlot == NULL || !meshname || !mesh) {
<a name="l00135"></a>00135     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00136"></a>00136     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00137"></a>00137   }
<a name="l00138"></a>00138   
<a name="l00139"></a>00139   <span class="comment">// log message</span>
<a name="l00140"></a>00140   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new mesh '%s'"</span>, meshname);
<a name="l00141"></a>00141   
<a name="l00142"></a>00142   <span class="comment">// get an open slot</span>
<a name="l00143"></a>00143   meshSlot = <a class="code" href="group__PrivateMesh.html#g8a7f30c78d86a946eda68bdf9f4d0970">_fc_getNewMeshSlot</a>();
<a name="l00144"></a>00144   <span class="keywordflow">if</span> (meshSlot == NULL) {
<a name="l00145"></a>00145     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00146"></a>00146     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00147"></a>00147   }
<a name="l00148"></a>00148   
<a name="l00149"></a>00149   <span class="comment">// table header information</span>
<a name="l00150"></a>00150   <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(*mesh, meshSlot);
<a name="l00151"></a>00151   <a class="code" href="group__PrivateTable.html#g5b2da1cfdef894767314907efc02099b">_fc_setSlotHeaderName</a>(&amp;(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>), meshname);
<a name="l00152"></a>00152   
<a name="l00153"></a>00153   <span class="comment">// set back and forth references</span>
<a name="l00154"></a>00154   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#553d7d0470e312f24080c5ed49334ead">ds</a> = dataset;
<a name="l00155"></a>00155   
<a name="l00156"></a>00156   <span class="comment">// update owning dataset with info about this new mesh</span>
<a name="l00157"></a>00157   tempslotIDs = realloc(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>+1));
<a name="l00158"></a>00158   <span class="keywordflow">if</span> (tempslotIDs == NULL) {
<a name="l00159"></a>00159     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00160"></a>00160     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00161"></a>00161   }
<a name="l00162"></a>00162   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a> = tempslotIDs;
<a name="l00163"></a>00163   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>] = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#bcade4ee6957823bf234769051debf4d">slotID</a>;
<a name="l00164"></a>00164   dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>++;
<a name="l00165"></a>00165   
<a name="l00166"></a>00166   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00167"></a>00167 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g255dc0498a0a61783e2377780aaccb7a"></a><!-- doxytag: member="mesh.c::fc_createSimpleHexMesh" ref="g255dc0498a0a61783e2377780aaccb7a" args="(FC_Dataset dataset, char *newName, int N, int M, int P, double *lower_coords, double *upper_coords, FC_Mesh *new_mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createSimpleHexMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>lower_coords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>upper_coords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> *&nbsp;</td>
          <td class="paramname"> <em>new_mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a simple hex mesh. 
<p>
<b>Description:</b> <p>
This function creates a hex mesh which is a regular parallelpiped (if all the sides are the same length, a cube). The number of elements in each dimension are given by N, M, &amp; K. The coordinates are specified by giving the coordinates of the lower and upper corners of the mesh.<p>
<b>Modifications:</b> <ul>
<li>11/09/2005 WSD Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
Input - dataset handle to associate mesh with </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new mesh </td></tr>
<tr><td valign="top"><em>N</em>&nbsp;</td><td>
Input - number of elements in the x direction </td></tr>
<tr><td valign="top"><em>M</em>&nbsp;</td><td>
Input - number of elements in the y direction </td></tr>
<tr><td valign="top"><em>P</em>&nbsp;</td><td>
Input - number of elements in the z direction </td></tr>
<tr><td valign="top"><em>lower_coords</em>&nbsp;</td><td>
Input - the coordinates of lower corner. </td></tr>
<tr><td valign="top"><em>upper_coords</em>&nbsp;</td><td>
Input - the coordinates of upper corner. </td></tr>
<tr><td valign="top"><em>new_mesh</em>&nbsp;</td><td>
output - new mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01299">1299</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l00119">fc_createMesh()</a>, <a class="el" href="mesh_8c-source.html#l01859">fc_deleteMesh()</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b49e84aa94138112a229fbaf4f69b4735b">FC_ET_HEX</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="dataset_8c-source.html#l00762">fc_isDatasetValid()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="mesh_8c-source.html#l00259">fc_setMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l00391">fc_setMeshElementConnsPtr()</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="elemdeath__ex1_8c-source.html#l00147">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01308"></a>01308   {
<a name="l01309"></a>01309   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l01310"></a>01310   <span class="keywordtype">int</span> i, j, k;
<a name="l01311"></a>01311   <span class="keywordtype">int</span> numElemPerDim[3] = { N, M, P }, eindex, vindex;
<a name="l01312"></a>01312   <span class="keywordtype">int</span> numDim = 3, numVertPerElem = 8;
<a name="l01313"></a>01313   <span class="keywordtype">int</span> numVert, numElem;
<a name="l01314"></a>01314   <span class="keywordtype">double</span> side_lengths[3];
<a name="l01315"></a>01315   <span class="keywordtype">int</span> *conns;
<a name="l01316"></a>01316   <span class="keywordtype">double</span>* coords;
<a name="l01317"></a>01317 
<a name="l01318"></a>01318   <span class="comment">// default output</span>
<a name="l01319"></a>01319   <span class="keywordflow">if</span> (new_mesh)
<a name="l01320"></a>01320     *new_mesh = <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>;
<a name="l01321"></a>01321 
<a name="l01322"></a>01322   <span class="comment">// check input</span>
<a name="l01323"></a>01323   <span class="keywordflow">if</span> (!<a class="code" href="group__Dataset.html#g77092c7248e1cff8cf5a4035e19658da">fc_isDatasetValid</a>(dataset) || !newName || N &lt; 1 || M &lt; 1 || P &lt; 1 || 
<a name="l01324"></a>01324       !lower_coords || !upper_coords || !new_mesh) {
<a name="l01325"></a>01325     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01326"></a>01326     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01327"></a>01327   }
<a name="l01328"></a>01328   <span class="keywordflow">for</span> (i = 0; i &lt; numDim; i++) {
<a name="l01329"></a>01329     <span class="keywordflow">if</span> (lower_coords[i] &gt;= upper_coords[i]) {
<a name="l01330"></a>01330       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Upper coords for dim%d must be greater than lower "</span>
<a name="l01331"></a>01331                             <span class="stringliteral">"coords"</span>, i);
<a name="l01332"></a>01332       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01333"></a>01333     }
<a name="l01334"></a>01334   }
<a name="l01335"></a>01335 
<a name="l01336"></a>01336   <span class="comment">// log message</span>
<a name="l01337"></a>01337   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating simple hex mesh '%s'"</span>, newName);
<a name="l01338"></a>01338 
<a name="l01339"></a>01339   <span class="comment">// Set up</span>
<a name="l01340"></a>01340   numVert = (M+1)*(N+1)*(P+1);
<a name="l01341"></a>01341   numElem = M*N*P;
<a name="l01342"></a>01342   conns = (<span class="keywordtype">int</span>*)malloc(numElem*numVertPerElem*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01343"></a>01343   coords = (<span class="keywordtype">double</span>*)malloc(numVert*numDim*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l01344"></a>01344   <span class="keywordflow">if</span> (!conns || !coords) {
<a name="l01345"></a>01345     free(conns);
<a name="l01346"></a>01346     free(coords);
<a name="l01347"></a>01347     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01348"></a>01348     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01349"></a>01349   }
<a name="l01350"></a>01350   <span class="keywordflow">for</span> (i = 0; i &lt; numDim; i++)
<a name="l01351"></a>01351     side_lengths[i] = (upper_coords[i] - lower_coords[i])/numElemPerDim[i];
<a name="l01352"></a>01352 
<a name="l01353"></a>01353   <span class="comment">// Make coords</span>
<a name="l01354"></a>01354   <span class="keywordflow">for</span> (k = 0; k &lt; P+1; k++) {
<a name="l01355"></a>01355     <span class="keywordflow">for</span> (j = 0; j &lt; M+1; j++) {
<a name="l01356"></a>01356       <span class="keywordflow">for</span> (i = 0; i &lt; N+1; i++) {
<a name="l01357"></a>01357         vindex = k*(N+1)*(M+1) + j*(N+1) + i;
<a name="l01358"></a>01358         coords[vindex*numDim] =   i*side_lengths[0] + lower_coords[0];
<a name="l01359"></a>01359         coords[vindex*numDim+1] = j*side_lengths[1] + lower_coords[1];
<a name="l01360"></a>01360         coords[vindex*numDim+2] = k*side_lengths[2] + lower_coords[2];
<a name="l01361"></a>01361       }
<a name="l01362"></a>01362     }
<a name="l01363"></a>01363   }
<a name="l01364"></a>01364 
<a name="l01365"></a>01365   <span class="comment">// Make conns</span>
<a name="l01366"></a>01366   <span class="keywordflow">for</span> (k = 0; k &lt; P; k++) {
<a name="l01367"></a>01367     <span class="keywordflow">for</span> (j = 0; j &lt; M; j++) {
<a name="l01368"></a>01368       <span class="keywordflow">for</span> (i = 0; i &lt; N; i++) {
<a name="l01369"></a>01369         eindex = k*N*M + j*N + i;
<a name="l01370"></a>01370         vindex = k*(N+1)*(M+1) + j*(N+1) + i; <span class="comment">// index of lowest vert</span>
<a name="l01371"></a>01371         conns[eindex*numVertPerElem]   = vindex;
<a name="l01372"></a>01372         conns[eindex*numVertPerElem+1] = vindex + 1;
<a name="l01373"></a>01373         vindex = k*(N+1)*(M+1) + (j+1)*(N+1) + i;
<a name="l01374"></a>01374         conns[eindex*numVertPerElem+2] = vindex + 1;
<a name="l01375"></a>01375         conns[eindex*numVertPerElem+3] = vindex;
<a name="l01376"></a>01376         vindex = (k+1)*(N+1)*(M+1) + j*(N+1) + i;
<a name="l01377"></a>01377         conns[eindex*numVertPerElem+4] = vindex;
<a name="l01378"></a>01378         conns[eindex*numVertPerElem+5] = vindex + 1;
<a name="l01379"></a>01379         vindex = (k+1)*(N+1)*(M+1) + (j+1)*(N+1) + i;
<a name="l01380"></a>01380         conns[eindex*numVertPerElem+6] = vindex + 1;
<a name="l01381"></a>01381         conns[eindex*numVertPerElem+7] = vindex;
<a name="l01382"></a>01382       }
<a name="l01383"></a>01383     }
<a name="l01384"></a>01384   }
<a name="l01385"></a>01385 
<a name="l01386"></a>01386   <span class="comment">// Make the mesh</span>
<a name="l01387"></a>01387   rc = <a class="code" href="group__Mesh.html#gfeb2fbc7f7fce6d00b6946d43b56e0bb">fc_createMesh</a>(dataset, newName, new_mesh);
<a name="l01388"></a>01388   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01389"></a>01389     free(coords);
<a name="l01390"></a>01390     free(conns);
<a name="l01391"></a>01391     <span class="keywordflow">return</span> rc;
<a name="l01392"></a>01392   }
<a name="l01393"></a>01393   rc = <a class="code" href="group__Mesh.html#gd49edafdfdda60b392d3a24803869b50">fc_setMeshCoordsPtr</a>(*new_mesh, numDim, numVert, coords);
<a name="l01394"></a>01394   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01395"></a>01395     free(conns);
<a name="l01396"></a>01396     <a class="code" href="group__Mesh.html#gc3572be7c4803b339a6110f2c3980e8e">fc_deleteMesh</a>(*new_mesh);
<a name="l01397"></a>01397     <span class="keywordflow">return</span> rc;
<a name="l01398"></a>01398   }
<a name="l01399"></a>01399   rc = <a class="code" href="group__Mesh.html#gbb354f851c7ec2f20f2921fd5a76cf02">fc_setMeshElementConnsPtr</a>(*new_mesh, <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b49e84aa94138112a229fbaf4f69b4735b">FC_ET_HEX</a>, numElem, conns);
<a name="l01400"></a>01400   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01401"></a>01401     <a class="code" href="group__Mesh.html#gc3572be7c4803b339a6110f2c3980e8e">fc_deleteMesh</a>(*new_mesh);
<a name="l01402"></a>01402     <span class="keywordflow">return</span> rc;
<a name="l01403"></a>01403   }
<a name="l01404"></a>01404 
<a name="l01405"></a>01405   <span class="comment">// All done!</span>
<a name="l01406"></a>01406   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01407"></a>01407 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb576e8dd50a853aa248c1a189cf2384b"></a><!-- doxytag: member="mesh.c::fc_createSubsetMesh" ref="gb576e8dd50a853aa248c1a189cf2384b" args="(FC_Subset subset, FC_Dataset dest_ds, int doStrict, char *newName, FC_Mesh *new_mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_createSubsetMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dest_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>doStrict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> *&nbsp;</td>
          <td class="paramname"> <em>new_mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new mesh which is the subset of another mesh. 
<p>
<b>Description:</b> <p>
This function extracts a selected subset of a mesh as elements. Point and element indices are renumbered to maintain the correct vertex and element relationships. (This does mean the correspondence between vertices and elements extracted in the subset and the original dataset are now lost.)<p>
This routine automatically copies all subsets, variables and sequence variables.<p>
If the association type of the subset is of lesser dimensionality than FC_AT_ELEMENT, the 'doStrict' flag determines whether to keep new entities if not all of their child entities are in the old subset. 1 = be strict and only have the entity in the new subset if all of it's children are present in the old subset. 0 = be lenient and add all entities that have at least one child in the old subset (see also fc_changeMeshEntityType).<p>
NOTE: An FC_NULL_DATASET handle can be returned with no error if there is no appropriate dataset to make. (E.g. if the marked lists are all 0, or you want a 0 level mesh but not enough vertices are marked to get whole elements.)<p>
NOTE: all subsets are copied even if they have no members in the new mesh (they'll just be empty subsets). The original subset is also copied.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000053">Todo:</a></b></dt><dd>Create new variables that keep track of the mesh entity IDs from the originating mesh (trivial to implement).</dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000053">Todo:</a></b></dt><dd>internals could probably be made more efficient spacewise?</dd></dl>
<b>Modifications:</b> <ul>
<li>2003-NOV-20 W Koegler Replace all 6 of old subset routines with new multipurpose routine.</li><li>08/20/04 WSK Changed to used new topo routine for figuring out which elements to keep.</li><li>10/2/04 WSK fixing up recursive subsetting of member subsets variables &amp; seq vars. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>dest_ds</em>&nbsp;</td><td>
input - dataset to put the new mesh on </td></tr>
<tr><td valign="top"><em>doStrict</em>&nbsp;</td><td>
input - flag for dropping incomplete entities </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - the name of the new mesh, a NULL value is a flag to use the name of the source mesh </td></tr>
<tr><td valign="top"><em>new_mesh</em>&nbsp;</td><td>
output - new mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00713">713</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l02596">_fc_getSubSlot()</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::coordVarID</a>, <a class="el" href="storage_8c-source.html#l00343">fc_addIntArrayToSortedIntArray()</a>, <a class="el" href="subset_8c-source.html#l01178">fc_addMemberToSubset()</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>, <a class="el" href="topo_8c-source.html#l00369">fc_changeMeshEntityType()</a>, <a class="el" href="storage_8c-source.html#l01194">fc_convertSortedIntArrayToIntArray()</a>, <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00119">fc_createMesh()</a>, <a class="el" href="subset_8c-source.html#l00127">fc_createSubset()</a>, <a class="el" href="variable_8c-source.html#l00284">fc_createVariable()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00585">fc_getElementTypeNumEdge()</a>, <a class="el" href="base_8c-source.html#l00621">fc_getElementTypeNumFace()</a>, <a class="el" href="base_8c-source.html#l00549">fc_getElementTypeNumVertex()</a>, <a class="el" href="mesh_8c-source.html#l02716">fc_getMeshCoordsAsVariable()</a>, <a class="el" href="mesh_8c-source.html#l02655">fc_getMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02981">fc_getMeshElementConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l03040">fc_getMeshElementToEdgeConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l03099">fc_getMeshElementToFaceConnsPtr()</a>, <a class="el" href="subset_8c-source.html#l01713">fc_getMeshFromSubset()</a>, <a class="el" href="mesh_8c-source.html#l02067">fc_getMeshInfo()</a>, <a class="el" href="mesh_8c-source.html#l02244">fc_getMeshNumElement()</a>, <a class="el" href="mesh_8c-source.html#l02518">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="variable_8c-source.html#l02567">fc_getSeqVariables()</a>, <a class="el" href="subset_8c-source.html#l01874">fc_getSubsetAssociationType()</a>, <a class="el" href="subset_8c-source.html#l01754">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l01973">fc_getSubsetMembersAsArray()</a>, <a class="el" href="subset_8c-source.html#l01672">fc_getSubsetName()</a>, <a class="el" href="subset_8c-source.html#l00695">fc_getSubsets()</a>, <a class="el" href="variable_8c-source.html#l04591">fc_getVariableDataPtr()</a>, <a class="el" href="variable_8c-source.html#l04309">fc_getVariableInfo()</a>, <a class="el" href="variable_8c-source.html#l04152">fc_getVariableName()</a>, <a class="el" href="variable_8c-source.html#l02503">fc_getVariables()</a>, <a class="el" href="storage_8c-source.html#l00094">fc_initSortedIntArray()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="mesh_8c-source.html#l00259">fc_setMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l00391">fc_setMeshElementConnsPtr()</a>, <a class="el" href="variable_8c-source.html#l00602">fc_setVariableDataPtr()</a>, <a class="el" href="base_8c-source.html#l00740">fc_sizeofDataType()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::mesh</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00720"></a>00720   {
<a name="l00721"></a>00721   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l00722"></a>00722   <span class="keywordtype">int</span> i, j, k;
<a name="l00723"></a>00723   <span class="comment">// original mesh</span>
<a name="l00724"></a>00724   <span class="keywordtype">int</span> numVert, numElem, dim, numVertPerElem, numEdgePerElem, numFacePerElem;
<a name="l00725"></a>00725   <span class="keywordtype">int</span> subset_numVert, subset_numElem;
<a name="l00726"></a>00726   <span class="comment">// index by old ID, get new ID (-1 = doesn't exist)</span>
<a name="l00727"></a>00727   <span class="keywordtype">int</span> *vertLUNewToOld, *elemLUNewToOld, *vertLUOldToNew, *elemLUOldToNew;
<a name="l00728"></a>00728   <span class="keywordtype">int</span> *edgeLUOldToNew = NULL, *faceLUOldToNew = NULL;
<a name="l00729"></a>00729   <span class="keywordtype">int</span> *edgeLUNewToOld = NULL, *faceLUNewToOld = NULL;
<a name="l00730"></a>00730   <span class="keywordtype">int</span> wholeLUOldToNew[1] = { 0 }, wholeLUNewToOld[1] = { 0 };
<a name="l00731"></a>00731   <span class="keywordtype">int</span> *LUOldToNew, *LUNewToOld;
<a name="l00732"></a>00732   <span class="keywordtype">int</span>* src_conns, *new_conns;
<a name="l00733"></a>00733   <span class="keywordtype">double</span>* src_coords, *new_coords;
<a name="l00734"></a>00734   <span class="keywordtype">int</span> numSubset, numVariable, numSeqVar, *numStepPerSeq;
<a name="l00735"></a>00735   <a class="code" href="structFC__Subset.html">FC_Subset</a> *subsets, new_subset;
<a name="l00736"></a>00736   <a class="code" href="structFC__Variable.html">FC_Variable</a> *variables, new_variable, **seqVars, *new_seqVar;
<a name="l00737"></a>00737   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dest_dsSlot;
<a name="l00738"></a>00738   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* src_meshSlot;
<a name="l00739"></a>00739   <a class="code" href="struct__FC__SubSlot.html">_FC_SubSlot</a>* subSlot;
<a name="l00740"></a>00740   <a class="code" href="structFC__Mesh.html">FC_Mesh</a> src_mesh;
<a name="l00741"></a>00741   <a class="code" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> elemType;
<a name="l00742"></a>00742   <a class="code" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> assoc;
<a name="l00743"></a>00743   <span class="keywordtype">int</span> numOrig, *origIDs;
<a name="l00744"></a>00744   <a class="code" href="structFC__SortedIntArray.html">FC_SortedIntArray</a> list;
<a name="l00745"></a>00745   <span class="keywordtype">int</span> usingEdge, usingFace;
<a name="l00746"></a>00746 
<a name="l00747"></a>00747   <span class="comment">// default output</span>
<a name="l00748"></a>00748   <span class="keywordflow">if</span> (new_mesh)
<a name="l00749"></a>00749     *new_mesh = <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>;
<a name="l00750"></a>00750   
<a name="l00751"></a>00751   <span class="comment">// check input</span>
<a name="l00752"></a>00752   subSlot = <a class="code" href="group__PrivateSubset.html#g8f78520bce8753ac1e5fda62c47862da">_fc_getSubSlot</a>(subset);
<a name="l00753"></a>00753   dest_dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dest_ds);
<a name="l00754"></a>00754   <span class="keywordflow">if</span> (subSlot == NULL || dest_dsSlot == NULL || new_mesh == NULL) {
<a name="l00755"></a>00755     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00756"></a>00756     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00757"></a>00757   }
<a name="l00758"></a>00758   src_meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#e2ea84949d74bb96696ee64123ff6f3d">mesh</a>);
<a name="l00759"></a>00759   <span class="keywordflow">if</span> (src_meshSlot == NULL) {
<a name="l00760"></a>00760     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Bad library state, subset o.k. but mesh bad, ??"</span>);
<a name="l00761"></a>00761     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00762"></a>00762   }
<a name="l00763"></a>00763    
<a name="l00764"></a>00764  <span class="comment">// test for NULL name</span>
<a name="l00765"></a>00765   <span class="keywordflow">if</span> (newName == NULL)
<a name="l00766"></a>00766     newName = src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>;
<a name="l00767"></a>00767   
<a name="l00768"></a>00768   <span class="comment">// log message</span>
<a name="l00769"></a>00769   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new mesh '%s' from a subset '%s' of mesh "</span>
<a name="l00770"></a>00770                       <span class="stringliteral">"'%s'"</span>, newName, <span class="stringliteral">"subName"</span>, src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00771"></a>00771 
<a name="l00772"></a>00772   <span class="comment">// get subset &amp; mesh info</span>
<a name="l00773"></a>00773   rc = <a class="code" href="group__Subset.html#g23f364364af36ff74b89ffecf1c4ae28">fc_getSubsetInfo</a>(subset, &amp;numOrig, NULL, &amp;assoc);
<a name="l00774"></a>00774   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00775"></a>00775     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get subset info"</span>);
<a name="l00776"></a>00776     <span class="keywordflow">return</span> rc;
<a name="l00777"></a>00777   }
<a name="l00778"></a>00778   rc = <a class="code" href="group__Subset.html#g095c5b064f4ae81a17682666aadd420b">fc_getMeshFromSubset</a>(subset, &amp;src_mesh);
<a name="l00779"></a>00779   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00780"></a>00780     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get subset's parent mesh"</span>);
<a name="l00781"></a>00781     <span class="keywordflow">return</span> rc;
<a name="l00782"></a>00782   }
<a name="l00783"></a>00783   <span class="comment">// get some mesh info</span>
<a name="l00784"></a>00784   rc = <a class="code" href="group__Mesh.html#g12034c759ea24e05c321a611de1bab8e">fc_getMeshInfo</a>(src_mesh, NULL, &amp;dim, &amp;numVert, &amp;numElem, &amp;elemType);
<a name="l00785"></a>00785   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00786"></a>00786     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for mesh '%s'"</span>,
<a name="l00787"></a>00787                           src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00788"></a>00788     <span class="keywordflow">return</span> rc;
<a name="l00789"></a>00789   }
<a name="l00790"></a>00790 
<a name="l00791"></a>00791   <span class="comment">// trivial case: assoc = FC_AT_WHOLE_MESH</span>
<a name="l00792"></a>00792   <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>) {
<a name="l00793"></a>00793     <span class="keywordflow">if</span> (numOrig &gt; 0) 
<a name="l00794"></a>00794       <span class="keywordflow">return</span> <a class="code" href="group__Mesh.html#g547dbbb4182c42da1677c20fd858c60f">fc_copyMesh</a>(src_mesh, dest_ds, newName, new_mesh);
<a name="l00795"></a>00795     <span class="keywordflow">else</span> 
<a name="l00796"></a>00796       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00797"></a>00797   }
<a name="l00798"></a>00798   
<a name="l00799"></a>00799   <span class="comment">// get the elements that correspond with the subset</span>
<a name="l00800"></a>00800   rc = <a class="code" href="group__Subset.html#g7a79d4d1e13846ae12abe55ef2db3c3d">fc_getSubsetMembersAsArray</a>(subset, &amp;numOrig, &amp;origIDs);
<a name="l00801"></a>00801   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00802"></a>00802     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get subset members"</span>);
<a name="l00803"></a>00803     <span class="keywordflow">return</span> rc;
<a name="l00804"></a>00804   }
<a name="l00805"></a>00805   rc = <a class="code" href="group__TopologyRelations.html#gf4ca2001668b08cc6c09a88f55e45ebe">fc_changeMeshEntityType</a>(src_mesh, assoc, numOrig, origIDs, 
<a name="l00806"></a>00806                                <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>, doStrict, &amp;subset_numElem, 
<a name="l00807"></a>00807                                &amp;elemLUNewToOld);
<a name="l00808"></a>00808   free(origIDs);
<a name="l00809"></a>00809   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l00810"></a>00810     <span class="keywordflow">return</span> rc;
<a name="l00811"></a>00811   }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813   <span class="comment">// more trivial cases: no elements or all elements</span>
<a name="l00814"></a>00814   <span class="keywordflow">if</span> (subset_numElem == 0) {
<a name="l00815"></a>00815     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00816"></a>00816   }
<a name="l00817"></a>00817   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (subset_numElem == numElem) {
<a name="l00818"></a>00818     free(elemLUNewToOld);
<a name="l00819"></a>00819     <span class="keywordflow">return</span> <a class="code" href="group__Mesh.html#g547dbbb4182c42da1677c20fd858c60f">fc_copyMesh</a>(src_mesh, dest_ds, newName, new_mesh);
<a name="l00820"></a>00820   }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822   <span class="comment">// more mesh info</span>
<a name="l00823"></a>00823   numVertPerElem = <a class="code" href="group__DataTypes.html#gf75ed80296bf7b5631bf464ea4a4de25">fc_getElementTypeNumVertex</a>(elemType);
<a name="l00824"></a>00824   numEdgePerElem = <a class="code" href="group__DataTypes.html#g447ceffd83033e15dd4ed4de46786092">fc_getElementTypeNumEdge</a>(elemType);
<a name="l00825"></a>00825   numFacePerElem = <a class="code" href="group__DataTypes.html#g6362db4b2a63e7c5c397ee701c6e783d">fc_getElementTypeNumFace</a>(elemType);
<a name="l00826"></a>00826   rc = <a class="code" href="group__Mesh.html#g71ce3ca34963dcc548b6a7c38aa17fd9">fc_getMeshElementConnsPtr</a>(src_mesh, &amp;src_conns);
<a name="l00827"></a>00827   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00828"></a>00828     <span class="keywordflow">return</span> rc;
<a name="l00829"></a>00829 
<a name="l00830"></a>00830   <span class="comment">// make element lookup tables</span>
<a name="l00831"></a>00831   elemLUOldToNew = malloc(numElem*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00832"></a>00832   <span class="keywordflow">if</span> (elemLUOldToNew == NULL) {
<a name="l00833"></a>00833     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00834"></a>00834     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00835"></a>00835   }
<a name="l00836"></a>00836   <span class="keywordflow">for</span> (i = 0; i &lt; numElem; i++)
<a name="l00837"></a>00837     elemLUOldToNew[i] = -1;
<a name="l00838"></a>00838   <span class="keywordflow">for</span> (i = 0; i &lt; subset_numElem; i++) 
<a name="l00839"></a>00839     elemLUOldToNew[elemLUNewToOld[i]] = i;
<a name="l00840"></a>00840 
<a name="l00841"></a>00841   <span class="comment">// Figure out which vertices are going to be kept &amp; make lookup tables</span>
<a name="l00842"></a>00842   <a class="code" href="group__SimpleDataObjects.html#g06e00500dd0122a9ad53fdeb52649de7">fc_initSortedIntArray</a>(&amp;list);
<a name="l00843"></a>00843   <span class="keywordflow">for</span> (i = 0; i &lt; subset_numElem; i++) {
<a name="l00844"></a>00844     <span class="keywordtype">int</span> ret = <a class="code" href="group__SimpleDataObjects.html#gafdae6c0ab7a494dc1b21b3f0ba79543">fc_addIntArrayToSortedIntArray</a>(&amp;list, numVertPerElem,
<a name="l00845"></a>00845                               &amp;src_conns[elemLUNewToOld[i]*numVertPerElem], 0);
<a name="l00846"></a>00846     <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l00847"></a>00847       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add ids to sia"</span>);
<a name="l00848"></a>00848       <span class="keywordflow">return</span> ret;    
<a name="l00849"></a>00849     }
<a name="l00850"></a>00850   }
<a name="l00851"></a>00851   rc = <a class="code" href="group__SimpleDataObjects.html#g36282b6aa57984f8fd0fe1ab0f55757f">fc_convertSortedIntArrayToIntArray</a>(&amp;list, &amp;subset_numVert, &amp;vertLUNewToOld);
<a name="l00852"></a>00852   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00853"></a>00853     <span class="keywordflow">return</span> rc;
<a name="l00854"></a>00854   vertLUOldToNew = malloc(numVert*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00855"></a>00855   <span class="keywordflow">if</span> (vertLUOldToNew == NULL) {
<a name="l00856"></a>00856     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00857"></a>00857     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00858"></a>00858   }
<a name="l00859"></a>00859   <span class="keywordflow">for</span> (i = 0; i &lt; numVert; i++)
<a name="l00860"></a>00860     vertLUOldToNew[i] = -1;
<a name="l00861"></a>00861   <span class="keywordflow">for</span> (i = 0; i &lt; subset_numVert; i++)
<a name="l00862"></a>00862     vertLUOldToNew[vertLUNewToOld[i]] = i;
<a name="l00863"></a>00863 
<a name="l00864"></a>00864   <span class="comment">// make element-&gt;vertex conns</span>
<a name="l00865"></a>00865   new_conns = malloc(subset_numElem * numVertPerElem * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00866"></a>00866   <span class="keywordflow">if</span> (new_conns == NULL) {
<a name="l00867"></a>00867     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00868"></a>00868     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00869"></a>00869   }
<a name="l00870"></a>00870   <span class="keywordflow">for</span> (i = 0; i &lt; subset_numElem; i++)
<a name="l00871"></a>00871     <span class="keywordflow">for</span> (j = 0; j &lt; numVertPerElem; j++) 
<a name="l00872"></a>00872       new_conns[i*numVertPerElem + j] = 
<a name="l00873"></a>00873         vertLUOldToNew[src_conns[elemLUNewToOld[i]*numVertPerElem+j]];
<a name="l00874"></a>00874 
<a name="l00875"></a>00875   <span class="comment">// determine new coords</span>
<a name="l00876"></a>00876   new_coords = malloc(subset_numVert * dim * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00877"></a>00877   <span class="keywordflow">if</span> (new_coords == NULL) {
<a name="l00878"></a>00878     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00879"></a>00879     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00880"></a>00880   }
<a name="l00881"></a>00881   rc = <a class="code" href="group__Mesh.html#g44d09391731a139c4efc2c4fb2eda4e7">fc_getMeshCoordsPtr</a>(src_mesh, &amp;src_coords);
<a name="l00882"></a>00882   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00883"></a>00883     <span class="keywordflow">return</span> rc;
<a name="l00884"></a>00884   <span class="keywordflow">for</span> (i = 0; i &lt; subset_numVert; i++)
<a name="l00885"></a>00885     memcpy(&amp;(new_coords[i*dim]), &amp;(src_coords[vertLUNewToOld[i]*dim]), 
<a name="l00886"></a>00886            dim*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00887"></a>00887   
<a name="l00888"></a>00888   <span class="comment">// create new mesh</span>
<a name="l00889"></a>00889   rc = <a class="code" href="group__Mesh.html#gfeb2fbc7f7fce6d00b6946d43b56e0bb">fc_createMesh</a>(dest_ds, newName, new_mesh);
<a name="l00890"></a>00890   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00891"></a>00891     <span class="keywordflow">return</span> rc;
<a name="l00892"></a>00892   rc = <a class="code" href="group__Mesh.html#gd49edafdfdda60b392d3a24803869b50">fc_setMeshCoordsPtr</a>(*new_mesh, dim, subset_numVert, new_coords);
<a name="l00893"></a>00893   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00894"></a>00894     <span class="keywordflow">return</span> rc;
<a name="l00895"></a>00895   rc = <a class="code" href="group__Mesh.html#gbb354f851c7ec2f20f2921fd5a76cf02">fc_setMeshElementConnsPtr</a>(*new_mesh, elemType, subset_numElem, 
<a name="l00896"></a>00896                                  new_conns);
<a name="l00897"></a>00897   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00898"></a>00898     <span class="keywordflow">return</span> rc;
<a name="l00899"></a>00899 
<a name="l00900"></a>00900   <span class="comment">// Get subsets &amp; variables for use now &amp; later</span>
<a name="l00901"></a>00901   rc = <a class="code" href="group__Subset.html#g5c0185b0cab5ac7256fec095a98c3bd0">fc_getSubsets</a>(src_mesh, &amp;numSubset, &amp;subsets);
<a name="l00902"></a>00902   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00903"></a>00903     <span class="keywordflow">return</span> rc;
<a name="l00904"></a>00904   rc = <a class="code" href="group__Variable.html#g74cf87c790d013532d9451af1b5f1fbb">fc_getVariables</a>(src_mesh, &amp;numVariable, &amp;variables);
<a name="l00905"></a>00905   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00906"></a>00906     <span class="keywordflow">return</span> rc;
<a name="l00907"></a>00907   rc = <a class="code" href="group__Variable.html#g93185e07dcdf01ffc87fc28a69ee96ae">fc_getSeqVariables</a>(src_mesh, &amp;numSeqVar, &amp;numStepPerSeq, &amp;seqVars);
<a name="l00908"></a>00908   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00909"></a>00909     <span class="keywordflow">return</span> rc;
<a name="l00910"></a>00910 
<a name="l00911"></a>00911   <span class="comment">// Build edge &amp; face lu tables only if there are edge or face </span>
<a name="l00912"></a>00912   <span class="comment">// subsets or variables</span>
<a name="l00913"></a>00913   usingEdge = 0;
<a name="l00914"></a>00914   usingFace = 0;
<a name="l00915"></a>00915   <span class="keywordflow">for</span> (i = 0; i &lt; numSubset; i++) {
<a name="l00916"></a>00916     <a class="code" href="group__Subset.html#g23f364364af36ff74b89ffecf1c4ae28">fc_getSubsetInfo</a>(subsets[i], NULL, NULL, &amp;assoc);
<a name="l00917"></a>00917     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l00918"></a>00918       usingEdge = 1;
<a name="l00919"></a>00919     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>)
<a name="l00920"></a>00920       usingFace = 1;
<a name="l00921"></a>00921   }
<a name="l00922"></a>00922   <span class="keywordflow">for</span> (i = 0; i &lt; numVariable; i++) {
<a name="l00923"></a>00923     <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(variables[i], NULL, NULL, &amp;assoc, NULL, NULL);
<a name="l00924"></a>00924     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l00925"></a>00925       usingEdge = 1;
<a name="l00926"></a>00926     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>)
<a name="l00927"></a>00927       usingFace = 1;
<a name="l00928"></a>00928   }    
<a name="l00929"></a>00929   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++) {
<a name="l00930"></a>00930     <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(seqVars[i][0], NULL, NULL, &amp;assoc, NULL, NULL);
<a name="l00931"></a>00931     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l00932"></a>00932       usingEdge = 1;
<a name="l00933"></a>00933     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>)
<a name="l00934"></a>00934       usingFace = 1;
<a name="l00935"></a>00935   }    
<a name="l00936"></a>00936   <span class="keywordflow">if</span> (usingEdge) {
<a name="l00937"></a>00937     <span class="keywordtype">int</span> numEdge, new_numElement, new_numEdge;
<a name="l00938"></a>00938     <span class="keywordtype">int</span> *src_elemToEdgeConns, *new_elemToEdgeConns;
<a name="l00939"></a>00939 
<a name="l00940"></a>00940     <span class="comment">// initialize old to new lookup tables</span>
<a name="l00941"></a>00941     <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(src_mesh, <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, &amp;numEdge);
<a name="l00942"></a>00942     <span class="keywordflow">if</span> (numEdge &gt; 0) {
<a name="l00943"></a>00943       edgeLUOldToNew = malloc(numEdge*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00944"></a>00944       <span class="keywordflow">if</span> (edgeLUOldToNew == NULL) {
<a name="l00945"></a>00945         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00946"></a>00946         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00947"></a>00947       }
<a name="l00948"></a>00948       <span class="keywordflow">for</span> (i = 0; i &lt; numEdge; i++)
<a name="l00949"></a>00949         edgeLUOldToNew[i] = -1;
<a name="l00950"></a>00950     }
<a name="l00951"></a>00951 
<a name="l00952"></a>00952     <span class="comment">// create new to old lu (&amp; force building of edges &amp; faces on new mesh)</span>
<a name="l00953"></a>00953     <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(*new_mesh, <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, &amp;new_numEdge);
<a name="l00954"></a>00954     <span class="keywordflow">if</span> (new_numEdge &gt; 0) {
<a name="l00955"></a>00955       edgeLUNewToOld = malloc(new_numEdge*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00956"></a>00956        <span class="keywordflow">if</span> (edgeLUOldToNew == NULL) {
<a name="l00957"></a>00957         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00958"></a>00958         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00959"></a>00959       }
<a name="l00960"></a>00960     }
<a name="l00961"></a>00961 
<a name="l00962"></a>00962     <span class="comment">// create lookups</span>
<a name="l00963"></a>00963     <a class="code" href="group__Mesh.html#g83a0b8188d49812c8d6d4c883cb8e9c4">fc_getMeshNumElement</a>(*new_mesh, &amp;new_numElement);
<a name="l00964"></a>00964     rc = <a class="code" href="group__Mesh.html#g7e6a4ccf4c7aed555ccdbe6f17d7b80f">fc_getMeshElementToEdgeConnsPtr</a>(src_mesh, &amp;src_elemToEdgeConns);
<a name="l00965"></a>00965     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00966"></a>00966       <span class="keywordflow">return</span> rc;
<a name="l00967"></a>00967     rc = <a class="code" href="group__Mesh.html#g7e6a4ccf4c7aed555ccdbe6f17d7b80f">fc_getMeshElementToEdgeConnsPtr</a>(*new_mesh, &amp;new_elemToEdgeConns);
<a name="l00968"></a>00968     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l00969"></a>00969       <span class="keywordflow">return</span> rc;
<a name="l00970"></a>00970     <span class="keywordflow">for</span> (i = 0; i &lt; new_numElement; i++) {
<a name="l00971"></a>00971       <span class="keywordtype">int</span>* new_edgeIDs = &amp;new_elemToEdgeConns[i*numEdgePerElem];
<a name="l00972"></a>00972       <span class="keywordtype">int</span>* old_edgeIDs = &amp;src_elemToEdgeConns[elemLUNewToOld[i]*numEdgePerElem];
<a name="l00973"></a>00973       <span class="keywordflow">for</span> (j = 0; j &lt; numEdgePerElem; j++) {
<a name="l00974"></a>00974         edgeLUNewToOld[new_edgeIDs[j]] = old_edgeIDs[j];
<a name="l00975"></a>00975         edgeLUOldToNew[old_edgeIDs[j]] = new_edgeIDs[j];
<a name="l00976"></a>00976       }
<a name="l00977"></a>00977     }
<a name="l00978"></a>00978   }
<a name="l00979"></a>00979   <span class="keywordflow">if</span> (usingFace) {
<a name="l00980"></a>00980     <span class="keywordtype">int</span> numFace, new_numElement, new_numFace;
<a name="l00981"></a>00981     <span class="keywordtype">int</span> *src_elemToFaceConns, *new_elemToFaceConns;
<a name="l00982"></a>00982 
<a name="l00983"></a>00983     <span class="comment">// initialize old to new lookup tables</span>
<a name="l00984"></a>00984     <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(src_mesh, <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, &amp;numFace);
<a name="l00985"></a>00985     <span class="keywordflow">if</span> (numFace &gt; 0) {
<a name="l00986"></a>00986       faceLUOldToNew = malloc(numFace*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00987"></a>00987       <span class="keywordflow">if</span> (faceLUOldToNew == NULL) {
<a name="l00988"></a>00988         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00989"></a>00989         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00990"></a>00990       }
<a name="l00991"></a>00991       <span class="keywordflow">for</span> (i = 0; i &lt; numFace; i++)
<a name="l00992"></a>00992         faceLUOldToNew[i] = -1;
<a name="l00993"></a>00993     }
<a name="l00994"></a>00994 
<a name="l00995"></a>00995     <span class="comment">// create new to old lu (&amp; force building of edges &amp; faces on new mesh)</span>
<a name="l00996"></a>00996     <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(*new_mesh, <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, &amp;new_numFace);
<a name="l00997"></a>00997     <span class="keywordflow">if</span> (new_numFace &gt; 0) {
<a name="l00998"></a>00998       faceLUNewToOld = malloc(new_numFace*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00999"></a>00999        <span class="keywordflow">if</span> (faceLUOldToNew == NULL) {
<a name="l01000"></a>01000         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01001"></a>01001         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01002"></a>01002       }
<a name="l01003"></a>01003     }     
<a name="l01004"></a>01004 
<a name="l01005"></a>01005     <span class="comment">// create lookups</span>
<a name="l01006"></a>01006     <a class="code" href="group__Mesh.html#g83a0b8188d49812c8d6d4c883cb8e9c4">fc_getMeshNumElement</a>(*new_mesh, &amp;new_numElement);
<a name="l01007"></a>01007     rc = <a class="code" href="group__Mesh.html#gce10d190e3467e0c32fd318b9a0a2a19">fc_getMeshElementToFaceConnsPtr</a>(src_mesh, &amp;src_elemToFaceConns);
<a name="l01008"></a>01008     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01009"></a>01009       <span class="keywordflow">return</span> rc;
<a name="l01010"></a>01010     rc = <a class="code" href="group__Mesh.html#gce10d190e3467e0c32fd318b9a0a2a19">fc_getMeshElementToFaceConnsPtr</a>(*new_mesh, &amp;new_elemToFaceConns);
<a name="l01011"></a>01011     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01012"></a>01012       <span class="keywordflow">return</span> rc;
<a name="l01013"></a>01013     <span class="keywordflow">for</span> (i = 0; i &lt; new_numElement; i++) {
<a name="l01014"></a>01014       <span class="keywordtype">int</span>* new_faceIDs = &amp;new_elemToFaceConns[i*numFacePerElem];
<a name="l01015"></a>01015       <span class="keywordtype">int</span>* old_faceIDs = &amp;src_elemToFaceConns[elemLUNewToOld[i]*numFacePerElem];
<a name="l01016"></a>01016       <span class="keywordflow">for</span> (j = 0; j &lt; numFacePerElem; j++) {
<a name="l01017"></a>01017         faceLUNewToOld[new_faceIDs[j]] = old_faceIDs[j];
<a name="l01018"></a>01018         faceLUOldToNew[old_faceIDs[j]] = new_faceIDs[j];
<a name="l01019"></a>01019       }
<a name="l01020"></a>01020     }
<a name="l01021"></a>01021   }
<a name="l01022"></a>01022 
<a name="l01023"></a>01023   <span class="comment">// copy stuff -- a lot like in fc_copyMesh</span>
<a name="l01024"></a>01024 
<a name="l01025"></a>01025   <span class="comment">// copy subsets</span>
<a name="l01026"></a>01026   <span class="keywordflow">for</span> (i = 0; i &lt; numSubset; i++) {
<a name="l01027"></a>01027     <span class="keywordtype">int</span> numMember, *memberIDs;
<a name="l01028"></a>01028     <span class="keywordtype">char</span>* subset_name;
<a name="l01029"></a>01029     <a class="code" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> subset_assoc;
<a name="l01030"></a>01030 
<a name="l01031"></a>01031     <span class="comment">// create the new subset</span>
<a name="l01032"></a>01032     rc = <a class="code" href="group__Subset.html#gd546b0c5303f4c8a0f256662aff729a4">fc_getSubsetAssociationType</a>(subsets[i], &amp;subset_assoc);
<a name="l01033"></a>01033     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01034"></a>01034       <span class="keywordflow">return</span> rc;
<a name="l01035"></a>01035     rc = <a class="code" href="group__Subset.html#gf8d751f06ea68d6944e19816147d35a9">fc_getSubsetName</a>(subsets[i], &amp;subset_name);
<a name="l01036"></a>01036     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01037"></a>01037       <span class="keywordflow">return</span> rc;
<a name="l01038"></a>01038     rc = <a class="code" href="group__Subset.html#g40d47282abccd83987c83e8051064db2">fc_createSubset</a>(*new_mesh, subset_name, subset_assoc, &amp;new_subset);
<a name="l01039"></a>01039     free(subset_name);
<a name="l01040"></a>01040     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01041"></a>01041       <span class="keywordflow">return</span> rc;
<a name="l01042"></a>01042     
<a name="l01043"></a>01043     <span class="comment">// Add the members that are in the new subset (i.e. have a new ID)</span>
<a name="l01044"></a>01044     <span class="keywordflow">switch</span> (subset_assoc) {
<a name="l01045"></a>01045     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>:   LUOldToNew = vertLUOldToNew;   <span class="keywordflow">break</span>;
<a name="l01046"></a>01046     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>:     LUOldToNew = edgeLUOldToNew;   <span class="keywordflow">break</span>;
<a name="l01047"></a>01047     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>:     LUOldToNew = faceLUOldToNew;   <span class="keywordflow">break</span>;
<a name="l01048"></a>01048     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>:  LUOldToNew = elemLUOldToNew;   <span class="keywordflow">break</span>;
<a name="l01049"></a>01049     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>:    LUOldToNew = wholeLUOldToNew;  <span class="keywordflow">break</span>;
<a name="l01050"></a>01050     <span class="keywordflow">default</span>:
<a name="l01051"></a>01051       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Should never reach this point!"</span>);
<a name="l01052"></a>01052       <span class="keywordflow">return</span> rc;
<a name="l01053"></a>01053     }
<a name="l01054"></a>01054     rc = <a class="code" href="group__Subset.html#g7a79d4d1e13846ae12abe55ef2db3c3d">fc_getSubsetMembersAsArray</a>(subsets[i], &amp;numMember, &amp;memberIDs);
<a name="l01055"></a>01055     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01056"></a>01056       <span class="keywordflow">return</span> rc;
<a name="l01057"></a>01057     <span class="keywordflow">for</span> (j = 0; j &lt; numMember; j++) {
<a name="l01058"></a>01058       <span class="keywordflow">if</span> (LUOldToNew[memberIDs[j]] &gt; -1) {
<a name="l01059"></a>01059         rc = <a class="code" href="group__Subset.html#gf105b25f063533c8bdc24a6e0f1d1002">fc_addMemberToSubset</a>(new_subset, LUOldToNew[memberIDs[j]]);
<a name="l01060"></a>01060         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01061"></a>01061           <span class="keywordflow">return</span> rc;
<a name="l01062"></a>01062       }
<a name="l01063"></a>01063     }
<a name="l01064"></a>01064     free(memberIDs);
<a name="l01065"></a>01065   }
<a name="l01066"></a>01066   free(subsets);
<a name="l01067"></a>01067 
<a name="l01068"></a>01068   <span class="comment">// copy the basic variables</span>
<a name="l01069"></a>01069   <span class="keywordflow">for</span> (i = 0; i &lt; numVariable; i++) {
<a name="l01070"></a>01070     <span class="comment">// do something different for the mesh 'coords as variable'</span>
<a name="l01071"></a>01071     <span class="keywordflow">if</span> (variables[i].slotID == src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#87698a0b5c2b6161380ae3134b88668b">coordVarID</a>) {
<a name="l01072"></a>01072       rc = <a class="code" href="group__Mesh.html#g4296dd134171c28f6f5dad6284748713">fc_getMeshCoordsAsVariable</a>(*new_mesh, &amp;new_variable);
<a name="l01073"></a>01073       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01074"></a>01074         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to create copy of coords variable"</span>);
<a name="l01075"></a>01075         <span class="keywordflow">return</span> rc;
<a name="l01076"></a>01076       }
<a name="l01077"></a>01077     }
<a name="l01078"></a>01078     <span class="keywordflow">else</span> { <span class="comment">// normal path for variables</span>
<a name="l01079"></a>01079       <span class="keywordtype">int</span> numDataPoint, numComp, new_numDataPoint, size;
<a name="l01080"></a>01080       <span class="keywordtype">char</span>* var_name;
<a name="l01081"></a>01081       <a class="code" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> var_assoc;
<a name="l01082"></a>01082       <a class="code" href="group__DataTypes.html#gf4416c02a52bd37e799d442b985151b3">FC_MathType</a> mathtype;
<a name="l01083"></a>01083       <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> datatype;
<a name="l01084"></a>01084       <span class="keywordtype">void</span>* src_data, *new_data;
<a name="l01085"></a>01085       
<a name="l01086"></a>01086       <span class="comment">// make the variable</span>
<a name="l01087"></a>01087       rc = <a class="code" href="group__Variable.html#g3ec29251d717c5d0ca4ecfd9824f67b1">fc_getVariableName</a>(variables[i], &amp;var_name);
<a name="l01088"></a>01088       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01089"></a>01089         <span class="keywordflow">return</span> rc;
<a name="l01090"></a>01090       rc = <a class="code" href="group__Variable.html#g2f498c4fbd85d8094f0f640a17341cb3">fc_createVariable</a>(*new_mesh, var_name, &amp;new_variable);
<a name="l01091"></a>01091       free(var_name);
<a name="l01092"></a>01092       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01093"></a>01093         <span class="keywordflow">return</span> rc;
<a name="l01094"></a>01094 
<a name="l01095"></a>01095       <span class="comment">// get the original data</span>
<a name="l01096"></a>01096       rc = <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(variables[i], &amp;numDataPoint, &amp;numComp, 
<a name="l01097"></a>01097                               &amp;var_assoc, &amp;mathtype, &amp;datatype);
<a name="l01098"></a>01098       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01099"></a>01099         <span class="keywordflow">return</span> rc;
<a name="l01100"></a>01100       <a class="code" href="group__Variable.html#g26d6dc6119ce91abb2d2b0edf17865f6">fc_getVariableDataPtr</a>(variables[i], &amp;src_data);
<a name="l01101"></a>01101       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01102"></a>01102         <span class="keywordflow">return</span> rc;
<a name="l01103"></a>01103 
<a name="l01104"></a>01104       <span class="comment">// create subset of data</span>
<a name="l01105"></a>01105       rc = <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(*new_mesh, var_assoc, &amp;new_numDataPoint);
<a name="l01106"></a>01106       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01107"></a>01107         <span class="keywordflow">return</span> rc;
<a name="l01108"></a>01108       size = <a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(datatype)*numComp;
<a name="l01109"></a>01109       new_data = malloc(new_numDataPoint*size);
<a name="l01110"></a>01110       <span class="keywordflow">if</span> (new_data == NULL) {
<a name="l01111"></a>01111         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01112"></a>01112         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01113"></a>01113       }
<a name="l01114"></a>01114       <span class="keywordflow">switch</span> (var_assoc) {
<a name="l01115"></a>01115       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>:   LUNewToOld = vertLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01116"></a>01116       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>:     LUNewToOld = edgeLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01117"></a>01117       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>:     LUNewToOld = faceLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01118"></a>01118       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>:  LUNewToOld = elemLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01119"></a>01119       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>:    LUNewToOld = wholeLUNewToOld;  <span class="keywordflow">break</span>;
<a name="l01120"></a>01120       <span class="keywordflow">default</span>:
<a name="l01121"></a>01121         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Should never reach this point!"</span>);
<a name="l01122"></a>01122         <span class="keywordflow">return</span> rc;
<a name="l01123"></a>01123       }
<a name="l01124"></a>01124       <span class="keywordflow">for</span> (j = 0; j &lt; new_numDataPoint; j++)
<a name="l01125"></a>01125         memcpy((<span class="keywordtype">char</span>*)new_data + j*size, 
<a name="l01126"></a>01126                (<span class="keywordtype">char</span>*)src_data + LUNewToOld[j]*size, size);
<a name="l01127"></a>01127       
<a name="l01128"></a>01128       <span class="comment">// set the data</span>
<a name="l01129"></a>01129       rc = <a class="code" href="group__Variable.html#g4491a3d96b7252fd5d0de54089d6838d">fc_setVariableDataPtr</a>(new_variable, new_numDataPoint, numComp, 
<a name="l01130"></a>01130                                  var_assoc, mathtype, datatype, new_data);
<a name="l01131"></a>01131       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01132"></a>01132         <span class="keywordflow">return</span> rc;
<a name="l01133"></a>01133     }
<a name="l01134"></a>01134   }
<a name="l01135"></a>01135   free(variables);
<a name="l01136"></a>01136 
<a name="l01137"></a>01137   <span class="comment">// copy the sequence vars</span>
<a name="l01138"></a>01138   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++) {
<a name="l01139"></a>01139     <span class="keywordtype">int</span> numStep;
<a name="l01140"></a>01140     <a class="code" href="structFC__Sequence.html">FC_Sequence</a> src_seq, dest_seq;
<a name="l01141"></a>01141     <span class="keywordtype">char</span>* var_name;
<a name="l01142"></a>01142 
<a name="l01143"></a>01143     <span class="comment">// look for appropriate sequence on the destination dataset</span>
<a name="l01144"></a>01144     rc = <a class="code" href="group__Variable.html#gea428de5a2584716f6e2bc77cd339544">fc_getSequenceFromSeqVariable</a>(numStepPerSeq[i], seqVars[i],
<a name="l01145"></a>01145                                        &amp;src_seq);
<a name="l01146"></a>01146     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01147"></a>01147       <span class="keywordflow">return</span> rc;
<a name="l01148"></a>01148     dest_seq = <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>;
<a name="l01149"></a>01149     <span class="comment">// if we are in the same dataset, reuse the same sequence</span>
<a name="l01150"></a>01150     <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dest_ds, src_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#553d7d0470e312f24080c5ed49334ead">ds</a>)) 
<a name="l01151"></a>01151       dest_seq = src_seq;
<a name="l01152"></a>01152     <span class="keywordflow">else</span> { <span class="comment">// look for an appropriate sequence in dest_ds</span>
<a name="l01153"></a>01153       <span class="keywordtype">int</span> dest_numSequence, src_numStep, dest_numStep;
<a name="l01154"></a>01154       <a class="code" href="structFC__Sequence.html">FC_Sequence</a> *dest_sequences;
<a name="l01155"></a>01155       <span class="keywordtype">char</span>* src_name, *dest_name;
<a name="l01156"></a>01156       <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> src_dataType, dest_dataType;
<a name="l01157"></a>01157       <span class="keywordtype">void</span>* src_coords_p, *dest_coords_p;
<a name="l01158"></a>01158 
<a name="l01159"></a>01159       <span class="comment">// collect src sequence info      </span>
<a name="l01160"></a>01160       rc = <a class="code" href="group__Sequence.html#gc810d7a86c70a251ea10a90e9c59b710">fc_getSequenceName</a>(src_seq, &amp;src_name);
<a name="l01161"></a>01161       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01162"></a>01162         <span class="keywordflow">return</span> rc;
<a name="l01163"></a>01163       rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(src_seq, &amp;src_numStep, &amp;src_dataType); 
<a name="l01164"></a>01164       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01165"></a>01165         <span class="keywordflow">return</span> rc;
<a name="l01166"></a>01166       rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(src_seq, &amp;src_coords_p);
<a name="l01167"></a>01167       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01168"></a>01168         <span class="keywordflow">return</span> rc;
<a name="l01169"></a>01169  
<a name="l01170"></a>01170       <span class="comment">// compare to dest sequences</span>
<a name="l01171"></a>01171       rc = <a class="code" href="group__Sequence.html#g4e9e6506fc7e6ce22310105003a21789">fc_getSequences</a>(dest_ds, &amp;dest_numSequence, &amp;dest_sequences);
<a name="l01172"></a>01172       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01173"></a>01173         <span class="keywordflow">return</span> rc;
<a name="l01174"></a>01174       <span class="keywordflow">for</span> (j = 0; j &lt; dest_numSequence; j++) {
<a name="l01175"></a>01175         rc = <a class="code" href="group__Sequence.html#gc810d7a86c70a251ea10a90e9c59b710">fc_getSequenceName</a>(dest_sequences[j], &amp;dest_name);
<a name="l01176"></a>01176         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01177"></a>01177           <span class="keywordflow">return</span> rc;
<a name="l01178"></a>01178         rc = <a class="code" href="group__Sequence.html#ge7289ce45a13855f48a0b5de93c68101">fc_getSequenceInfo</a>(dest_sequences[j], &amp;dest_numStep,
<a name="l01179"></a>01179                                 &amp;dest_dataType); 
<a name="l01180"></a>01180         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01181"></a>01181           <span class="keywordflow">return</span> rc;
<a name="l01182"></a>01182         rc = <a class="code" href="group__Sequence.html#g38e90553b530ed6e4ebeb28df20eade8">fc_getSequenceCoordsPtr</a>(dest_sequences[j], &amp;dest_coords_p);
<a name="l01183"></a>01183         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01184"></a>01184           <span class="keywordflow">return</span> rc;
<a name="l01185"></a>01185         <span class="comment">// compare (?checking actual coords values might be too stringent)</span>
<a name="l01186"></a>01186         <span class="keywordflow">if</span> (!strcmp(dest_name, src_name) &amp;&amp; dest_numStep == src_numStep &amp;&amp; 
<a name="l01187"></a>01187             dest_dataType == src_dataType &amp;&amp; 
<a name="l01188"></a>01188             !memcmp(dest_coords_p, src_coords_p, 
<a name="l01189"></a>01189                     <a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(src_dataType))) {
<a name="l01190"></a>01190           free(dest_name);
<a name="l01191"></a>01191           <span class="comment">// passed all tests, this is the match</span>
<a name="l01192"></a>01192           dest_seq = dest_sequences[j];
<a name="l01193"></a>01193           <span class="keywordflow">break</span>;
<a name="l01194"></a>01194         }
<a name="l01195"></a>01195         free(dest_name);
<a name="l01196"></a>01196       }
<a name="l01197"></a>01197       free(dest_sequences);
<a name="l01198"></a>01198       free(src_name);
<a name="l01199"></a>01199     }
<a name="l01200"></a>01200     <span class="comment">// if failed to find one, just copy it</span>
<a name="l01201"></a>01201     <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(dest_seq, <a class="code" href="group__Handles.html#g1be0c5002a6a1633ea8a22ed8f0baaa8">FC_NULL_SEQUENCE</a>)) {
<a name="l01202"></a>01202       rc = <a class="code" href="group__Sequence.html#gf617aa03a3fa894bf69f860d90cb8ed9">fc_copySequence</a>(src_seq, dest_ds, NULL, &amp;dest_seq);
<a name="l01203"></a>01203       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l01204"></a>01204         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to copy sequence needed for seqVar"</span>);
<a name="l01205"></a>01205         <span class="keywordflow">return</span> rc;
<a name="l01206"></a>01206       }
<a name="l01207"></a>01207     }
<a name="l01208"></a>01208 
<a name="l01209"></a>01209     <span class="comment">// make the seq variable</span>
<a name="l01210"></a>01210     rc = <a class="code" href="group__Variable.html#g3ec29251d717c5d0ca4ecfd9824f67b1">fc_getVariableName</a>(seqVars[i][0], &amp;var_name);
<a name="l01211"></a>01211     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01212"></a>01212       <span class="keywordflow">return</span> rc;
<a name="l01213"></a>01213     rc = <a class="code" href="group__Variable.html#gada4bacc9679592ff8b27c538570c1da">fc_createSeqVariable</a>(*new_mesh, dest_seq, var_name, &amp;numStep,
<a name="l01214"></a>01214                               &amp;new_seqVar);
<a name="l01215"></a>01215     free(var_name);
<a name="l01216"></a>01216     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01217"></a>01217       <span class="keywordflow">return</span> rc;
<a name="l01218"></a>01218 
<a name="l01219"></a>01219     <span class="comment">// set data on steps</span>
<a name="l01220"></a>01220     <span class="keywordflow">for</span> (j = 0; j &lt; numStepPerSeq[i]; j++) {
<a name="l01221"></a>01221       <span class="keywordtype">int</span> numDataPoint, numComp, new_numDataPoint, size;
<a name="l01222"></a>01222       <a class="code" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> var_assoc;
<a name="l01223"></a>01223       <a class="code" href="group__DataTypes.html#gf4416c02a52bd37e799d442b985151b3">FC_MathType</a> mathtype;
<a name="l01224"></a>01224       <a class="code" href="group__DataTypes.html#gbbab9b2f35d4bc42e868e4f5853a6297">FC_DataType</a> datatype;
<a name="l01225"></a>01225       <span class="keywordtype">void</span>* src_data, *new_data;
<a name="l01226"></a>01226 
<a name="l01227"></a>01227       <span class="comment">// get the original data</span>
<a name="l01228"></a>01228       rc = <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(seqVars[i][j], &amp;numDataPoint, &amp;numComp, 
<a name="l01229"></a>01229                               &amp;var_assoc, &amp;mathtype, &amp;datatype);
<a name="l01230"></a>01230       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01231"></a>01231         <span class="keywordflow">return</span> rc;
<a name="l01232"></a>01232       <a class="code" href="group__Variable.html#g26d6dc6119ce91abb2d2b0edf17865f6">fc_getVariableDataPtr</a>(seqVars[i][j], &amp;src_data);
<a name="l01233"></a>01233       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01234"></a>01234         <span class="keywordflow">return</span> rc;
<a name="l01235"></a>01235     
<a name="l01236"></a>01236       <span class="comment">// create subset of data</span>
<a name="l01237"></a>01237       rc = <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(*new_mesh, var_assoc, &amp;new_numDataPoint);
<a name="l01238"></a>01238       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01239"></a>01239         <span class="keywordflow">return</span> rc;
<a name="l01240"></a>01240       size = <a class="code" href="group__DataTypes.html#g3a159b9419ea8f8d62b5473bf51f40e3">fc_sizeofDataType</a>(datatype)*numComp;
<a name="l01241"></a>01241       new_data = malloc(new_numDataPoint*size);
<a name="l01242"></a>01242       <span class="keywordflow">if</span> (new_data == NULL) {
<a name="l01243"></a>01243         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01244"></a>01244         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01245"></a>01245       }
<a name="l01246"></a>01246       <span class="keywordflow">switch</span> (var_assoc) {
<a name="l01247"></a>01247       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>:   LUNewToOld = vertLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01248"></a>01248       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>:     LUNewToOld = edgeLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01249"></a>01249       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>:     LUNewToOld = faceLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01250"></a>01250       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>:  LUNewToOld = elemLUNewToOld;   <span class="keywordflow">break</span>;
<a name="l01251"></a>01251       <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>:    LUNewToOld = wholeLUNewToOld;  <span class="keywordflow">break</span>;
<a name="l01252"></a>01252       <span class="keywordflow">default</span>:
<a name="l01253"></a>01253         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Should never reach this point!"</span>);
<a name="l01254"></a>01254         <span class="keywordflow">return</span> rc;
<a name="l01255"></a>01255       }
<a name="l01256"></a>01256       <span class="keywordflow">for</span> (k = 0; k &lt; new_numDataPoint; k++)
<a name="l01257"></a>01257         memcpy((<span class="keywordtype">char</span>*)new_data + k*size, 
<a name="l01258"></a>01258                (<span class="keywordtype">char</span>*)src_data + LUNewToOld[k]*size, size);
<a name="l01259"></a>01259 
<a name="l01260"></a>01260       <span class="comment">// set the data</span>
<a name="l01261"></a>01261       rc = <a class="code" href="group__Variable.html#g4491a3d96b7252fd5d0de54089d6838d">fc_setVariableDataPtr</a>(new_seqVar[j], new_numDataPoint, numComp, 
<a name="l01262"></a>01262                                  var_assoc, mathtype, datatype, new_data);
<a name="l01263"></a>01263       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01264"></a>01264         <span class="keywordflow">return</span> rc;
<a name="l01265"></a>01265     }
<a name="l01266"></a>01266     free(new_seqVar);
<a name="l01267"></a>01267     free(seqVars[i]);
<a name="l01268"></a>01268   }
<a name="l01269"></a>01269   free(numStepPerSeq);
<a name="l01270"></a>01270   free(seqVars);
<a name="l01271"></a>01271 
<a name="l01272"></a>01272   <span class="comment">// cleanup</span>
<a name="l01273"></a>01273   free(vertLUOldToNew);
<a name="l01274"></a>01274   free(edgeLUOldToNew);
<a name="l01275"></a>01275   free(faceLUOldToNew);
<a name="l01276"></a>01276   free(elemLUOldToNew);
<a name="l01277"></a>01277   free(vertLUNewToOld);
<a name="l01278"></a>01278   free(edgeLUNewToOld);
<a name="l01279"></a>01279   free(faceLUNewToOld);
<a name="l01280"></a>01280   free(elemLUNewToOld);
<a name="l01281"></a>01281 
<a name="l01282"></a>01282   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01283"></a>01283 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc3572be7c4803b339a6110f2c3980e8e"></a><!-- doxytag: member="mesh.c::fc_deleteMesh" ref="gc3572be7c4803b339a6110f2c3980e8e" args="(FC_Mesh mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_deleteMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a mesh. 
<p>
<b>Description:</b> <p>
Call when this mesh is no longer needed. This automatically deletes all of the mesh's subsets and variables.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/01/03 WSK Changed so it removes an uncommitted mesh form the owning dataset's meshID list.</li><li>12/03/03 RM, added more input checking, if mesh is FC_NULL_MESH, then do nothing and return success (issue warning if <a class="el" href="group__Library.html#gccd255e326eaf782cb41c75999d2846b">fc_getLibraryVerbosity()</a>).</li><li>9/9/04 WSK changed name to delete. Changed behavior so that delete always deletes no matter whether on disk or not. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01859">1859</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05303">_fc_deleteMeshSlot()</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00096">_FC_MeshSlot::ds</a>, <a class="el" href="variable_8c-source.html#l03938">fc_deleteSeqVariable()</a>, <a class="el" href="subset_8c-source.html#l01589">fc_deleteSubset()</a>, <a class="el" href="variable_8c-source.html#l03856">fc_deleteVariable()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="variable_8c-source.html#l02567">fc_getSeqVariables()</a>, <a class="el" href="subset_8c-source.html#l00695">fc_getSubsets()</a>, <a class="el" href="variable_8c-source.html#l02503">fc_getVariables()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00129">fc_printfWarningMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l01299">fc_createSimpleHexMesh()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, and <a class="el" href="elemdeath__ex1_8c-source.html#l00147">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01861"></a>01861   {
<a name="l01862"></a>01862   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l01863"></a>01863   <span class="keywordtype">int</span> i, j;
<a name="l01864"></a>01864   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l01865"></a>01865   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01866"></a>01866   <span class="keywordtype">int</span> numSubset, numVar, numSeqVar, *numStepPerVar;
<a name="l01867"></a>01867   <a class="code" href="structFC__Subset.html">FC_Subset</a>* subsets;
<a name="l01868"></a>01868   <a class="code" href="structFC__Variable.html">FC_Variable</a> *variables, **seqVariables;
<a name="l01869"></a>01869 
<a name="l01870"></a>01870   <span class="comment">// special case: deleting a null handle is not an error</span>
<a name="l01871"></a>01871   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(mesh, <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>)) {
<a name="l01872"></a>01872     <a class="code" href="group__Library.html#gbf7b424a5a96a9887547a6545f03e3e2">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_MESH"</span>);
<a name="l01873"></a>01873     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01874"></a>01874   }
<a name="l01875"></a>01875 
<a name="l01876"></a>01876   <span class="comment">// check input</span>
<a name="l01877"></a>01877   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l01878"></a>01878   <span class="keywordflow">if</span> (meshSlot == NULL) {
<a name="l01879"></a>01879     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01880"></a>01880     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01881"></a>01881   }
<a name="l01882"></a>01882  
<a name="l01883"></a>01883   <span class="comment">// log message</span>
<a name="l01884"></a>01884   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Deleting mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01885"></a>01885 
<a name="l01886"></a>01886   <span class="comment">// delete member subsets</span>
<a name="l01887"></a>01887   rc = <a class="code" href="group__Subset.html#g5c0185b0cab5ac7256fec095a98c3bd0">fc_getSubsets</a>(mesh, &amp;numSubset, &amp;subsets);
<a name="l01888"></a>01888   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01889"></a>01889     <span class="keywordflow">return</span> rc;
<a name="l01890"></a>01890   <span class="keywordflow">for</span> (i = 0; i &lt; numSubset; i++) {
<a name="l01891"></a>01891     rc = <a class="code" href="group__Subset.html#gfdcc399692041499cc461916a9973558">fc_deleteSubset</a>(subsets[i]);
<a name="l01892"></a>01892     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01893"></a>01893       <span class="keywordflow">return</span> rc;
<a name="l01894"></a>01894   }
<a name="l01895"></a>01895   free(subsets);
<a name="l01896"></a>01896   
<a name="l01897"></a>01897   <span class="comment">// delete member variables</span>
<a name="l01898"></a>01898   rc = <a class="code" href="group__Variable.html#g74cf87c790d013532d9451af1b5f1fbb">fc_getVariables</a>(mesh, &amp;numVar, &amp;variables);
<a name="l01899"></a>01899   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01900"></a>01900     <span class="keywordflow">return</span> rc;
<a name="l01901"></a>01901   <span class="keywordflow">for</span> (i = 0; i &lt; numVar; i++) { 
<a name="l01902"></a>01902     rc = <a class="code" href="group__Variable.html#g2f48fcbd551131488dd5757c27364656">fc_deleteVariable</a>(variables[i]);
<a name="l01903"></a>01903     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01904"></a>01904       <span class="keywordflow">return</span> rc;
<a name="l01905"></a>01905   }
<a name="l01906"></a>01906   free(variables);
<a name="l01907"></a>01907   
<a name="l01908"></a>01908   <span class="comment">// delete member seq vars</span>
<a name="l01909"></a>01909   rc = <a class="code" href="group__Variable.html#g93185e07dcdf01ffc87fc28a69ee96ae">fc_getSeqVariables</a>(mesh, &amp;numSeqVar, &amp;numStepPerVar, &amp;seqVariables);
<a name="l01910"></a>01910   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01911"></a>01911     <span class="keywordflow">return</span> rc;
<a name="l01912"></a>01912   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++) {
<a name="l01913"></a>01913     rc = <a class="code" href="group__Variable.html#g57341fab4863efe2c35476aee509f20d">fc_deleteSeqVariable</a>(numStepPerVar[i], seqVariables[i]);
<a name="l01914"></a>01914     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l01915"></a>01915       <span class="keywordflow">return</span> rc;
<a name="l01916"></a>01916   }
<a name="l01917"></a>01917   free(numStepPerVar);
<a name="l01918"></a>01918   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++)
<a name="l01919"></a>01919     free(seqVariables[i]);
<a name="l01920"></a>01920   free(seqVariables);
<a name="l01921"></a>01921   
<a name="l01922"></a>01922   <span class="comment">// remove reference from dataset</span>
<a name="l01923"></a>01923   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#553d7d0470e312f24080c5ed49334ead">ds</a>);
<a name="l01924"></a>01924   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a> == 1) {
<a name="l01925"></a>01925     free(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>);
<a name="l01926"></a>01926     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a> = NULL;
<a name="l01927"></a>01927     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a> = 0;
<a name="l01928"></a>01928   }
<a name="l01929"></a>01929   <span class="keywordflow">else</span> {
<a name="l01930"></a>01930     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>; i++) {
<a name="l01931"></a>01931       <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[i] == meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#bcade4ee6957823bf234769051debf4d">slotID</a>)
<a name="l01932"></a>01932         <span class="keywordflow">break</span>;
<a name="l01933"></a>01933     }
<a name="l01934"></a>01934     <span class="keywordflow">for</span> (j = i+1; j &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>; j++) {
<a name="l01935"></a>01935       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[j - 1] = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[j];
<a name="l01936"></a>01936     }
<a name="l01937"></a>01937     dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>--;
<a name="l01938"></a>01938   }
<a name="l01939"></a>01939 
<a name="l01940"></a>01940   <span class="comment">// clear &amp; delete slot</span>
<a name="l01941"></a>01941   <span class="keywordflow">return</span> <a class="code" href="group__PrivateMesh.html#g83e423b2bf1bb1c1205683c72daf7f31">_fc_deleteMeshSlot</a>(mesh);
<a name="l01942"></a>01942 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb815346660b55dc96f257fbb970f0754"></a><!-- doxytag: member="mesh.c::fc_getDatasetFromMesh" ref="gb815346660b55dc96f257fbb970f0754" args="(FC_Mesh mesh, FC_Dataset *dataset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getDatasetFromMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a> *&nbsp;</td>
          <td class="paramname"> <em>dataset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parent dataset of the mesh. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return dataset = <a class="el" href="group__Handles.html#g35df506577292042278b200ea30e9885">FC_NULL_DATASET</a>, input check for dataset == NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
output - dataset handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02024">2024</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00096">_FC_MeshSlot::ds</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00763">FC_NULL_DATASET</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.<div class="fragment"><pre class="fragment"><a name="l02027"></a>02027   {
<a name="l02028"></a>02028   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02029"></a>02029   
<a name="l02030"></a>02030   <span class="comment">// set up default value</span>
<a name="l02031"></a>02031   <span class="keywordflow">if</span>(dataset != NULL)
<a name="l02032"></a>02032     *dataset = <a class="code" href="group__Handles.html#g35df506577292042278b200ea30e9885">FC_NULL_DATASET</a>;
<a name="l02033"></a>02033   
<a name="l02034"></a>02034   <span class="comment">// check input</span>
<a name="l02035"></a>02035   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02036"></a>02036   <span class="keywordflow">if</span> (meshSlot == NULL || dataset == NULL) {
<a name="l02037"></a>02037     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));    
<a name="l02038"></a>02038     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02039"></a>02039   }
<a name="l02040"></a>02040   
<a name="l02041"></a>02041   <span class="comment">// log message</span>
<a name="l02042"></a>02042   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting dataset from mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02043"></a>02043   
<a name="l02044"></a>02044   <span class="comment">// return requested value</span>
<a name="l02045"></a>02045   *dataset = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#553d7d0470e312f24080c5ed49334ead">ds</a>;
<a name="l02046"></a>02046   
<a name="l02047"></a>02047   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02048"></a>02048 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g8f35371531555da3b336a94d7ce3053d"></a><!-- doxytag: member="mesh.c::fc_getMeshByName" ref="g8f35371531555da3b336a94d7ce3053d" args="(FC_Dataset dataset, char *meshname, int *numMeshes, FC_Mesh **meshes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshByName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>meshname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMeshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> **&nbsp;</td>
          <td class="paramname"> <em>meshes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all meshes with a given name from the dataset. 
<p>
<b>Description:</b> <p>
Returns all meshes on the dataset with the specified name.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>2003-MAY-30 W Koegler Moved getting mesh meta data from _fc_setupDsSlot() to here. Moved getting variable meta data to fc_openVariable().</li><li>11/25/03 RM, added default return mesh = <a class="el" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a></li><li>11/26/03 RM, added checking for invalid mesh name, issue error if <a class="el" href="group__Library.html#gccd255e326eaf782cb41c75999d2846b">fc_getLibraryVerbosity()</a></li><li>12/03/03 RM added checking for parameter mesh == NULL</li><li>12/12/03 RM, eliminated _fc_lookup_meshSlot() and _fc_namematch() those input checking changed and added into this function</li><li>9/8/03 WSK, changed name and moved to dataset (to be next to fc_getMeshes)</li><li>9/21/06 ACG, now returns all meshes with matching names </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset handle </td></tr>
<tr><td valign="top"><em>meshname</em>&nbsp;</td><td>
input - name of mesh to get </td></tr>
<tr><td valign="top"><em>numMeshes</em>&nbsp;</td><td>
output - number of matching meshes </td></tr>
<tr><td valign="top"><em>meshes</em>&nbsp;</td><td>
output - array of mesh handles </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01534">1534</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05284">_fc_getMeshSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>.
<p>
Referenced by <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01539"></a>01539   {
<a name="l01540"></a>01540   <span class="keywordtype">int</span> i;
<a name="l01541"></a>01541   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01542"></a>01542   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a> *meshSlot;
<a name="l01543"></a>01543   <a class="code" href="structFC__Mesh.html">FC_Mesh</a> mesh;
<a name="l01544"></a>01544 
<a name="l01545"></a>01545   <a class="code" href="structFC__Mesh.html">FC_Mesh</a> *lmatch = NULL;
<a name="l01546"></a>01546   <span class="keywordtype">int</span> numlmatch, maxnumlmatch;
<a name="l01547"></a>01547   
<a name="l01548"></a>01548   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01549"></a>01549   <span class="keywordflow">if</span> (numMeshes)
<a name="l01550"></a>01550     *numMeshes = -1;
<a name="l01551"></a>01551   <span class="keywordflow">if</span> (meshes)
<a name="l01552"></a>01552     *meshes = NULL;
<a name="l01553"></a>01553   
<a name="l01554"></a>01554   <span class="comment">// check input</span>
<a name="l01555"></a>01555   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01556"></a>01556   <span class="keywordflow">if</span> (dsSlot == NULL || meshname == NULL || !meshes || !numMeshes) {
<a name="l01557"></a>01557     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01558"></a>01558     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01559"></a>01559   }
<a name="l01560"></a>01560   
<a name="l01561"></a>01561   <span class="comment">// log message</span>
<a name="l01562"></a>01562   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting mesh '%s'"</span>, meshname);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   numlmatch = 0;
<a name="l01565"></a>01565   maxnumlmatch = 0;
<a name="l01566"></a>01566   
<a name="l01567"></a>01567   <span class="comment">// look for existing slots with the matching name</span>
<a name="l01568"></a>01568   <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>; i++) {
<a name="l01569"></a>01569     meshSlot = <a class="code" href="group__PrivateMesh.html#g1b839092edb5e17b3f93338ebd4d52aa">_fc_getMeshSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[i]);
<a name="l01570"></a>01570     if (!strcmp(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>, meshname)) {
<a name="l01571"></a>01571       <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(mesh, meshSlot);
<a name="l01572"></a>01572 
<a name="l01573"></a>01573       <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01574"></a>01574      lmatch = (<a class="code" href="structFC__Mesh.html">FC_Mesh</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Mesh.html">FC_Mesh</a>));
<a name="l01575"></a>01575      <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01576"></a>01576        <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01577"></a>01577        <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01578"></a>01578      }
<a name="l01579"></a>01579      numlmatch = 1;
<a name="l01580"></a>01580      maxnumlmatch = 1;
<a name="l01581"></a>01581      lmatch[0] = mesh;
<a name="l01582"></a>01582       }<span class="keywordflow">else</span>{
<a name="l01583"></a>01583      <span class="keywordflow">if</span>(numlmatch == maxnumlmatch){
<a name="l01584"></a>01584        FC_Mesh *temp;
<a name="l01585"></a>01585        temp = (FC_Mesh*)realloc(lmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(FC_Mesh));
<a name="l01586"></a>01586        <span class="keywordflow">if</span> (temp == NULL){
<a name="l01587"></a>01587          <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01588"></a>01588          <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01589"></a>01589        }
<a name="l01590"></a>01590        maxnumlmatch*=2;
<a name="l01591"></a>01591        lmatch = temp;
<a name="l01592"></a>01592      }
<a name="l01593"></a>01593      lmatch[numlmatch] = mesh;
<a name="l01594"></a>01594      numlmatch++;
<a name="l01595"></a>01595       }
<a name="l01596"></a>01596     }
<a name="l01597"></a>01597   }
<a name="l01598"></a>01598 
<a name="l01599"></a>01599   *numMeshes = numlmatch;
<a name="l01600"></a>01600   *meshes = lmatch;
<a name="l01601"></a>01601 
<a name="l01602"></a>01602   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01603"></a>01603 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4296dd134171c28f6f5dad6284748713"></a><!-- doxytag: member="mesh.c::fc_getMeshCoordsAsVariable" ref="g4296dd134171c28f6f5dad6284748713" args="(FC_Mesh mesh, FC_Variable *coords_var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshCoordsAsVariable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a> *&nbsp;</td>
          <td class="paramname"> <em>coords_var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the vertex coordinates of the mesh as a variable. 
<p>
<b>Description:</b> <p>
Returns the variable which is the coords of the mesh, creating it on the first call to this function (and returning the same handle on successive calls). The name of the variable will be 'coordinates'.<p>
The official coords variable is treated a little differently from regular variables. Calling this routine always provides a handle to the same variable. However, making a copy gives back a normal variable with the same data (it's not an official coords variable).<p>
This variable will not be written to disk when the dataset containing it is written to disk. If a copy of a mesh with a coords variable is made, the copied mesh will have an existing coords variable.<p>
<b>Modifications:</b> <ul>
<li>09/15/04 WSK, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>coords_var</em>&nbsp;</td><td>
output - variable containing coords </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02716">2716</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="variable_8c-source.html#l05441">_fc_getVarSlotFromID()</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::coordVarID</a>, <a class="el" href="meshP_8h-source.html#l00100">_FC_MeshSlot::dim</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>, <a class="el" href="variable_8c-source.html#l00284">fc_createVariable()</a>, <a class="el" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="mesh_8c-source.html#l02655">fc_getMeshCoordsPtr()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#ggf4416c02a52bd37e799d442b985151b3599bbbe8f8e41851a17f1037bd44a83f">FC_MT_SCALAR</a>, <a class="el" href="group__DataTypes.html#ggf4416c02a52bd37e799d442b985151b367e06c1812f7a0127035e27d14fd597d">FC_MT_VECTOR</a>, <a class="el" href="base_8c-source.html#l00778">FC_NULL_VARIABLE</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="variable_8c-source.html#l00467">fc_setVariableData()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>, and <a class="el" href="base_8h-source.html#l00301">FC_Variable::slotID</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, and <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l02719"></a>02719   {
<a name="l02720"></a>02720   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02721"></a>02721   <a class="code" href="group__DataTypes.html#gf4416c02a52bd37e799d442b985151b3">FC_MathType</a> mathType;
<a name="l02722"></a>02722   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02723"></a>02723   <span class="keywordtype">double</span>* coords_p;
<a name="l02724"></a>02724 
<a name="l02725"></a>02725   <span class="comment">// default return</span>
<a name="l02726"></a>02726   <span class="keywordflow">if</span> (coords_var)
<a name="l02727"></a>02727     *coords_var = <a class="code" href="group__Handles.html#ge44060288d9dc607cfddcc314cdf48cf">FC_NULL_VARIABLE</a>;
<a name="l02728"></a>02728 
<a name="l02729"></a>02729   <span class="comment">// check input</span>
<a name="l02730"></a>02730   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02731"></a>02731   <span class="keywordflow">if</span> (meshSlot == NULL || coords_var == NULL) {
<a name="l02732"></a>02732     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02733"></a>02733     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02734"></a>02734   }
<a name="l02735"></a>02735   
<a name="l02736"></a>02736   <span class="comment">// log message</span>
<a name="l02737"></a>02737   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Creating coordinates variable for mesh '%s'"</span>, 
<a name="l02738"></a>02738                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02739"></a>02739 
<a name="l02740"></a>02740   <span class="comment">// If the coords variable already exists, return it</span>
<a name="l02741"></a>02741   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#87698a0b5c2b6161380ae3134b88668b">coordVarID</a> &gt; -1) {
<a name="l02742"></a>02742     <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>(*coords_var, <a class="code" href="group__PrivateVariable.html#g67d980676a7a4cd939487a7070c68a02">_fc_getVarSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#87698a0b5c2b6161380ae3134b88668b">coordVarID</a>));
<a name="l02743"></a>02743     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02744"></a>02744   }
<a name="l02745"></a>02745 
<a name="l02746"></a>02746   <span class="comment">// create the variable</span>
<a name="l02747"></a>02747   rc = <a class="code" href="group__Mesh.html#g44d09391731a139c4efc2c4fb2eda4e7">fc_getMeshCoordsPtr</a>(mesh, &amp;coords_p);
<a name="l02748"></a>02748   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02749"></a>02749     <span class="keywordflow">return</span> rc;
<a name="l02750"></a>02750   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a> == 1)
<a name="l02751"></a>02751     mathType = <a class="code" href="group__DataTypes.html#ggf4416c02a52bd37e799d442b985151b3599bbbe8f8e41851a17f1037bd44a83f">FC_MT_SCALAR</a>;
<a name="l02752"></a>02752   <span class="keywordflow">else</span>
<a name="l02753"></a>02753     mathType = <a class="code" href="group__DataTypes.html#ggf4416c02a52bd37e799d442b985151b367e06c1812f7a0127035e27d14fd597d">FC_MT_VECTOR</a>;
<a name="l02754"></a>02754   rc = <a class="code" href="group__Variable.html#g2f498c4fbd85d8094f0f640a17341cb3">fc_createVariable</a>(mesh, <span class="stringliteral">"coords"</span>, coords_var);
<a name="l02755"></a>02755   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02756"></a>02756     <span class="keywordflow">return</span> rc;
<a name="l02757"></a>02757   rc = <a class="code" href="group__Variable.html#gabe0bc09ddda4bae29ddb6d12fa07bd2">fc_setVariableData</a>(*coords_var, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a>,
<a name="l02758"></a>02758                           <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>, mathType, <a class="code" href="group__DataTypes.html#ggbbab9b2f35d4bc42e868e4f5853a6297806cef8a12ffc6ef267ac21addb95ab3">FC_DT_DOUBLE</a>,
<a name="l02759"></a>02759                           (<span class="keywordtype">void</span>*)coords_p);
<a name="l02760"></a>02760   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02761"></a>02761     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l02762"></a>02762 
<a name="l02763"></a>02763   <span class="comment">// set the coord var</span>
<a name="l02764"></a>02764   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#87698a0b5c2b6161380ae3134b88668b">coordVarID</a> = coords_var-&gt;<a class="code" href="structFC__Variable.html#50a48d652e28bbf977bfae246ad57a9e">slotID</a>;
<a name="l02765"></a>02765   
<a name="l02766"></a>02766   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02767"></a>02767 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g44d09391731a139c4efc2c4fb2eda4e7"></a><!-- doxytag: member="mesh.c::fc_getMeshCoordsPtr" ref="g44d09391731a139c4efc2c4fb2eda4e7" args="(FC_Mesh mesh, double **coords_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>coords_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the vertex coordinates of the mesh. 
<p>
<b>Description:</b> <p>
Return an array containing the values of each vertex location. If the vertices are 2D, the array has X0, Y0, X1, Y1, etc - interleaved. If the vertices are 3D, the array has X0, Y0, Z0, X1, Y1, Z1, ... The user gets a pointer back to a shared array and should treat it as read only. To modify any of the values the user must first make a copy.<p>
Note, you can index to coordinate j of the ith vertex directly as coords[i*numDim + j];<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>coords_p</em>&nbsp;</td><td>
output - vertices. user should treat as read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02655">2655</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="fileio_8c-source.html#l02006">_fc_readMeshCoords()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00112">_FC_MeshSlot::coords</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="geom_8c-source.html#l02256">_fc_getSubsetDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l02382">_fc_getSubsetsDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l05303">_fc_getSubsetsProximityCore()</a>, <a class="el" href="lsdynaio_8c-source.html#l01873">_fc_readLSDynaVariableData()</a>, <a class="el" href="exodusio_8c-source.html#l01825">_fc_writeExodusDataset()</a>, <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="geom_8c-source.html#l05522">fc_createMeshVertexBin()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="geom_8c-source.html#l00352">fc_getDisplacedMeshCoords()</a>, <a class="el" href="geom_8c-source.html#l03415">fc_getEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l00686">fc_getMeshBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02590">fc_getMeshCentroid()</a>, <a class="el" href="mesh_8c-source.html#l02716">fc_getMeshCoordsAsVariable()</a>, <a class="el" href="geom_8c-source.html#l03808">fc_getRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l04448">fc_getSurfaceNormals()</a>, <a class="el" href="geom_8c-source.html#l02734">fc_getVariableWeightedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, <a class="el" href="geom_8c-source.html#l01223">fc_projectedElementBoundingBoxIntersection()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, and <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02658"></a>02658   {
<a name="l02659"></a>02659   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02660"></a>02660   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02661"></a>02661 
<a name="l02662"></a>02662   <span class="comment">// default return</span>
<a name="l02663"></a>02663   <span class="keywordflow">if</span> (coords_p)
<a name="l02664"></a>02664     *coords_p = NULL;
<a name="l02665"></a>02665 
<a name="l02666"></a>02666   <span class="comment">// check input</span>
<a name="l02667"></a>02667   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02668"></a>02668   <span class="keywordflow">if</span> (meshSlot == NULL || coords_p == NULL) {
<a name="l02669"></a>02669     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02670"></a>02670     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02671"></a>02671   }
<a name="l02672"></a>02672   
<a name="l02673"></a>02673   <span class="comment">// log message</span>
<a name="l02674"></a>02674   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting coordinates for mesh '%s'"</span>, 
<a name="l02675"></a>02675                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02676"></a>02676 
<a name="l02677"></a>02677 
<a name="l02678"></a>02678   <span class="comment">// lazy fetching of coords</span>
<a name="l02679"></a>02679   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> == NULL &amp;&amp; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l02680"></a>02680     rc = <a class="code" href="group__PrivateFileIO.html#g6b7d22250488880068cdc93e24a9ca06">_fc_readMeshCoords</a>(mesh);
<a name="l02681"></a>02681     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l02682"></a>02682       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of coords for mesh '%s' failed"</span>,
<a name="l02683"></a>02683                             meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02684"></a>02684       <span class="keywordflow">return</span> rc;
<a name="l02685"></a>02685     }
<a name="l02686"></a>02686   }
<a name="l02687"></a>02687 
<a name="l02688"></a>02688   <span class="comment">// fill in requested value</span>
<a name="l02689"></a>02689   *coords_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a>;
<a name="l02690"></a>02690   
<a name="l02691"></a>02691   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02692"></a>02692 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="geaea4205623196e6b1b58da0b4b82b20"></a><!-- doxytag: member="mesh.c::fc_getMeshDim" ref="geaea4205623196e6b1b58da0b4b82b20" args="(FC_Mesh mesh, int *dim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshDim           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>dim</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns dimensionality of the mesh coordinates. 
<p>
<b>Description:</b> <p>
I.e. 1D, 2D or 3D coordinates.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return dim=-1, and check input for dim=NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>dim</em>&nbsp;</td><td>
output - count of dimensions </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02172">2172</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00100">_FC_MeshSlot::dim</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="geom_8c-source.html#l02256">_fc_getSubsetDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l02382">_fc_getSubsetsDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l05181">_fc_getSubsetsProximityArgsTest()</a>, <a class="el" href="geom_8c-source.html#l05303">_fc_getSubsetsProximityCore()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="geom_8c-source.html#l00956">fc_getDisplacedSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l03036">fc_getDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, <a class="el" href="gaplines_8c-source.html#l00240">getLinesAsVectors()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02175"></a>02175   {
<a name="l02176"></a>02176   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02177"></a>02177   
<a name="l02178"></a>02178   <span class="comment">// set up defaults</span>
<a name="l02179"></a>02179   <span class="keywordflow">if</span> (dim != NULL)
<a name="l02180"></a>02180     *dim = -1;
<a name="l02181"></a>02181   
<a name="l02182"></a>02182   <span class="comment">// check input</span>
<a name="l02183"></a>02183   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02184"></a>02184   <span class="keywordflow">if</span> (meshSlot == NULL || dim == NULL) {
<a name="l02185"></a>02185     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02186"></a>02186     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02187"></a>02187   }
<a name="l02188"></a>02188   
<a name="l02189"></a>02189   <span class="comment">// log message</span>
<a name="l02190"></a>02190   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting topo dimensionality for mesh '%s'"</span>, 
<a name="l02191"></a>02191                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02192"></a>02192 
<a name="l02193"></a>02193   <span class="comment">// fill in requested value</span>
<a name="l02194"></a>02194   *dim = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a>;
<a name="l02195"></a>02195   
<a name="l02196"></a>02196   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02197"></a>02197 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf2e80f30f86823573a2a2e516234eab8"></a><!-- doxytag: member="mesh.c::fc_getMeshEdgeConnsPtr" ref="gf2e80f30f86823573a2a2e516234eab8" args="(FC_Mesh mesh, int **conns_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshEdgeConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>conns_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return edge connectivities. 
<p>
<b>Description:</b> <p>
This routine returns a pointer to the array that has the IDs of the vertices that make up the edges. The array is { Edge0Vert0 Edge0Vert1 Edge1Vert0 Edge1Vert1 ... EdgeNVert0 EdgeNVert1 }. This is a big data array and should NOT be freed by the calling program.<p>
You can index to the jth vertex of the ith edge directly as conns[i*2 + j];<p>
Note that edges may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>02/06/04 WSK, created.</li><li>09/21/04 WSK, removed args for non-big data values which can now be gotten with <a class="el" href="group__Mesh.html#g04012a97710d5965ca5c92116cd9389e">fc_getMeshEdgeFaceInfo()</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>conns_p</em>&nbsp;</td><td>
output - edge to vertex connections, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02790">2790</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00127">_FC_MeshSlot::edgeToVertConns</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04699">_fc_buildMeshVertexNeighborsViaEdge()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="topo_8c-source.html#l01072">_fc_getEdgeNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00798">_fc_getEdgeParents()</a>, <a class="el" href="geom_8c-source.html#l03503">fc_getDisplacedEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03415">fc_getEdgeLengths()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, and <a class="el" href="fc2ensight_8c-source.html#l00090">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02793"></a>02793   {
<a name="l02794"></a>02794   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02795"></a>02795   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02796"></a>02796   
<a name="l02797"></a>02797   <span class="comment">// default return</span>
<a name="l02798"></a>02798   <span class="keywordflow">if</span> (conns_p)
<a name="l02799"></a>02799     *conns_p = NULL;
<a name="l02800"></a>02800 
<a name="l02801"></a>02801   <span class="comment">// check input</span>
<a name="l02802"></a>02802   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02803"></a>02803   <span class="keywordflow">if</span> (meshSlot == NULL || conns_p == NULL) {
<a name="l02804"></a>02804     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02805"></a>02805     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02806"></a>02806   }
<a name="l02807"></a>02807   
<a name="l02808"></a>02808   <span class="comment">// log message</span>
<a name="l02809"></a>02809   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting edge connectivities on mesh '%s'"</span>, 
<a name="l02810"></a>02810                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02811"></a>02811 
<a name="l02812"></a>02812   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l02813"></a>02813   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> == -1) {
<a name="l02814"></a>02814     rc = <a class="code" href="group__PrivateMesh.html#ga34706dabb7fdf867e33dd23052e9222">_fc_buildEdgeConns</a>(mesh);
<a name="l02815"></a>02815     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02816"></a>02816       <span class="keywordflow">return</span> rc;
<a name="l02817"></a>02817   }
<a name="l02818"></a>02818 
<a name="l02819"></a>02819   <span class="comment">// return pointer</span>
<a name="l02820"></a>02820   *conns_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#dee014332b4b769341ef7d5ddbbb0119">edgeToVertConns</a>;
<a name="l02821"></a>02821   
<a name="l02822"></a>02822   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02823"></a>02823 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g04012a97710d5965ca5c92116cd9389e"></a><!-- doxytag: member="mesh.c::fc_getMeshEdgeFaceInfo" ref="g04012a97710d5965ca5c92116cd9389e" args="(FC_Mesh mesh, int *numEdge, int *numFace, FC_ElementType *faceType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshEdgeFaceInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numEdge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numFace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *&nbsp;</td>
          <td class="paramname"> <em>faceType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get information about edges and faces in a mesh. 
<p>
<b>Description:</b> <p>
If edges and faces do not yet exist, they are built.<p>
<b>Modifications:</b> <ul>
<li>09/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>numEdge</em>&nbsp;</td><td>
output - number of edges </td></tr>
<tr><td valign="top"><em>numFace</em>&nbsp;</td><td>
output - number of faces </td></tr>
<tr><td valign="top"><em>faceType</em>&nbsp;</td><td>
output - face type (tri, quad or mixed) </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02318">2318</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00697">fc_getElementTypeFaceType()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l02323"></a>02323   {
<a name="l02324"></a>02324   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02325"></a>02325   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02326"></a>02326   
<a name="l02327"></a>02327   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l02328"></a>02328   <span class="keywordflow">if</span> (numEdge != NULL) 
<a name="l02329"></a>02329     *numEdge = -1;
<a name="l02330"></a>02330   <span class="keywordflow">if</span> (numFace != NULL)
<a name="l02331"></a>02331     *numFace = -1;
<a name="l02332"></a>02332   <span class="keywordflow">if</span> (faceType != NULL) 
<a name="l02333"></a>02333     *faceType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>; 
<a name="l02334"></a>02334   
<a name="l02335"></a>02335   <span class="comment">// check input</span>
<a name="l02336"></a>02336   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02337"></a>02337   <span class="keywordflow">if</span> (meshSlot == NULL || (!numEdge &amp;&amp; !numFace &amp;&amp; !faceType) ) {
<a name="l02338"></a>02338     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02339"></a>02339     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02340"></a>02340   }
<a name="l02341"></a>02341   
<a name="l02342"></a>02342   <span class="comment">// log message</span>
<a name="l02343"></a>02343   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting edge and face info for mesh '%s'"</span>, 
<a name="l02344"></a>02344                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02345"></a>02345 
<a name="l02346"></a>02346   <span class="comment">// build edges &amp; faces if necessary</span>
<a name="l02347"></a>02347   <span class="keywordflow">if</span> (numEdge != NULL &amp;&amp; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> == -1) {
<a name="l02348"></a>02348     rc = <a class="code" href="group__PrivateMesh.html#ga34706dabb7fdf867e33dd23052e9222">_fc_buildEdgeConns</a>(mesh);
<a name="l02349"></a>02349     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02350"></a>02350       <span class="keywordflow">return</span> rc;
<a name="l02351"></a>02351   }
<a name="l02352"></a>02352   <span class="keywordflow">if</span> (numFace != NULL &amp;&amp; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l02353"></a>02353     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l02354"></a>02354     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02355"></a>02355       <span class="keywordflow">return</span> rc;
<a name="l02356"></a>02356   }
<a name="l02357"></a>02357 
<a name="l02358"></a>02358   <span class="comment">// fill in requested values</span>
<a name="l02359"></a>02359   <span class="keywordflow">if</span> (numEdge != NULL)
<a name="l02360"></a>02360     *numEdge = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a>;
<a name="l02361"></a>02361   <span class="keywordflow">if</span> (numFace != NULL)
<a name="l02362"></a>02362     *numFace = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a>;
<a name="l02363"></a>02363   <span class="keywordflow">if</span> (faceType != NULL)
<a name="l02364"></a>02364     *faceType = <a class="code" href="group__DataTypes.html#ga23b09e2d315374580e5465068d8c0f1">fc_getElementTypeFaceType</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a>);
<a name="l02365"></a>02365   
<a name="l02366"></a>02366   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02367"></a>02367 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g71ce3ca34963dcc548b6a7c38aa17fd9"></a><!-- doxytag: member="mesh.c::fc_getMeshElementConnsPtr" ref="g71ce3ca34963dcc548b6a7c38aa17fd9" args="(FC_Mesh mesh, int **conns_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshElementConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>conns_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return element to vertex connectivities for the mesh. 
<p>
<b>Description:</b> <p>
Return actual element indices. The return value is a pointer to an array of integers. The user must treat this array as read only. To modify any values, the user must make a copy first. If each element contains N vertices, the first N integers are for element 0, the next N integers are element 1, etc. To get the jth vertex ID of the ith element index as conns[i*numVertPrElem + j]. numVertPerElem can be find by calling <a class="el" href="group__DataTypes.html#gf75ed80296bf7b5631bf464ea4a4de25">fc_getElementTypeNumVertex()</a> or <a class="el" href="group__DataTypes.html#g0490f966e326909f1f6d8ba4129a3565">fc_getElementTypeNumEntity()</a>.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>conns_p</em>&nbsp;</td><td>
output - element index buffer, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02981">2981</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="fileio_8c-source.html#l02057">_fc_readMeshElemConns()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00116">_FC_MeshSlot::elemToVertConns</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="geom_8c-source.html#l03900">fc_getDisplacedRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04542">fc_getDisplacedSurfaceNormals()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="geom_8c-source.html#l03808">fc_getRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04448">fc_getSurfaceNormals()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, <a class="el" href="geom_8c-source.html#l01223">fc_projectedElementBoundingBoxIntersection()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, <a class="el" href="gaplines_8c-source.html#l00240">getLinesAsVectors()</a>, and <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02984"></a>02984   {
<a name="l02985"></a>02985   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02986"></a>02986   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02987"></a>02987   
<a name="l02988"></a>02988   <span class="comment">// default return</span>
<a name="l02989"></a>02989   <span class="keywordflow">if</span> (conns_p)
<a name="l02990"></a>02990     *conns_p = NULL;
<a name="l02991"></a>02991 
<a name="l02992"></a>02992   <span class="comment">// check input</span>
<a name="l02993"></a>02993   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02994"></a>02994   <span class="keywordflow">if</span> (meshSlot == NULL || conns_p == NULL) {
<a name="l02995"></a>02995     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02996"></a>02996     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02997"></a>02997   }
<a name="l02998"></a>02998   
<a name="l02999"></a>02999   <span class="comment">// log message</span>
<a name="l03000"></a>03000   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting element connectivities for mesh '%s'"</span>, 
<a name="l03001"></a>03001                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03002"></a>03002 
<a name="l03003"></a>03003   <span class="comment">// lazy fetching of conns</span>
<a name="l03004"></a>03004   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> == NULL &amp;&amp; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l03005"></a>03005     rc = <a class="code" href="group__PrivateFileIO.html#g711fdc3aebfbf372da3f2c68a90557c9">_fc_readMeshElemConns</a>(mesh);
<a name="l03006"></a>03006     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03007"></a>03007       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of conns for mesh '%s' failed"</span>,
<a name="l03008"></a>03008                             meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03009"></a>03009       <span class="keywordflow">return</span> rc;
<a name="l03010"></a>03010     }
<a name="l03011"></a>03011   }
<a name="l03012"></a>03012 
<a name="l03013"></a>03013   <span class="comment">// fill in requested value</span>
<a name="l03014"></a>03014   *conns_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a>;
<a name="l03015"></a>03015   
<a name="l03016"></a>03016   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03017"></a>03017 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g50269cff01d472e3b30ed46d8b91738a"></a><!-- doxytag: member="mesh.c::fc_getMeshElementFaceOrientsPtr" ref="g50269cff01d472e3b30ed46d8b91738a" args="(FC_Mesh mesh, int **elemFaceOrients_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshElementFaceOrientsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>elemFaceOrients_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return element's face's orientations relative to global faces. 
<p>
<b>Description:</b> <p>
By definition, the vertices of the faces of an element are ordered (counter clockwise) so that the face's normal points out of the element. In the gobal face array for a mesh, however, the vertices are (somewhat) arbitrarily ordered and you cannot know for sure the direction of a face without reference to an element. For example, a face shared by two elements has a different orientation depending on which element you are talking about. Let's say that the face was defined so that it points out of the first element. Then the entry of the faceOrients array for that face of the first element is 1. The faceOrients value for that face in the second element is -1. The -1 tells you that you need to reverse the order of the vertices of that face in order to treat it as if it had come from the second element.<p>
This routine returns a pointer to the array that has orientation flags for the faces that make up the elements. The array is ordered { Elem0Face0 Elem0Face1 ... Elem0FaceN Elem1Face0 Elem1Face1 ... Elem1FaceN ...... ElemMFace0 ElemMFace1 ... ElemMFaceN }. This is a big data array and should NOT be freed by the calling program. Possible values are 1: vertices of the face are in order expected for the element; or -1: vertices of the face are in the reverse order of that expected for the element.<p>
(I'm pretty sure that all unique faces will have orient = 1.)<p>
Note that faces may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>10/26/05 WSD, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>elemFaceOrients_p</em>&nbsp;</td><td>
output - element's face's orientations, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l03171">3171</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00141">_FC_MeshSlot::elemFaceOrients</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, and <a class="el" href="gaplines_8c-source.html#l00190">calcFaceOrients()</a>.<div class="fragment"><pre class="fragment"><a name="l03175"></a>03175   {
<a name="l03176"></a>03176   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l03177"></a>03177   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l03178"></a>03178   
<a name="l03179"></a>03179   <span class="comment">// default return</span>
<a name="l03180"></a>03180   <span class="keywordflow">if</span> (elemFaceOrients_p)
<a name="l03181"></a>03181     *elemFaceOrients_p = NULL;
<a name="l03182"></a>03182 
<a name="l03183"></a>03183   <span class="comment">// check input</span>
<a name="l03184"></a>03184   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l03185"></a>03185   <span class="keywordflow">if</span> (meshSlot == NULL || elemFaceOrients_p == NULL) {
<a name="l03186"></a>03186     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l03187"></a>03187     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l03188"></a>03188   }
<a name="l03189"></a>03189   
<a name="l03190"></a>03190   <span class="comment">// log message</span>
<a name="l03191"></a>03191   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting element to face connectivities on mesh '%s'"</span>, 
<a name="l03192"></a>03192                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03193"></a>03193 
<a name="l03194"></a>03194   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l03195"></a>03195   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l03196"></a>03196     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l03197"></a>03197     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l03198"></a>03198       <span class="keywordflow">return</span> rc;
<a name="l03199"></a>03199   }
<a name="l03200"></a>03200 
<a name="l03201"></a>03201   <span class="comment">// return pointer</span>
<a name="l03202"></a>03202   *elemFaceOrients_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#77983b179d5535a4dca14501d9c820bb">elemFaceOrients</a>;
<a name="l03203"></a>03203   
<a name="l03204"></a>03204   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03205"></a>03205 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g7e6a4ccf4c7aed555ccdbe6f17d7b80f"></a><!-- doxytag: member="mesh.c::fc_getMeshElementToEdgeConnsPtr" ref="g7e6a4ccf4c7aed555ccdbe6f17d7b80f" args="(FC_Mesh mesh, int **elemToEdgeConns_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshElementToEdgeConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>elemToEdgeConns_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return element to edge connectivities. 
<p>
<b>Description:</b> <p>
This routine returns a pointer to the array that has the IDs of the edges that make up the elements. The array is { Elem0Edge0 Elem0Edge1 ... Elem0EdgeN Elem1Edge0 Elem1Edge1 ... Elem1EdgeN ...... ElemMEdge0 ElemMEdge1 ... ElemMEdgeN }. This is a big data array and should NOT be freed by the calling program. To get the id of the jth edge in the ith element, index by conns[i*numEdgePerElem+j]. numEdgePerElem can be found by a call to <a class="el" href="group__DataTypes.html#g447ceffd83033e15dd4ed4de46786092">fc_getElementTypeNumEdge()</a> or <a class="el" href="group__DataTypes.html#g0490f966e326909f1f6d8ba4129a3565">fc_getElementTypeNumEntity()</a>.<p>
Note that edges may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>10/26/05 WSD, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>elemToEdgeConns_p</em>&nbsp;</td><td>
output - element to edge connections, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l03040">3040</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00137">_FC_MeshSlot::elemToEdgeConns</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="exodusio_8c-source.html#l01475">_fc_readExodusSubsetMembers()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, and <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>.<div class="fragment"><pre class="fragment"><a name="l03044"></a>03044   {
<a name="l03045"></a>03045   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l03046"></a>03046   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l03047"></a>03047   
<a name="l03048"></a>03048   <span class="comment">// default return</span>
<a name="l03049"></a>03049   <span class="keywordflow">if</span> (elemToEdgeConns_p)
<a name="l03050"></a>03050     *elemToEdgeConns_p = NULL;
<a name="l03051"></a>03051 
<a name="l03052"></a>03052   <span class="comment">// check input</span>
<a name="l03053"></a>03053   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l03054"></a>03054   <span class="keywordflow">if</span> (meshSlot == NULL || elemToEdgeConns_p == NULL) {
<a name="l03055"></a>03055     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l03056"></a>03056     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l03057"></a>03057   }
<a name="l03058"></a>03058   
<a name="l03059"></a>03059   <span class="comment">// log message</span>
<a name="l03060"></a>03060   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting element to edge connectivities on mesh '%s'"</span>, 
<a name="l03061"></a>03061                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03062"></a>03062 
<a name="l03063"></a>03063   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l03064"></a>03064   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> == -1) {
<a name="l03065"></a>03065     rc = <a class="code" href="group__PrivateMesh.html#ga34706dabb7fdf867e33dd23052e9222">_fc_buildEdgeConns</a>(mesh);
<a name="l03066"></a>03066     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l03067"></a>03067       <span class="keywordflow">return</span> rc;
<a name="l03068"></a>03068   }
<a name="l03069"></a>03069 
<a name="l03070"></a>03070   <span class="comment">// return pointer</span>
<a name="l03071"></a>03071   *elemToEdgeConns_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ed4d885498d8b4f21c8bab1cb84e6704">elemToEdgeConns</a>;
<a name="l03072"></a>03072   
<a name="l03073"></a>03073   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03074"></a>03074 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gce10d190e3467e0c32fd318b9a0a2a19"></a><!-- doxytag: member="mesh.c::fc_getMeshElementToFaceConnsPtr" ref="gce10d190e3467e0c32fd318b9a0a2a19" args="(FC_Mesh mesh, int **elemToFaceConns_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshElementToFaceConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>elemToFaceConns_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return element to face connectivities. 
<p>
<b>Description:</b> <p>
This routine returns a pointer to the array that has the IDs of the faces that make up the elements. The array is { Elem0Face0 Elem0Face1 ... Elem0FaceN Elem1Face0 Elem1Face1 ... Elem1FaceN ...... ElemMFace0 ElemMFace1 ... ElemMFaceN }. This is a big data array and should NOT be freed by the calling program. To get the id of the jth face in the ith element, index by conns[i*numFacePerElem+j]. numFacePerElem can be found by a call to <a class="el" href="group__DataTypes.html#g6362db4b2a63e7c5c397ee701c6e783d">fc_getElementTypeNumFace()</a> or <a class="el" href="group__DataTypes.html#g0490f966e326909f1f6d8ba4129a3565">fc_getElementTypeNumEntity()</a>.<p>
See also <a class="el" href="group__Mesh.html#g50269cff01d472e3b30ed46d8b91738a">fc_getMeshElementFaceOrientsPtr()</a>.<p>
Note that faces may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>10/26/05 WSD, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>elemToFaceConns_p</em>&nbsp;</td><td>
output - element to face connections, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l03099">3099</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00139">_FC_MeshSlot::elemToFaceConns</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="exodusio_8c-source.html#l01475">_fc_readExodusSubsetMembers()</a>, <a class="el" href="gaplines_8c-source.html#l00190">calcFaceOrients()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, and <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>.<div class="fragment"><pre class="fragment"><a name="l03103"></a>03103   {
<a name="l03104"></a>03104   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l03105"></a>03105   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l03106"></a>03106   
<a name="l03107"></a>03107   <span class="comment">// default return</span>
<a name="l03108"></a>03108   <span class="keywordflow">if</span> (elemToFaceConns_p)
<a name="l03109"></a>03109     *elemToFaceConns_p = NULL;
<a name="l03110"></a>03110 
<a name="l03111"></a>03111   <span class="comment">// check input</span>
<a name="l03112"></a>03112   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l03113"></a>03113   <span class="keywordflow">if</span> (meshSlot == NULL || elemToFaceConns_p == NULL) {
<a name="l03114"></a>03114     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l03115"></a>03115     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l03116"></a>03116   }
<a name="l03117"></a>03117   
<a name="l03118"></a>03118   <span class="comment">// log message</span>
<a name="l03119"></a>03119   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting element to face connectivities on mesh '%s'"</span>, 
<a name="l03120"></a>03120                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03121"></a>03121 
<a name="l03122"></a>03122   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l03123"></a>03123   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l03124"></a>03124     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l03125"></a>03125     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l03126"></a>03126       <span class="keywordflow">return</span> rc;
<a name="l03127"></a>03127   }
<a name="l03128"></a>03128 
<a name="l03129"></a>03129   <span class="comment">// return pointer</span>
<a name="l03130"></a>03130   *elemToFaceConns_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#07d4e7a233f39a53dd269cfcf10315bf">elemToFaceConns</a>;
<a name="l03131"></a>03131   
<a name="l03132"></a>03132   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03133"></a>03133 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g3bb6165352ed68a9dd86957ebae28008"></a><!-- doxytag: member="mesh.c::fc_getMeshElementType" ref="g3bb6165352ed68a9dd86957ebae28008" args="(FC_Mesh mesh, FC_ElementType *elemType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshElementType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *&nbsp;</td>
          <td class="paramname"> <em>elemType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns type of elements in the mesh. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return elemType = FC_ET_UNKNOWN, and input check for elemType = NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>elemType</em>&nbsp;</td><td>
output - element type </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02280">2280</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="exodusio_8c-source.html#l01475">_fc_readExodusSubsetMembers()</a>, <a class="el" href="gaplines_8c-source.html#l00190">calcFaceOrients()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="mesh_8c-source.html#l02590">fc_getMeshEntityElementType()</a>, and <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l02283"></a>02283   {
<a name="l02284"></a>02284   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02285"></a>02285   
<a name="l02286"></a>02286   <span class="comment">// set up defaults</span>
<a name="l02287"></a>02287   <span class="keywordflow">if</span>(elemType != NULL)
<a name="l02288"></a>02288     *elemType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>;
<a name="l02289"></a>02289   
<a name="l02290"></a>02290   <span class="comment">// check input</span>
<a name="l02291"></a>02291   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02292"></a>02292   <span class="keywordflow">if</span> (meshSlot == NULL || elemType == NULL) {
<a name="l02293"></a>02293     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02294"></a>02294     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02295"></a>02295   }
<a name="l02296"></a>02296   
<a name="l02297"></a>02297   <span class="comment">// log message</span>
<a name="l02298"></a>02298   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting dimensionality for mesh '%s'"</span>, 
<a name="l02299"></a>02299                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02300"></a>02300 
<a name="l02301"></a>02301   <span class="comment">// fill in requested value</span>
<a name="l02302"></a>02302   *elemType = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a>;
<a name="l02303"></a>02303   
<a name="l02304"></a>02304   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02305"></a>02305 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g1c733c775b0e381dec888b5879f1c7f5"></a><!-- doxytag: member="mesh.c::fc_getMeshEntityElementType" ref="g1c733c775b0e381dec888b5879f1c7f5" args="(FC_Mesh mesh, FC_AssociationType assoc, int ID, FC_ElementType *elemType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshEntityElementType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a>&nbsp;</td>
          <td class="paramname"> <em>assoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *&nbsp;</td>
          <td class="paramname"> <em>elemType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the element type of the mesh entity. 
<p>
<b>Description:</b> <p>
This is really only interesting for faces and elements. The association type of "whole" returns the type of the elements of the mesh.<p>
If you ask for edges or faces and they don't exist yet, they will be built.<p>
It is an error to ask for the association type FC_AT_WHOLE_DATASET.<p>
<b>Modifications:</b> <ul>
<li>07/16/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
input - the entity's type </td></tr>
<tr><td valign="top"><em>ID</em>&nbsp;</td><td>
input - the ID of the mesh entity </td></tr>
<tr><td valign="top"><em>elemType</em>&nbsp;</td><td>
output - the element type of the entity </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02590">2590</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>, <a class="el" href="base_8h-source.html#l00198">FC_AT_WHOLE_DATASET</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4e17a2f7fa15c69d4f9c2f89ecbab0c18">FC_ET_LINE</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4011f9f91ef1e03bf40940c68b44f4c30">FC_ET_POINT</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="mesh_8c-source.html#l02280">fc_getMeshElementType()</a>, <a class="el" href="mesh_8c-source.html#l02841">fc_getMeshFaceTypesPtr()</a>, <a class="el" href="mesh_8c-source.html#l02518">fc_getMeshNumEntity()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00285">fc_isAssociationTypeValid()</a>, <a class="el" href="mesh_8c-source.html#l01961">fc_isMeshValid()</a>, and <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, and <a class="el" href="fc2ensight_8c-source.html#l00090">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02595"></a>02595   {
<a name="l02596"></a>02596   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02597"></a>02597   <span class="keywordtype">int</span> num;
<a name="l02598"></a>02598   <a class="code" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a>* faceTypes;
<a name="l02599"></a>02599 
<a name="l02600"></a>02600   <span class="comment">// default return</span>
<a name="l02601"></a>02601   <span class="keywordflow">if</span> (elemType)
<a name="l02602"></a>02602     *elemType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>;
<a name="l02603"></a>02603 
<a name="l02604"></a>02604   <span class="comment">// check input</span>
<a name="l02605"></a>02605   <span class="keywordflow">if</span> (!<a class="code" href="group__Mesh.html#gdc4cdd6e7f6a9151458bcb2c25715fd5">fc_isMeshValid</a>(mesh) || !<a class="code" href="group__DataTypes.html#g8f5259ca911a1f9ec4cecf5762dc1913">fc_isAssociationTypeValid</a>(assoc) || 
<a name="l02606"></a>02606       assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a> || ID &lt; 0 || !elemType)
<a name="l02607"></a>02607     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02608"></a>02608   rc = <a class="code" href="group__Mesh.html#gf169a555056c84bdfd59839bab4f8d76">fc_getMeshNumEntity</a>(mesh, assoc, &amp;num);
<a name="l02609"></a>02609   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02610"></a>02610     <span class="keywordflow">return</span> rc;
<a name="l02611"></a>02611   <span class="keywordflow">if</span> (ID &gt;= num)
<a name="l02612"></a>02612     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02613"></a>02613 
<a name="l02614"></a>02614   <span class="keywordflow">switch</span> (assoc) {
<a name="l02615"></a>02615   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>: *elemType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4011f9f91ef1e03bf40940c68b44f4c30">FC_ET_POINT</a>; <span class="keywordflow">break</span>;
<a name="l02616"></a>02616   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>:   *elemType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4e17a2f7fa15c69d4f9c2f89ecbab0c18">FC_ET_LINE</a>;  <span class="keywordflow">break</span>;
<a name="l02617"></a>02617   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>:
<a name="l02618"></a>02618     <a class="code" href="group__Mesh.html#g0d44e57289411649dd174c54bc25264a">fc_getMeshFaceTypesPtr</a>(mesh, &amp;faceTypes);
<a name="l02619"></a>02619     *elemType = faceTypes[ID];
<a name="l02620"></a>02620     <span class="keywordflow">break</span>;
<a name="l02621"></a>02621   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>: <span class="comment">// fall through to FC_AT_WHOLE_MESH</span>
<a name="l02622"></a>02622   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>: <a class="code" href="group__Mesh.html#g3bb6165352ed68a9dd86957ebae28008">fc_getMeshElementType</a>(mesh, elemType); <span class="keywordflow">break</span>;
<a name="l02623"></a>02623   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fea6eb08c0f82d61de1d1daab7c5d761">FC_AT_WHOLE_DATASET</a>: <span class="comment">// fall through to FC_AT_UNKNOWN</span>
<a name="l02624"></a>02624   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a>:
<a name="l02625"></a>02625     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02626"></a>02626   }
<a name="l02627"></a>02627   
<a name="l02628"></a>02628   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02629"></a>02629 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ge71cd0e179143c6d82d58b9cc78cc436"></a><!-- doxytag: member="mesh.c::fc_getMeshes" ref="ge71cd0e179143c6d82d58b9cc78cc436" args="(FC_Dataset dataset, int *numMesh, FC_Mesh **meshes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> **&nbsp;</td>
          <td class="paramname"> <em>meshes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the meshes in a dataset. 
<p>
<b>Description:</b> <p>
This call returns an array of meshes in the dataset. The caller is responsible for freeing the array of sequence handles.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>July 23, 2002 W Koegler Changed so it no longer makes safcover calls</li><li>11/21/03 RM, added default return nmeshes = -1, and meshnames = NULL if anything is wrong</li><li>9/8/04 WSK, changed to return mesh handles instead of mesh names. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numMesh</em>&nbsp;</td><td>
output - number of meshes returned </td></tr>
<tr><td valign="top"><em>meshes</em>&nbsp;</td><td>
output - array of meshes </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01432">1432</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="mesh_8c-source.html#l05284">_fc_getMeshSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="datasetP_8h-source.html#l00093">_FC_DsSlot::meshIDs</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>.
<p>
Referenced by <a class="el" href="lsdynaio_8c-source.html#l02192">_fc_hasSharedLSDynaVertices()</a>, <a class="el" href="exodusio_8c-source.html#l01825">_fc_writeExodusDataset()</a>, <a class="el" href="dataset_8c-source.html#l00659">fc_deleteDataset()</a>, <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01436"></a>01436   {
<a name="l01437"></a>01437   <span class="keywordtype">int</span> i;
<a name="l01438"></a>01438   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01439"></a>01439   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l01440"></a>01440   
<a name="l01441"></a>01441   <span class="comment">// default return values</span>
<a name="l01442"></a>01442   <span class="keywordflow">if</span> (numMesh != NULL) 
<a name="l01443"></a>01443     *numMesh = -1;
<a name="l01444"></a>01444   <span class="keywordflow">if</span> (meshes != NULL)
<a name="l01445"></a>01445     *meshes = NULL;  
<a name="l01446"></a>01446   
<a name="l01447"></a>01447   <span class="comment">// check input</span>
<a name="l01448"></a>01448   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01449"></a>01449   <span class="keywordflow">if</span> (dsSlot == NULL || numMesh == NULL || meshes == NULL) {
<a name="l01450"></a>01450     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01451"></a>01451     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01452"></a>01452   }
<a name="l01453"></a>01453   
<a name="l01454"></a>01454   <span class="comment">// log message</span>
<a name="l01455"></a>01455   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting meshes from dataset '%s'"</span>,
<a name="l01456"></a>01456                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#e4b7a27c95934413a822422c50d24f25">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01457"></a>01457   
<a name="l01458"></a>01458   <span class="comment">// get num meshes</span>
<a name="l01459"></a>01459   *numMesh = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>;
<a name="l01460"></a>01460   
<a name="l01461"></a>01461   <span class="comment">// get meshes</span>
<a name="l01462"></a>01462   <span class="keywordflow">if</span> (dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a> &gt; 0) {
<a name="l01463"></a>01463     *meshes = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Mesh.html">FC_Mesh</a>)*dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>);
<a name="l01464"></a>01464     <span class="keywordflow">if</span> (*meshes == NULL) {
<a name="l01465"></a>01465       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l01466"></a>01466       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l01467"></a>01467     }
<a name="l01468"></a>01468     <span class="keywordflow">for</span> (i = 0; i &lt; dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>; i++) {
<a name="l01469"></a>01469       meshSlot = <a class="code" href="group__PrivateMesh.html#g1b839092edb5e17b3f93338ebd4d52aa">_fc_getMeshSlotFromID</a>(dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#fe20b33c88bc62c025fc996b994fdaac">meshIDs</a>[i]);
<a name="l01470"></a>01470       <a class="code" href="group__PrivateTable.html#gc5ef4396668306a24b76028dda975a26">_FC_GET_HANDLE</a>((*meshes)[i], meshSlot);
<a name="l01471"></a>01471     }
<a name="l01472"></a>01472   }
<a name="l01473"></a>01473   
<a name="l01474"></a>01474   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01475"></a>01475 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g216435eac0f72ad3ccb35e44b2df6ca5"></a><!-- doxytag: member="mesh.c::fc_getMeshFaceConnsPtr" ref="g216435eac0f72ad3ccb35e44b2df6ca5" args="(FC_Mesh mesh, int **numVertPerFace_p, int *maxNumVertPerFace_p, int **conns_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshFaceConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>numVertPerFace_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxNumVertPerFace_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>conns_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return face connectivities. 
<p>
<b>Description:</b> <p>
This routine returns an array that has the IDs of the vertices that make up the faces. In addition there is an array with the number of vertices per face because some element types have multiple types of faces (i.e. pyramids and prisms). For example, if the faces are triangles, every entry of the numVertPerFace array will be '3' and the connectivity array will look like { Face0Vert0 Face0Vert1 Face0Vert2 Face1Vert0 ... FaceNVert0 FaceNVert1 FaceNVert2 }.<p>
If the face type is mixed, the connectivity array will be maxNumVertPerFace * numFace long and the unused entries (for when numVertPerFace &lt; maxNumVertPerFace) will be equal to -1. For example, a prism mesh's face connectivity might have numVertPerFace = { 3 4 3 ... } and conns = { Face0Vert0 Face0Vert1 Face0Vert2 -1 Face1Vert0 Face1Vert1 Face1Vert2 Face1Vert3 Face2Vert0 Face2Vert1 Face2Vert2 -1 ... }. Note you can index directly to face n by conns[n*maxNumVertPerFace].<p>
The number of vertices per face and the connectivity arrays are both considered to big data arrays and should NOT be freed by the calling program. Fetching the numVertPerFaceArray is optional.<p>
Note that faces may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>02/06/04 WSK, created.</li><li>09/21/04 WSK, removed args for non-big data values which can now be gotten with <a class="el" href="group__Mesh.html#g04012a97710d5965ca5c92116cd9389e">fc_getMeshEdgeFaceInfo()</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numVertPerFace_p</em>&nbsp;</td><td>
output - (optional) num vert per face, treat read only </td></tr>
<tr><td valign="top"><em>maxNumVertPerFace_p</em>&nbsp;</td><td>
output - (optional) stride length of the conns array </td></tr>
<tr><td valign="top"><em>conns_p</em>&nbsp;</td><td>
output - face to vertex connections, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02910">2910</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="meshP_8h-source.html#l00131">_FC_MeshSlot::faceToVertConns</a>, <a class="el" href="base_8h-source.html#l00129">FC_ET_MIXED</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00697">fc_getElementTypeFaceType()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>, and <a class="el" href="meshP_8h-source.html#l00130">_FC_MeshSlot::numVertPerFace</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="topo_8c-source.html#l01149">_fc_getFaceNeighbors()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="geom_8c-source.html#l03702">fc_getDisplacedFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, and <a class="el" href="fc2ensight_8c-source.html#l00090">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02917"></a>02917   {
<a name="l02918"></a>02918   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02919"></a>02919   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02920"></a>02920   
<a name="l02921"></a>02921   <span class="comment">// default return</span>
<a name="l02922"></a>02922   <span class="keywordflow">if</span> (numVertPerFace_p)
<a name="l02923"></a>02923     *numVertPerFace_p = NULL;
<a name="l02924"></a>02924   <span class="keywordflow">if</span> (maxNumVertPerFace_p)
<a name="l02925"></a>02925     *maxNumVertPerFace_p = -1;
<a name="l02926"></a>02926   <span class="keywordflow">if</span> (conns_p)
<a name="l02927"></a>02927     *conns_p = NULL;
<a name="l02928"></a>02928 
<a name="l02929"></a>02929   <span class="comment">// check input</span>
<a name="l02930"></a>02930   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02931"></a>02931   <span class="keywordflow">if</span> (meshSlot == NULL || !conns_p) {
<a name="l02932"></a>02932     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02933"></a>02933     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02934"></a>02934   }
<a name="l02935"></a>02935   
<a name="l02936"></a>02936   <span class="comment">// log message</span>
<a name="l02937"></a>02937   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting face connectivities for mesh '%s'"</span>, 
<a name="l02938"></a>02938                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02939"></a>02939 
<a name="l02940"></a>02940   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l02941"></a>02941   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l02942"></a>02942     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l02943"></a>02943     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02944"></a>02944       <span class="keywordflow">return</span> rc;
<a name="l02945"></a>02945   }
<a name="l02946"></a>02946 
<a name="l02947"></a>02947   <span class="comment">// return values</span>
<a name="l02948"></a>02948   <span class="keywordflow">if</span> (numVertPerFace_p)
<a name="l02949"></a>02949     *numVertPerFace_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c0a60f32c8b5e5750dce28a7b08db82e">numVertPerFace</a>;
<a name="l02950"></a>02950   <span class="keywordflow">if</span> (maxNumVertPerFace_p) {
<a name="l02951"></a>02951     <a class="code" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> faceType = <a class="code" href="group__DataTypes.html#ga23b09e2d315374580e5465068d8c0f1">fc_getElementTypeFaceType</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a>);
<a name="l02952"></a>02952     <span class="keywordflow">if</span> (faceType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4b477e20533563cf70ccd322b0e21afa4">FC_ET_MIXED</a>)
<a name="l02953"></a>02953       *maxNumVertPerFace_p = 4; <span class="comment">// assume will be mix of tris and quads</span>
<a name="l02954"></a>02954     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (faceType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>)
<a name="l02955"></a>02955       *maxNumVertPerFace_p = 0;
<a name="l02956"></a>02956     <span class="keywordflow">else</span>
<a name="l02957"></a>02957       *maxNumVertPerFace_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c0a60f32c8b5e5750dce28a7b08db82e">numVertPerFace</a>[0];
<a name="l02958"></a>02958   } 
<a name="l02959"></a>02959   *conns_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9e85f56450fb8e9221b19c45a3b3d905">faceToVertConns</a>;
<a name="l02960"></a>02960   
<a name="l02961"></a>02961   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02962"></a>02962 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb9414508dbdae090770e51de63b305dc"></a><!-- doxytag: member="mesh.c::fc_getMeshFaceType" ref="gb9414508dbdae090770e51de63b305dc" args="(FC_Mesh mesh, FC_ElementType *faceType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshFaceType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *&nbsp;</td>
          <td class="paramname"> <em>faceType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get element type of the face in the mesh. 
<p>
<b>Description:</b> <p>
If edges and faces do not yet exist, they are built. Pyramids and prisms may return the type FC_ET_MIXED.<p>
<b>Modifications:</b> <ul>
<li>09/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>faceType</em>&nbsp;</td><td>
output - face type (tri, quad or mixed) </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02475">2475</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00697">fc_getElementTypeFaceType()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l02478"></a>02478   {
<a name="l02479"></a>02479   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02480"></a>02480   
<a name="l02481"></a>02481   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l02482"></a>02482   <span class="keywordflow">if</span> (faceType != NULL) 
<a name="l02483"></a>02483     *faceType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>; 
<a name="l02484"></a>02484   
<a name="l02485"></a>02485   <span class="comment">// check input</span>
<a name="l02486"></a>02486   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02487"></a>02487   <span class="keywordflow">if</span> (meshSlot == NULL || !faceType) {
<a name="l02488"></a>02488     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02489"></a>02489     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02490"></a>02490   }
<a name="l02491"></a>02491   
<a name="l02492"></a>02492   <span class="comment">// log message</span>
<a name="l02493"></a>02493   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting edge and face info for mesh '%s'"</span>, 
<a name="l02494"></a>02494                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02495"></a>02495 
<a name="l02496"></a>02496   <span class="comment">// fill in requested values</span>
<a name="l02497"></a>02497   <span class="keywordflow">if</span> (faceType != NULL)
<a name="l02498"></a>02498     *faceType = <a class="code" href="group__DataTypes.html#ga23b09e2d315374580e5465068d8c0f1">fc_getElementTypeFaceType</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a>);
<a name="l02499"></a>02499   
<a name="l02500"></a>02500   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02501"></a>02501 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0d44e57289411649dd174c54bc25264a"></a><!-- doxytag: member="mesh.c::fc_getMeshFaceTypesPtr" ref="g0d44e57289411649dd174c54bc25264a" args="(FC_Mesh mesh, FC_ElementType **faceTypes_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshFaceTypesPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> **&nbsp;</td>
          <td class="paramname"> <em>faceTypes_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return face types. 
<p>
<b>Description:</b> <p>
This routine returns a pointer to the array that has the element type of each face. This is a big data array and should NOT be freed by the calling program.<p>
Note that faces may not yet exist for the mesh, and if they don't, calling this function will build them (which may take some time).<p>
<b>Modifications:</b> <ul>
<li>10/25/05 WSD, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>faceTypes_p</em>&nbsp;</td><td>
output - face types, treat read only </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02841">2841</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00129">_FC_MeshSlot::faceTypes</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="geom_8c-source.html#l03702">fc_getDisplacedFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>, and <a class="el" href="mesh_8c-source.html#l02590">fc_getMeshEntityElementType()</a>.<div class="fragment"><pre class="fragment"><a name="l02844"></a>02844   {
<a name="l02845"></a>02845   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02846"></a>02846   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02847"></a>02847   
<a name="l02848"></a>02848   <span class="comment">// default return</span>
<a name="l02849"></a>02849   <span class="keywordflow">if</span> (faceTypes_p)
<a name="l02850"></a>02850     *faceTypes_p = NULL;
<a name="l02851"></a>02851 
<a name="l02852"></a>02852   <span class="comment">// check input</span>
<a name="l02853"></a>02853   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02854"></a>02854   <span class="keywordflow">if</span> (meshSlot == NULL || faceTypes_p == NULL) {
<a name="l02855"></a>02855     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02856"></a>02856     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02857"></a>02857   }
<a name="l02858"></a>02858   
<a name="l02859"></a>02859   <span class="comment">// log message</span>
<a name="l02860"></a>02860   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting edge connectivities on mesh '%s'"</span>, 
<a name="l02861"></a>02861                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02862"></a>02862 
<a name="l02863"></a>02863   <span class="comment">// if it doesn't exist, build vertex, element &amp; neighbor stuff</span>
<a name="l02864"></a>02864   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l02865"></a>02865     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l02866"></a>02866     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02867"></a>02867       <span class="keywordflow">return</span> rc;
<a name="l02868"></a>02868   }
<a name="l02869"></a>02869 
<a name="l02870"></a>02870   <span class="comment">// return pointer</span>
<a name="l02871"></a>02871   *faceTypes_p = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a788c25eeecbdee94e1de09829b45710">faceTypes</a>;
<a name="l02872"></a>02872   
<a name="l02873"></a>02873   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02874"></a>02874 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g12034c759ea24e05c321a611de1bab8e"></a><!-- doxytag: member="mesh.c::fc_getMeshInfo" ref="g12034c759ea24e05c321a611de1bab8e" args="(FC_Mesh mesh, int *topodim, int *dim, int *numVertex, int *numElement, FC_ElementType *elemType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>topodim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numVertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numElement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> *&nbsp;</td>
          <td class="paramname"> <em>elemType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get information about a mesh. 
<p>
<b>Description:</b> <p>
Returns the topological dimensionality of the mesh elements, the spatial dimensionality of the mesh coordinates, the number of vertices, the number of elements, and the element type.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>11/25/03 RM, added checking for NULL mesh handle, default return: topodim = -1, dim = -1, numVertex = -1; numElement = -1, elemType = <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>; issue an error if <a class="el" href="group__Library.html#gccd255e326eaf782cb41c75999d2846b">fc_getLibraryVerbosity()</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>topodim</em>&nbsp;</td><td>
output - topological dimensionality of mesh (e.g. 0 for a point mesh, 2 for a surface, 3 for volume) </td></tr>
<tr><td valign="top"><em>dim</em>&nbsp;</td><td>
output - 2=2d coordinates, 3=3d coords </td></tr>
<tr><td valign="top"><em>numVertex</em>&nbsp;</td><td>
output - number of vertices </td></tr>
<tr><td valign="top"><em>numElement</em>&nbsp;</td><td>
output - number of elements </td></tr>
<tr><td valign="top"><em>elemType</em>&nbsp;</td><td>
output - element type (quad, tet) </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02067">2067</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="meshP_8h-source.html#l00100">_FC_MeshSlot::dim</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>, <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>, and <a class="el" href="meshP_8h-source.html#l00101">_FC_MeshSlot::topodim</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="exodusio_8c-source.html#l01825">_fc_writeExodusDataset()</a>, <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="geom_8c-source.html#l05589">fc_createDisplacedMeshVertexBin()</a>, <a class="el" href="geom_8c-source.html#l05522">fc_createMeshVertexBin()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="geom_8c-source.html#l03503">fc_getDisplacedEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03702">fc_getDisplacedFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l00763">fc_getDisplacedMeshBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02656">fc_getDisplacedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l03900">fc_getDisplacedRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04542">fc_getDisplacedSurfaceNormals()</a>, <a class="el" href="geom_8c-source.html#l03415">fc_getEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l00686">fc_getMeshBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02590">fc_getMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l03808">fc_getRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04448">fc_getSurfaceNormals()</a>, <a class="el" href="geom_8c-source.html#l02836">fc_getVariableWeightedDisplacedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l03267">fc_getVariableWeightedDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l02734">fc_getVariableWeightedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l00309">fc_isValidDisplacementVariable()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, <a class="el" href="geom_8c-source.html#l01223">fc_projectedElementBoundingBoxIntersection()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02075"></a>02075   {
<a name="l02076"></a>02076   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02077"></a>02077   
<a name="l02078"></a>02078   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l02079"></a>02079   <span class="keywordflow">if</span> (topodim != NULL) 
<a name="l02080"></a>02080     *topodim = -1;   
<a name="l02081"></a>02081   <span class="keywordflow">if</span> (dim != NULL) 
<a name="l02082"></a>02082     *dim = -1;
<a name="l02083"></a>02083   <span class="keywordflow">if</span> (numVertex != NULL) 
<a name="l02084"></a>02084     *numVertex = -1;
<a name="l02085"></a>02085   <span class="keywordflow">if</span> (numElement != NULL)
<a name="l02086"></a>02086     *numElement = -1;
<a name="l02087"></a>02087   <span class="keywordflow">if</span> (elemType != NULL) 
<a name="l02088"></a>02088     *elemType = <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>; 
<a name="l02089"></a>02089   
<a name="l02090"></a>02090   <span class="comment">// check input</span>
<a name="l02091"></a>02091   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02092"></a>02092   <span class="keywordflow">if</span> (meshSlot == NULL || 
<a name="l02093"></a>02093       (!topodim &amp;&amp; !dim &amp;&amp; !numVertex &amp;&amp; !numElement &amp;&amp; !elemType) ) {
<a name="l02094"></a>02094      <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02095"></a>02095     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02096"></a>02096   }
<a name="l02097"></a>02097   
<a name="l02098"></a>02098   <span class="comment">// log message</span>
<a name="l02099"></a>02099   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02100"></a>02100 
<a name="l02101"></a>02101   <span class="comment">// fill in requested values</span>
<a name="l02102"></a>02102   <span class="keywordflow">if</span> (dim != NULL)
<a name="l02103"></a>02103     *dim = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a>;
<a name="l02104"></a>02104   <span class="keywordflow">if</span> (topodim != NULL)
<a name="l02105"></a>02105     *topodim = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#52c0f98d888a8ff9934d02b715699a76">topodim</a>;
<a name="l02106"></a>02106   <span class="keywordflow">if</span> (numVertex != NULL)
<a name="l02107"></a>02107     *numVertex = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>;
<a name="l02108"></a>02108   <span class="keywordflow">if</span> (numElement != NULL)
<a name="l02109"></a>02109     *numElement = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>;
<a name="l02110"></a>02110   <span class="keywordflow">if</span> (elemType != NULL)
<a name="l02111"></a>02111     *elemType = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a>;
<a name="l02112"></a>02112   
<a name="l02113"></a>02113   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02114"></a>02114 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9f5a1b484e4b5ab4e0e137bfe34e10d6"></a><!-- doxytag: member="mesh.c::fc_getMeshName" ref="g9f5a1b484e4b5ab4e0e137bfe34e10d6" args="(FC_Mesh mesh, char **meshname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>meshname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return name of a mesh. 
<p>
<b>Description:</b> <p>
Return the name associated with a mesh handle. Spaced is allocated for the string so it needs to be freed by the user when finished.<p>
<b>Modifications:</b> <ul>
<li>Aug, 9, 2002. W Koegler Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>meshname</em>&nbsp;</td><td>
output - mesh name, space allocated here and must be freed by user when finished </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01981">1981</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l01515">fc_getMeshShapes()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01985"></a>01985   {
<a name="l01986"></a>01986   <span class="keywordtype">char</span> *cp;
<a name="l01987"></a>01987   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l01988"></a>01988   
<a name="l01989"></a>01989   <span class="comment">// default</span>
<a name="l01990"></a>01990   <span class="keywordflow">if</span> (meshname)
<a name="l01991"></a>01991     *meshname = NULL;
<a name="l01992"></a>01992   
<a name="l01993"></a>01993   <span class="comment">// check input</span>
<a name="l01994"></a>01994   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l01995"></a>01995   <span class="keywordflow">if</span> (meshSlot == NULL || meshname == NULL) {
<a name="l01996"></a>01996     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01997"></a>01997     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01998"></a>01998   }
<a name="l01999"></a>01999   
<a name="l02000"></a>02000   <span class="comment">// log message</span>
<a name="l02001"></a>02001   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting name for mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02002"></a>02002 
<a name="l02003"></a>02003   <span class="comment">// copy name</span>
<a name="l02004"></a>02004   cp = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>;
<a name="l02005"></a>02005   *meshname = malloc(strlen(cp) + 1);
<a name="l02006"></a>02006   <span class="keywordflow">if</span> (*meshname == NULL) {
<a name="l02007"></a>02007     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l02008"></a>02008     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l02009"></a>02009   }
<a name="l02010"></a>02010   strcpy(*meshname, cp);
<a name="l02011"></a>02011   
<a name="l02012"></a>02012   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02013"></a>02013 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0526437d03be312b52b0bbe8bc60a701"></a><!-- doxytag: member="mesh.c::fc_getMeshNumEdge" ref="g0526437d03be312b52b0bbe8bc60a701" args="(FC_Mesh mesh, int *numEdge)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshNumEdge           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numEdge</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get number of edges in a mesh. 
<p>
<b>Description:</b> <p>
If edges and faces do not yet exist, they are built.<p>
<b>Modifications:</b> <ul>
<li>09/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>numEdge</em>&nbsp;</td><td>
output - number of edges </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02380">2380</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04699">_fc_buildMeshVertexNeighborsViaEdge()</a>, <a class="el" href="topo_8c-source.html#l01072">_fc_getEdgeNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00798">_fc_getEdgeParents()</a>, <a class="el" href="variable_8c-source.html#l01384">fc_copySeqVariableWithNewAssociation()</a>, <a class="el" href="variable_8c-source.html#l01037">fc_copyVariableWithNewAssociation()</a>, <a class="el" href="geom_8c-source.html#l03503">fc_getDisplacedEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03415">fc_getEdgeLengths()</a>, <a class="el" href="mesh_8c-source.html#l03222">fc_printMesh()</a>, and <a class="el" href="edgeStats_8c-source.html#l00105">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02383"></a>02383   {
<a name="l02384"></a>02384   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02385"></a>02385   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02386"></a>02386   
<a name="l02387"></a>02387   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l02388"></a>02388   <span class="keywordflow">if</span> (numEdge != NULL) 
<a name="l02389"></a>02389     *numEdge = -1;
<a name="l02390"></a>02390   
<a name="l02391"></a>02391   <span class="comment">// check input</span>
<a name="l02392"></a>02392   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02393"></a>02393   <span class="keywordflow">if</span> (meshSlot == NULL || !numEdge) {
<a name="l02394"></a>02394     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02395"></a>02395     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02396"></a>02396   }
<a name="l02397"></a>02397   
<a name="l02398"></a>02398   <span class="comment">// log message</span>
<a name="l02399"></a>02399   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting num edge for mesh '%s'"</span>, 
<a name="l02400"></a>02400                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02401"></a>02401 
<a name="l02402"></a>02402   <span class="comment">// build edges &amp; faces if necessary</span>
<a name="l02403"></a>02403   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> == -1) {
<a name="l02404"></a>02404     rc = <a class="code" href="group__PrivateMesh.html#ga34706dabb7fdf867e33dd23052e9222">_fc_buildEdgeConns</a>(mesh);
<a name="l02405"></a>02405     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02406"></a>02406       <span class="keywordflow">return</span> rc;
<a name="l02407"></a>02407   }
<a name="l02408"></a>02408 
<a name="l02409"></a>02409   <span class="comment">// fill in requested values</span>
<a name="l02410"></a>02410   <span class="keywordflow">if</span> (numEdge != NULL)
<a name="l02411"></a>02411     *numEdge = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a>;
<a name="l02412"></a>02412   
<a name="l02413"></a>02413   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02414"></a>02414 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g83a0b8188d49812c8d6d4c883cb8e9c4"></a><!-- doxytag: member="mesh.c::fc_getMeshNumElement" ref="g83a0b8188d49812c8d6d4c883cb8e9c4" args="(FC_Mesh mesh, int *numElem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshNumElement           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numElem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns number of elements in a mesh. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return numElem = -1, and input check for numElem = NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numElem</em>&nbsp;</td><td>
output - number of elements in this set </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02244">2244</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="variable_8c-source.html#l01384">fc_copySeqVariableWithNewAssociation()</a>, <a class="el" href="variable_8c-source.html#l01037">fc_copyVariableWithNewAssociation()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="gaplines_8c-source.html#l00240">getLinesAsVectors()</a>, <a class="el" href="tears_8c-source.html#l00922">main()</a>, <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>, and <a class="el" href="screwBreaks_8c-source.html#l00439">segmentMesh()</a>.<div class="fragment"><pre class="fragment"><a name="l02247"></a>02247   {
<a name="l02248"></a>02248   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02249"></a>02249   
<a name="l02250"></a>02250   <span class="comment">// set up defaults</span>
<a name="l02251"></a>02251   <span class="keywordflow">if</span> (numElem != NULL)
<a name="l02252"></a>02252     *numElem = -1;
<a name="l02253"></a>02253   
<a name="l02254"></a>02254   <span class="comment">// check input</span>
<a name="l02255"></a>02255   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02256"></a>02256   <span class="keywordflow">if</span> (meshSlot == NULL || numElem == NULL) {
<a name="l02257"></a>02257     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02258"></a>02258     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02259"></a>02259   }
<a name="l02260"></a>02260 
<a name="l02261"></a>02261   <span class="comment">// log message</span>
<a name="l02262"></a>02262   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting numElement for mesh '%s'"</span>, 
<a name="l02263"></a>02263                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02264"></a>02264 
<a name="l02265"></a>02265   <span class="comment">// fill in requested value</span>
<a name="l02266"></a>02266   *numElem = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>;
<a name="l02267"></a>02267   
<a name="l02268"></a>02268   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02269"></a>02269 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf169a555056c84bdfd59839bab4f8d76"></a><!-- doxytag: member="mesh.c::fc_getMeshNumEntity" ref="gf169a555056c84bdfd59839bab4f8d76" args="(FC_Mesh mesh, FC_AssociationType assoc, int *numEntity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshNumEntity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a>&nbsp;</td>
          <td class="paramname"> <em>assoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numEntity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns number of a type of mesh entity. 
<p>
<b>Description:</b> <p>
If you ask for edges or faces and they don't exist yet, they will be built.<p>
It is an error to ask for the association type FC_AT_WHOLE_DATASET.<p>
<b>Modifications:</b> <ul>
<li>06/07/04 RM, Created.</li><li>07/16/04 WSK, Changed name. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
input - association type of entity </td></tr>
<tr><td valign="top"><em>numEntity</em>&nbsp;</td><td>
output - number of entities in the mesh </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02518">2518</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04214">_fc_buildEdgeConns()</a>, <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>, <a class="el" href="base_8c-source.html#l00476">fc_getAssociationTypeText()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00285">fc_isAssociationTypeValid()</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>, <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>, <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>, and <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="fileio_8c-source.html#l00539">_fc_makeVariableFromFile()</a>, <a class="el" href="topo_8c-source.html#l00369">fc_changeMeshEntityType()</a>, <a class="el" href="variable_8c-source.html#l01259">fc_copySeqVariable()</a>, <a class="el" href="subset_8c-source.html#l00218">fc_copySubset()</a>, <a class="el" href="variable_8c-source.html#l00927">fc_copyVariable()</a>, <a class="el" href="subset_8c-source.html#l00127">fc_createSubset()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="mesh_8c-source.html#l02590">fc_getMeshEntityElementType()</a>, <a class="el" href="topo_8c-source.html#l00510">fc_getMeshEntityNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00279">fc_getMeshEntityParents()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, <a class="el" href="variable_8c-source.html#l00467">fc_setVariableData()</a>, and <a class="el" href="variable_8c-source.html#l00602">fc_setVariableDataPtr()</a>.<div class="fragment"><pre class="fragment"><a name="l02522"></a>02522   {
<a name="l02523"></a>02523   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02524"></a>02524   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02525"></a>02525   <span class="comment">// set up default return</span>
<a name="l02526"></a>02526   <span class="keywordflow">if</span> (numEntity != NULL)
<a name="l02527"></a>02527     *numEntity = -1;
<a name="l02528"></a>02528     
<a name="l02529"></a>02529   <span class="comment">// check input</span>
<a name="l02530"></a>02530   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02531"></a>02531   <span class="keywordflow">if</span> (meshSlot == NULL || !<a class="code" href="group__DataTypes.html#g8f5259ca911a1f9ec4cecf5762dc1913">fc_isAssociationTypeValid</a>(assoc) || 
<a name="l02532"></a>02532       assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a> || numEntity == NULL) {
<a name="l02533"></a>02533     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02534"></a>02534     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02535"></a>02535   }
<a name="l02536"></a>02536 
<a name="l02537"></a>02537   <span class="comment">// log message</span>
<a name="l02538"></a>02538   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of entities of type %s for mesh '%s'"</span>, 
<a name="l02539"></a>02539                       <a class="code" href="group__DataTypes.html#gdb7ce28f8a85a1cc1e68b55f64eb54f5">fc_getAssociationTypeText</a>(assoc),
<a name="l02540"></a>02540                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02541"></a>02541 
<a name="l02542"></a>02542   <span class="comment">// get the number entities on the mesh for given assoc type</span>
<a name="l02543"></a>02543   <span class="comment">// build edges &amp; faces if necessary</span>
<a name="l02544"></a>02544   <span class="keywordflow">switch</span>(assoc) {
<a name="l02545"></a>02545   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30408cc812de98bed6c7106d5fa72e11f726">FC_AT_VERTEX</a>:   *numEntity = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>;   <span class="keywordflow">break</span>;
<a name="l02546"></a>02546   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>:     
<a name="l02547"></a>02547     <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> == -1) {
<a name="l02548"></a>02548       rc = <a class="code" href="group__PrivateMesh.html#ga34706dabb7fdf867e33dd23052e9222">_fc_buildEdgeConns</a>(mesh);
<a name="l02549"></a>02549       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02550"></a>02550         <span class="keywordflow">return</span> rc;
<a name="l02551"></a>02551     }
<a name="l02552"></a>02552     *numEntity = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a>;     <span class="keywordflow">break</span>;
<a name="l02553"></a>02553   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>:     
<a name="l02554"></a>02554     <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l02555"></a>02555       rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l02556"></a>02556       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02557"></a>02557         <span class="keywordflow">return</span> rc;
<a name="l02558"></a>02558     }
<a name="l02559"></a>02559     *numEntity = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a>;     <span class="keywordflow">break</span>; 
<a name="l02560"></a>02560   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040f4be04f2efb0e31c558b6146cf83f191">FC_AT_ELEMENT</a>:  *numEntity = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>;  <span class="keywordflow">break</span>;
<a name="l02561"></a>02561   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b304008f144f8c1298e5724d7a601ed063099">FC_AT_WHOLE_MESH</a>:    *numEntity = 1;                     <span class="keywordflow">break</span>;
<a name="l02562"></a>02562   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040dc201b7d1982fc7cf126faa5d610fa25">FC_AT_UNKNOWN</a>:  <span class="comment">// fall through to default</span>
<a name="l02563"></a>02563   <span class="keywordflow">default</span>:
<a name="l02564"></a>02564     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02565"></a>02565   }
<a name="l02566"></a>02566   
<a name="l02567"></a>02567   <span class="comment">// should never reach here</span>
<a name="l02568"></a>02568   <span class="comment">//fc_printfErrorMessage("Should never reach here");</span>
<a name="l02569"></a>02569   <span class="comment">//return FC_ERROR;</span>
<a name="l02570"></a>02570   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02571"></a>02571 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0f4d7e58dc5936fc8f3824cbce0bf7c4"></a><!-- doxytag: member="mesh.c::fc_getMeshNumFace" ref="g0f4d7e58dc5936fc8f3824cbce0bf7c4" args="(FC_Mesh mesh, int *numFace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshNumFace           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numFace</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get number of faces in a mesh. 
<p>
<b>Description:</b> <p>
If edges and faces do not yet exist, they are built.<p>
<b>Modifications:</b> <ul>
<li>09/21/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>numFace</em>&nbsp;</td><td>
output - number of faces </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02427">2427</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l04467">_fc_buildFaceConns()</a>, <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="shape_8c-source.html#l00893">_fc_createShapePartsFromFaceInfoList()</a>, <a class="el" href="topo_8c-source.html#l01149">_fc_getFaceNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00922">_fc_getFaceParents()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="gaplines_8c-source.html#l00190">calcFaceOrients()</a>, <a class="el" href="variable_8c-source.html#l01384">fc_copySeqVariableWithNewAssociation()</a>, <a class="el" href="variable_8c-source.html#l01037">fc_copyVariableWithNewAssociation()</a>, <a class="el" href="geom_8c-source.html#l03702">fc_getDisplacedFaceAreas()</a>, and <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>.<div class="fragment"><pre class="fragment"><a name="l02430"></a>02430   {
<a name="l02431"></a>02431   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l02432"></a>02432   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02433"></a>02433   
<a name="l02434"></a>02434   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l02435"></a>02435   <span class="keywordflow">if</span> (numFace != NULL)
<a name="l02436"></a>02436     *numFace = -1;
<a name="l02437"></a>02437   
<a name="l02438"></a>02438   <span class="comment">// check input</span>
<a name="l02439"></a>02439   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02440"></a>02440   <span class="keywordflow">if</span> (meshSlot == NULL || !numFace) {
<a name="l02441"></a>02441     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02442"></a>02442     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02443"></a>02443   }
<a name="l02444"></a>02444   
<a name="l02445"></a>02445   <span class="comment">// log message</span>
<a name="l02446"></a>02446   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of faces for mesh '%s'"</span>, 
<a name="l02447"></a>02447                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02448"></a>02448 
<a name="l02449"></a>02449   <span class="comment">// build faces if necessary</span>
<a name="l02450"></a>02450   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> == -1) {
<a name="l02451"></a>02451     rc = <a class="code" href="group__PrivateMesh.html#g514262da705521c92c0571b0696a0dbc">_fc_buildFaceConns</a>(mesh);
<a name="l02452"></a>02452     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>)
<a name="l02453"></a>02453       <span class="keywordflow">return</span> rc;
<a name="l02454"></a>02454   }
<a name="l02455"></a>02455 
<a name="l02456"></a>02456   <span class="comment">// fill in requested values</span>
<a name="l02457"></a>02457   <span class="keywordflow">if</span> (numFace != NULL)
<a name="l02458"></a>02458     *numFace = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a>;
<a name="l02459"></a>02459   
<a name="l02460"></a>02460   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02461"></a>02461 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gd4e8931bbef75eafafa0735e23e513fa"></a><!-- doxytag: member="mesh.c::fc_getMeshNumVertex" ref="gd4e8931bbef75eafafa0735e23e513fa" args="(FC_Mesh mesh, int *numVertex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshNumVertex           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numVertex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of vertices in a mesh. 
<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return numVertex = -1, and input check for numVertex = NULL </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numVertex</em>&nbsp;</td><td>
output - integer count of vertices </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02208">2208</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04699">_fc_buildMeshVertexNeighborsViaEdge()</a>, <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="topo_8c-source.html#l01007">_fc_getVertexNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00696">_fc_getVertexParents()</a>, <a class="el" href="lsdynaio_8c-source.html#l02192">_fc_hasSharedLSDynaVertices()</a>, <a class="el" href="variable_8c-source.html#l01384">fc_copySeqVariableWithNewAssociation()</a>, and <a class="el" href="variable_8c-source.html#l01037">fc_copyVariableWithNewAssociation()</a>.<div class="fragment"><pre class="fragment"><a name="l02211"></a>02211   {
<a name="l02212"></a>02212   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02213"></a>02213   
<a name="l02214"></a>02214   <span class="comment">// set up defaults</span>
<a name="l02215"></a>02215   <span class="keywordflow">if</span> (numVertex != NULL)
<a name="l02216"></a>02216     *numVertex = -1;
<a name="l02217"></a>02217   
<a name="l02218"></a>02218   <span class="comment">// check input</span>
<a name="l02219"></a>02219   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02220"></a>02220   <span class="keywordflow">if</span> (meshSlot == NULL || numVertex == NULL) {
<a name="l02221"></a>02221     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02222"></a>02222     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02223"></a>02223   }
<a name="l02224"></a>02224   
<a name="l02225"></a>02225   <span class="comment">// log message</span>
<a name="l02226"></a>02226   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting numVertex for mesh '%s'"</span>, 
<a name="l02227"></a>02227                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02228"></a>02228 
<a name="l02229"></a>02229   <span class="comment">// fill in requested value</span>
<a name="l02230"></a>02230   *numVertex = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>;
<a name="l02231"></a>02231   
<a name="l02232"></a>02232   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02233"></a>02233 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g06bdd16c4f8ea1d805927fb26ca8d8ef"></a><!-- doxytag: member="mesh.c::fc_getMeshTopodim" ref="g06bdd16c4f8ea1d805927fb26ca8d8ef" args="(FC_Mesh mesh, int *topodim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getMeshTopodim           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>topodim</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the topological dimensionality of the mesh. 
<p>
<b>Description:</b> <p>
The topological dimensionality of the mesh is not the same as the dimensionality of the space it is embedded in. Instead the topological dimensionality is dependent on the element type where point meshes are 0D, lines meshes are 1D, surface meshes like triangles and quads are 2D, and volume meshes like tets, pyramids, prisms and hexs are 3D.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>12/11/03 RM, added default return dim=-1, and input checking </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>topodim</em>&nbsp;</td><td>
output - topological dimensionality of elements </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l02133">2133</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00101">_FC_MeshSlot::topodim</a>.
<p>
Referenced by <a class="el" href="tears_8c-source.html#l00922">main()</a>.<div class="fragment"><pre class="fragment"><a name="l02136"></a>02136   {
<a name="l02137"></a>02137   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l02138"></a>02138   
<a name="l02139"></a>02139   <span class="comment">// set up defaults </span>
<a name="l02140"></a>02140   <span class="keywordflow">if</span> (topodim != NULL)
<a name="l02141"></a>02141     *topodim = -1; 
<a name="l02142"></a>02142   
<a name="l02143"></a>02143   <span class="comment">// check input</span>
<a name="l02144"></a>02144   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l02145"></a>02145   <span class="keywordflow">if</span> (meshSlot == NULL || topodim == NULL) {
<a name="l02146"></a>02146     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l02147"></a>02147     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l02148"></a>02148   }
<a name="l02149"></a>02149   
<a name="l02150"></a>02150   <span class="comment">// log message</span>
<a name="l02151"></a>02151   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting topo dim for mesh '%s'"</span>, 
<a name="l02152"></a>02152                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l02153"></a>02153 
<a name="l02154"></a>02154   <span class="comment">// fill in requested value</span>
<a name="l02155"></a>02155   *topodim = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#52c0f98d888a8ff9934d02b715699a76">topodim</a>;
<a name="l02156"></a>02156   
<a name="l02157"></a>02157   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l02158"></a>02158 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g8e7d13e18646abacaaa8b63e1dcd9001"></a><!-- doxytag: member="mesh.c::fc_getNumMesh" ref="g8e7d13e18646abacaaa8b63e1dcd9001" args="(FC_Dataset dataset, int *numMesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_getNumMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Dataset.html">FC_Dataset</a>&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the the number of meshes in a dataset. 
<p>
<b>Modifications:</b> <ul>
<li>9/28/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>dataset</em>&nbsp;</td><td>
input - dataset </td></tr>
<tr><td valign="top"><em>numMesh</em>&nbsp;</td><td>
output - number of meshes returned </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01484">1484</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="dataset_8c-source.html#l01029">_fc_getDsSlot()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="datasetP_8h-source.html#l00078">_FC_DsSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="datasetP_8h-source.html#l00092">_FC_DsSlot::numMesh</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00831">fc_printDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l01487"></a>01487   {
<a name="l01488"></a>01488   <a class="code" href="struct__FC__DsSlot.html">_FC_DsSlot</a>* dsSlot;
<a name="l01489"></a>01489   
<a name="l01490"></a>01490   <span class="comment">// default return values</span>
<a name="l01491"></a>01491   <span class="keywordflow">if</span> (numMesh != NULL) 
<a name="l01492"></a>01492     *numMesh = -1;
<a name="l01493"></a>01493   
<a name="l01494"></a>01494   <span class="comment">// check input</span>
<a name="l01495"></a>01495   dsSlot = <a class="code" href="group__PrivateDataset.html#g42016ac71c44a0188d75d5753adc47b2">_fc_getDsSlot</a>(dataset);
<a name="l01496"></a>01496   <span class="keywordflow">if</span> (dsSlot == NULL || numMesh == NULL) {
<a name="l01497"></a>01497     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01498"></a>01498     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01499"></a>01499   }
<a name="l01500"></a>01500   
<a name="l01501"></a>01501   <span class="comment">// log message</span>
<a name="l01502"></a>01502   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of meshes from dataset '%s'"</span>,
<a name="l01503"></a>01503                       dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#e4b7a27c95934413a822422c50d24f25">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01504"></a>01504   
<a name="l01505"></a>01505   <span class="comment">// get num meshes</span>
<a name="l01506"></a>01506   *numMesh = dsSlot-&gt;<a class="code" href="struct__FC__DsSlot.html#49972d4cac4564f23ed7e1fbf984eaf4">numMesh</a>;
<a name="l01507"></a>01507   
<a name="l01508"></a>01508   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01509"></a>01509 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gdc4cdd6e7f6a9151458bcb2c25715fd5"></a><!-- doxytag: member="mesh.c::fc_isMeshValid" ref="gdc4cdd6e7f6a9151458bcb2c25715fd5" args="(FC_Mesh mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isMeshValid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the handle refers to a valid mesh. 
<p>
<b>Description:</b> <p>
Returns 1 (true) is the handle is valid, and 0 (false) if it is not.<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01961">1961</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="table_8c-source.html#l00332">_fc_isHandleValid()</a>, <a class="el" href="mesh_8c-source.html#l00097">meshTable</a>, <a class="el" href="mesh_8c-source.html#l00092">meshTableSize</a>, <a class="el" href="base_8h-source.html#l00269">FC_Mesh::slotID</a>, and <a class="el" href="base_8h-source.html#l00270">FC_Mesh::uID</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l04799">_fc_buildMeshElementNeighborsViaEntity()</a>, <a class="el" href="mesh_8c-source.html#l04699">_fc_buildMeshVertexNeighborsViaEdge()</a>, <a class="el" href="mesh_8c-source.html#l04042">_fc_buildParents()</a>, <a class="el" href="geom_8c-source.html#l06615">_fc_geomSmoothCore()</a>, <a class="el" href="topo_8c-source.html#l01072">_fc_getEdgeNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00798">_fc_getEdgeParents()</a>, <a class="el" href="topo_8c-source.html#l01259">_fc_getElementNeighbors()</a>, <a class="el" href="topo_8c-source.html#l01149">_fc_getFaceNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00922">_fc_getFaceParents()</a>, <a class="el" href="exodusio_8c-source.html#l00383">_fc_getMeshExodusGlobalElementIDOffset()</a>, <a class="el" href="exodusio_8c-source.html#l00337">_fc_getMeshExodusGlobalNodalIDsPtr()</a>, <a class="el" href="shape_8c-source.html#l00750">_fc_getOutwardFaceNormal()</a>, <a class="el" href="geom_8c-source.html#l05181">_fc_getSubsetsProximityArgsTest()</a>, <a class="el" href="geom_8c-source.html#l06312">_fc_getVertexIDsWithinBoundingBoxUsingVertexBin()</a>, <a class="el" href="geom_8c-source.html#l06462">_fc_getVertexIDsWithinSphereUsingVertexBin()</a>, <a class="el" href="topo_8c-source.html#l01007">_fc_getVertexNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00696">_fc_getVertexParents()</a>, <a class="el" href="fileio_8c-source.html#l00539">_fc_makeVariableFromFile()</a>, <a class="el" href="geom_8c-source.html#l04764">fc_calcMeshDeformationUsingCentroid()</a>, <a class="el" href="geom_8c-source.html#l04650">fc_calcMeshDeformationUsingRefVertex()</a>, <a class="el" href="topo_8c-source.html#l00369">fc_changeMeshEntityType()</a>, <a class="el" href="subset_8c-source.html#l00218">fc_copySubset()</a>, <a class="el" href="variable_8c-source.html#l00927">fc_copyVariable()</a>, <a class="el" href="geom_8c-source.html#l05589">fc_createDisplacedMeshVertexBin()</a>, <a class="el" href="geom_8c-source.html#l05522">fc_createMeshVertexBin()</a>, <a class="el" href="geom_8c-source.html#l06028">fc_displacedGeomSmoothSeqVariable()</a>, <a class="el" href="geom_8c-source.html#l05926">fc_geomSmoothSeqVariable()</a>, <a class="el" href="geom_8c-source.html#l03503">fc_getDisplacedEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l03702">fc_getDisplacedFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l00763">fc_getDisplacedMeshBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02656">fc_getDisplacedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l00352">fc_getDisplacedMeshCoords()</a>, <a class="el" href="geom_8c-source.html#l01699">fc_getDisplacedMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01929">fc_getDisplacedMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04065">fc_getDisplacedMeshVolume()</a>, <a class="el" href="geom_8c-source.html#l03900">fc_getDisplacedRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04542">fc_getDisplacedSurfaceNormals()</a>, <a class="el" href="geom_8c-source.html#l03415">fc_getEdgeLengths()</a>, <a class="el" href="geom_8c-source.html#l05704">fc_getEntitiesWithinBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l05786">fc_getEntitiesWithinSphere()</a>, <a class="el" href="geom_8c-source.html#l03600">fc_getFaceAreas()</a>, <a class="el" href="geom_8c-source.html#l00686">fc_getMeshBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02590">fc_getMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l01649">fc_getMeshDiameter()</a>, <a class="el" href="topo_8c-source.html#l00116">fc_getMeshEntityChildren()</a>, <a class="el" href="mesh_8c-source.html#l02590">fc_getMeshEntityElementType()</a>, <a class="el" href="topo_8c-source.html#l00510">fc_getMeshEntityNeighbors()</a>, <a class="el" href="topo_8c-source.html#l00279">fc_getMeshEntityParents()</a>, <a class="el" href="geom_8c-source.html#l01841">fc_getMeshesDiameter()</a>, <a class="el" href="shape_8c-source.html#l01515">fc_getMeshShapes()</a>, <a class="el" href="topo_8c-source.html#l01792">fc_getMeshSkin()</a>, <a class="el" href="geom_8c-source.html#l03808">fc_getRegionVolumes()</a>, <a class="el" href="geom_8c-source.html#l04448">fc_getSurfaceNormals()</a>, <a class="el" href="geom_8c-source.html#l02836">fc_getVariableWeightedDisplacedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l02734">fc_getVariableWeightedMeshCentroid()</a>, <a class="el" href="geom_8c-source.html#l00309">fc_isValidDisplacementVariable()</a>, <a class="el" href="subset_8c-source.html#l02200">fc_printSubsetOfMesh()</a>, and <a class="el" href="geom_8c-source.html#l01223">fc_projectedElementBoundingBoxIntersection()</a>.<div class="fragment"><pre class="fragment"><a name="l01963"></a>01963   {
<a name="l01964"></a>01964   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#gad0539bd0e7ba29168e2a05b2e0b5e33">_fc_isHandleValid</a>(mesh.<a class="code" href="structFC__Mesh.html#b84364c484f4f2d00281f9b34053916c">slotID</a>, mesh.<a class="code" href="structFC__Mesh.html#da0e6172f801029a61963ea3a2301681">uID</a>, <a class="code" href="group__PrivateMesh.html#gf200c41bf0eb78b4f0976d80522149fc">meshTableSize</a>,
<a name="l01965"></a>01965                            (<a class="code" href="struct__FC__SlotHeader.html">_FC_SlotHeader</a>**)<a class="code" href="group__PrivateMesh.html#ga945ffe2fdf957de2487b48783628c03">meshTable</a>);
<a name="l01966"></a>01966 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g3b6bf934bf4715494826ddce189a8d10"></a><!-- doxytag: member="mesh.c::fc_printMesh" ref="g3b6bf934bf4715494826ddce189a8d10" args="(FC_Mesh mesh, char *label, int print_edgeConns, int print_faceConns, int print_elemConns, int print_coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_printMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_edgeConns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_faceConns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_elemConns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print mesh meta data to stdout, and optionally the connections and/or coordinates. 
<p>
<b>Modifications:</b> <ul>
<li>11/20/03 WSK Created.</li><li>10/31/07 ACG optional precision </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend variable name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_edgeConns</em>&nbsp;</td><td>
input &gt; 0 = print the edge connectivities. </td></tr>
<tr><td valign="top"><em>print_faceConns</em>&nbsp;</td><td>
input &gt; 0 = print the face connectivities. </td></tr>
<tr><td valign="top"><em>print_elemConns</em>&nbsp;</td><td>
input &gt; 0 = print the element connectivities. </td></tr>
<tr><td valign="top"><em>print_coords</em>&nbsp;</td><td>
input - 1 = print the coordinates too 2 = print the coordinates in exponential notation w 5 digits precision </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l03222">3222</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8h-source.html#l00129">FC_ET_MIXED</a>, <a class="el" href="base_8c-source.html#l00549">fc_getElementTypeNumVertex()</a>, <a class="el" href="base_8c-source.html#l00384">fc_getElementTypeText()</a>, <a class="el" href="mesh_8c-source.html#l02655">fc_getMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02790">fc_getMeshEdgeConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02318">fc_getMeshEdgeFaceInfo()</a>, <a class="el" href="mesh_8c-source.html#l02981">fc_getMeshElementConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02910">fc_getMeshFaceConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02067">fc_getMeshInfo()</a>, <a class="el" href="mesh_8c-source.html#l02380">fc_getMeshNumEdge()</a>, <a class="el" href="variable_8c-source.html#l02740">fc_getNumSeqVariable()</a>, <a class="el" href="subset_8c-source.html#l00748">fc_getNumSubset()</a>, <a class="el" href="variable_8c-source.html#l02706">fc_getNumVariable()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>, and <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>.
<p>
Referenced by <a class="el" href="fcdump_8c-source.html#l00194">main()</a>.<div class="fragment"><pre class="fragment"><a name="l03232"></a>03232   {
<a name="l03233"></a>03233   <a class="code" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> rc;
<a name="l03234"></a>03234   <span class="keywordtype">int</span> i, j;
<a name="l03235"></a>03235   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l03236"></a>03236   <span class="keywordtype">int</span> topodim, dim, numVertex, numElement, numSubset, numVar, numSeqVar;
<a name="l03237"></a>03237   <span class="keywordtype">int</span> numEdge, numFace;
<a name="l03238"></a>03238   <a class="code" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a> elemType, faceType;
<a name="l03239"></a>03239   <span class="keywordtype">int</span>* ebuf, *numVertPerFace, maxNum;
<a name="l03240"></a>03240   <span class="keywordtype">double</span>* vbuf;
<a name="l03241"></a>03241 
<a name="l03242"></a>03242   <span class="comment">// special case: printing a null handle is not an error</span>
<a name="l03243"></a>03243   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(mesh, <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>)) {
<a name="l03244"></a>03244     printf(<span class="stringliteral">"Mesh: FC_NULL_MESH\n"</span>);
<a name="l03245"></a>03245     fflush(NULL);
<a name="l03246"></a>03246     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03247"></a>03247   }
<a name="l03248"></a>03248 
<a name="l03249"></a>03249   <span class="comment">// check input</span>
<a name="l03250"></a>03250   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l03251"></a>03251   <span class="keywordflow">if</span> (meshSlot == NULL) {
<a name="l03252"></a>03252     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l03253"></a>03253     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l03254"></a>03254   }
<a name="l03255"></a>03255 
<a name="l03256"></a>03256   <span class="comment">// log message</span>
<a name="l03257"></a>03257   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Printing mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03258"></a>03258 
<a name="l03259"></a>03259   <span class="comment">// print label &amp; var name</span>
<a name="l03260"></a>03260   <span class="keywordflow">if</span> (label)
<a name="l03261"></a>03261     printf(<span class="stringliteral">"%s: "</span>, label);
<a name="l03262"></a>03262   <span class="keywordflow">else</span>
<a name="l03263"></a>03263     printf(<span class="stringliteral">"Mesh: "</span>);
<a name="l03264"></a>03264   printf(<span class="stringliteral">"'%s'\n"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03265"></a>03265   fflush(NULL);
<a name="l03266"></a>03266 
<a name="l03267"></a>03267   <span class="comment">// print meta data</span>
<a name="l03268"></a>03268   rc = <a class="code" href="group__Mesh.html#g12034c759ea24e05c321a611de1bab8e">fc_getMeshInfo</a>(mesh,  &amp;topodim, &amp;dim, &amp;numVertex, &amp;numElement,
<a name="l03269"></a>03269                       &amp;elemType);
<a name="l03270"></a>03270   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03271"></a>03271     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for mesh '%s'"</span>,
<a name="l03272"></a>03272                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03273"></a>03273     <span class="keywordflow">return</span> rc;
<a name="l03274"></a>03274   }
<a name="l03275"></a>03275   rc = <a class="code" href="group__Subset.html#ge421b5a525d02512cd19d754567598f4">fc_getNumSubset</a>(mesh, &amp;numSubset);
<a name="l03276"></a>03276   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03277"></a>03277     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get subsets for mesh '%s'"</span>,
<a name="l03278"></a>03278                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03279"></a>03279     <span class="keywordflow">return</span> rc;
<a name="l03280"></a>03280   }
<a name="l03281"></a>03281   rc = <a class="code" href="group__Variable.html#g4739277f47b48de079cda9979206a515">fc_getNumVariable</a>(mesh, &amp;numVar);
<a name="l03282"></a>03282   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03283"></a>03283     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get variables for mesh '%s'"</span>,
<a name="l03284"></a>03284                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03285"></a>03285     <span class="keywordflow">return</span> rc;
<a name="l03286"></a>03286   }
<a name="l03287"></a>03287   rc = <a class="code" href="group__Variable.html#gb1d118fd5e0b7b8345b3c13447a1930d">fc_getNumSeqVariable</a>(mesh, &amp;numSeqVar);
<a name="l03288"></a>03288   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03289"></a>03289     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get seq variables for mesh '%s'"</span>,
<a name="l03290"></a>03290                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03291"></a>03291     <span class="keywordflow">return</span> rc;
<a name="l03292"></a>03292   }
<a name="l03293"></a>03293   printf(<span class="stringliteral">"%snumVertex = %d, dim = %d\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, numVertex, dim);
<a name="l03294"></a>03294   printf(<span class="stringliteral">"%snumElement = %d, topodim = %d, elemType = %s\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>,
<a name="l03295"></a>03295          numElement, topodim, <a class="code" href="group__DataTypes.html#gb3fcc2417d4e38eb3cbd511a42048acd">fc_getElementTypeText</a>(elemType));
<a name="l03296"></a>03296   printf(<span class="stringliteral">"%snumSubset = %d\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, numSubset);
<a name="l03297"></a>03297   printf(<span class="stringliteral">"%snumVar = %d, numSeqVar = %d\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, numVar, numSeqVar);
<a name="l03298"></a>03298   fflush(NULL);
<a name="l03299"></a>03299   
<a name="l03300"></a>03300   <span class="comment">// print edge connectivities</span>
<a name="l03301"></a>03301   <span class="keywordflow">if</span> (print_edgeConns &gt; 0) {
<a name="l03302"></a>03302     <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> &lt; 0) {
<a name="l03303"></a>03303       printf(<span class="stringliteral">"%sEdges have not been built for this mesh\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>);
<a name="l03304"></a>03304       fflush(NULL);
<a name="l03305"></a>03305     }
<a name="l03306"></a>03306     <span class="keywordflow">else</span> {
<a name="l03307"></a>03307       rc = <a class="code" href="group__Mesh.html#g0526437d03be312b52b0bbe8bc60a701">fc_getMeshNumEdge</a>(mesh, &amp;numEdge);
<a name="l03308"></a>03308       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03309"></a>03309         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get numEdge for mesh '%s'"</span>,
<a name="l03310"></a>03310                                meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03311"></a>03311         <span class="keywordflow">return</span> rc;
<a name="l03312"></a>03312       }
<a name="l03313"></a>03313       rc = <a class="code" href="group__Mesh.html#gf2e80f30f86823573a2a2e516234eab8">fc_getMeshEdgeConnsPtr</a>(mesh, &amp;ebuf);
<a name="l03314"></a>03314       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03315"></a>03315         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get edge conns for mesh '%s'"</span>,
<a name="l03316"></a>03316                               meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03317"></a>03317         <span class="keywordflow">return</span> rc;
<a name="l03318"></a>03318       }
<a name="l03319"></a>03319       
<a name="l03320"></a>03320       <span class="comment">// print the conns</span>
<a name="l03321"></a>03321       printf(<span class="stringliteral">"%sEdge connectivities (2 vertices per edge):\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>);
<a name="l03322"></a>03322       <span class="keywordflow">for</span> (i = 0; i &lt; numEdge; i++) {
<a name="l03323"></a>03323         printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i);
<a name="l03324"></a>03324         <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {
<a name="l03325"></a>03325           printf(<span class="stringliteral">"%6d "</span>, ebuf[i*2 + j]);
<a name="l03326"></a>03326           fflush(NULL);
<a name="l03327"></a>03327         }
<a name="l03328"></a>03328         printf(<span class="stringliteral">"\n"</span>);
<a name="l03329"></a>03329         fflush(NULL);
<a name="l03330"></a>03330       }
<a name="l03331"></a>03331     }
<a name="l03332"></a>03332   }
<a name="l03333"></a>03333   
<a name="l03334"></a>03334   <span class="comment">// print face connectivities</span>
<a name="l03335"></a>03335   <span class="keywordflow">if</span> (print_faceConns &gt; 0) {
<a name="l03336"></a>03336     <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> &lt; 0) {
<a name="l03337"></a>03337       printf(<span class="stringliteral">"%sFaces have not been built for this mesh\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>);
<a name="l03338"></a>03338       fflush(NULL);
<a name="l03339"></a>03339     }
<a name="l03340"></a>03340     <span class="keywordflow">else</span> {
<a name="l03341"></a>03341       rc = <a class="code" href="group__Mesh.html#g04012a97710d5965ca5c92116cd9389e">fc_getMeshEdgeFaceInfo</a>(mesh, NULL, &amp;numFace, &amp;faceType);
<a name="l03342"></a>03342       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03343"></a>03343         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get edge/face info for mesh '%s'"</span>,
<a name="l03344"></a>03344                               meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03345"></a>03345         <span class="keywordflow">return</span> rc;
<a name="l03346"></a>03346       }
<a name="l03347"></a>03347       rc = <a class="code" href="group__Mesh.html#g216435eac0f72ad3ccb35e44b2df6ca5">fc_getMeshFaceConnsPtr</a>(mesh, &amp;numVertPerFace, &amp;maxNum, &amp;ebuf);
<a name="l03348"></a>03348       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03349"></a>03349         <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get edge conns for mesh '%s'"</span>,
<a name="l03350"></a>03350                               meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03351"></a>03351         <span class="keywordflow">return</span> rc;
<a name="l03352"></a>03352       }
<a name="l03353"></a>03353       
<a name="l03354"></a>03354       <span class="comment">// print the conns</span>
<a name="l03355"></a>03355       <span class="keywordflow">if</span> (faceType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4b477e20533563cf70ccd322b0e21afa4">FC_ET_MIXED</a>)
<a name="l03356"></a>03356         printf(<span class="stringliteral">"%sFace connectivities (faceType = %s, 3 or 4 vertices per "</span>
<a name="l03357"></a>03357                <span class="stringliteral">"element):\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__DataTypes.html#gb3fcc2417d4e38eb3cbd511a42048acd">fc_getElementTypeText</a>(faceType));
<a name="l03358"></a>03358       <span class="keywordflow">else</span>
<a name="l03359"></a>03359         printf(<span class="stringliteral">"%sFace connectivities (faceType = %s, %d vertices per "</span>
<a name="l03360"></a>03360                <span class="stringliteral">"element):\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__DataTypes.html#gb3fcc2417d4e38eb3cbd511a42048acd">fc_getElementTypeText</a>(faceType), 
<a name="l03361"></a>03361                <a class="code" href="group__DataTypes.html#gf75ed80296bf7b5631bf464ea4a4de25">fc_getElementTypeNumVertex</a>(faceType));
<a name="l03362"></a>03362       fflush(NULL);
<a name="l03363"></a>03363       <span class="keywordflow">for</span> (i = 0; i &lt; numFace; i++) {
<a name="l03364"></a>03364         printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i);
<a name="l03365"></a>03365         <span class="keywordflow">for</span> (j = 0; j &lt; numVertPerFace[i]; j++) { 
<a name="l03366"></a>03366           printf(<span class="stringliteral">"%6d "</span>, ebuf[i*maxNum+j]);
<a name="l03367"></a>03367           fflush(NULL);
<a name="l03368"></a>03368         }
<a name="l03369"></a>03369         printf(<span class="stringliteral">"\n"</span>);
<a name="l03370"></a>03370         fflush(NULL);
<a name="l03371"></a>03371       }
<a name="l03372"></a>03372     }
<a name="l03373"></a>03373   }
<a name="l03374"></a>03374   
<a name="l03375"></a>03375   <span class="comment">// print element connectivities</span>
<a name="l03376"></a>03376   <span class="keywordflow">if</span> (print_elemConns &gt; 0) {
<a name="l03377"></a>03377     <span class="keywordtype">int</span> numVertPerElem = <a class="code" href="group__DataTypes.html#gf75ed80296bf7b5631bf464ea4a4de25">fc_getElementTypeNumVertex</a>(elemType);
<a name="l03378"></a>03378     rc = <a class="code" href="group__Mesh.html#g71ce3ca34963dcc548b6a7c38aa17fd9">fc_getMeshElementConnsPtr</a>(mesh, &amp;ebuf);
<a name="l03379"></a>03379     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03380"></a>03380       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get element conns for mesh '%s'"</span>,
<a name="l03381"></a>03381                             meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03382"></a>03382       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l03383"></a>03383     }
<a name="l03384"></a>03384     
<a name="l03385"></a>03385     <span class="comment">// print the conns</span>
<a name="l03386"></a>03386     printf(<span class="stringliteral">"%sElement connectivities (%d vertices per element):\n"</span>, 
<a name="l03387"></a>03387            <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, numVertPerElem);
<a name="l03388"></a>03388     fflush(NULL);
<a name="l03389"></a>03389     <span class="keywordflow">for</span> (i = 0; i &lt; numElement; i++) {
<a name="l03390"></a>03390       printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i);
<a name="l03391"></a>03391       <span class="keywordflow">for</span> (j = 0; j &lt; numVertPerElem; j++) {
<a name="l03392"></a>03392         printf(<span class="stringliteral">"%6d "</span>, ebuf[i*numVertPerElem + j]);
<a name="l03393"></a>03393         fflush(NULL);
<a name="l03394"></a>03394       }
<a name="l03395"></a>03395       printf(<span class="stringliteral">"\n"</span>);
<a name="l03396"></a>03396       fflush(NULL);
<a name="l03397"></a>03397     }
<a name="l03398"></a>03398   }
<a name="l03399"></a>03399   
<a name="l03400"></a>03400   <span class="comment">// print coords</span>
<a name="l03401"></a>03401   <span class="keywordflow">if</span> (print_coords &gt; 0) {
<a name="l03402"></a>03402     rc = <a class="code" href="group__Mesh.html#g44d09391731a139c4efc2c4fb2eda4e7">fc_getMeshCoordsPtr</a>(mesh, &amp;vbuf);
<a name="l03403"></a>03403     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>) {
<a name="l03404"></a>03404       <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get coords for mesh '%s'"</span>,
<a name="l03405"></a>03405                             meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l03406"></a>03406       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l03407"></a>03407     }
<a name="l03408"></a>03408     
<a name="l03409"></a>03409     <span class="comment">// print the coordinates per vertex</span>
<a name="l03410"></a>03410     printf(<span class="stringliteral">"%sVertex Coordinates:\n"</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>);
<a name="l03411"></a>03411     fflush(NULL);
<a name="l03412"></a>03412     <span class="keywordflow">for</span> (i = 0; i &lt; numVertex; i++) {
<a name="l03413"></a>03413       printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#g6b934222896a4b4b02da5ffbb2bd1f83">INDENT_STR</a>, i);
<a name="l03414"></a>03414       <span class="keywordflow">for</span> (j = 0; j &lt; dim; j++) {
<a name="l03415"></a>03415         <span class="comment">// see comment on precision in for DOUBLE case in fc_printVariable()</span>
<a name="l03416"></a>03416         <span class="comment">//printf("%20.15g ", vbuf[i*dim + j]);</span>
<a name="l03417"></a>03417      <span class="keywordflow">switch</span> (print_coords){
<a name="l03418"></a>03418      <span class="keywordflow">case</span> 2:
<a name="l03419"></a>03419        printf(<span class="stringliteral">"%5le "</span>, vbuf[i*dim + j]);
<a name="l03420"></a>03420        <span class="keywordflow">break</span>;
<a name="l03421"></a>03421      <span class="keywordflow">default</span>:
<a name="l03422"></a>03422        printf(<span class="stringliteral">"%16.11g "</span>, vbuf[i*dim + j]);
<a name="l03423"></a>03423        <span class="keywordflow">break</span>;
<a name="l03424"></a>03424      }
<a name="l03425"></a>03425         fflush(NULL);
<a name="l03426"></a>03426       }
<a name="l03427"></a>03427       printf(<span class="stringliteral">"\n"</span>);
<a name="l03428"></a>03428       fflush(NULL);
<a name="l03429"></a>03429     }
<a name="l03430"></a>03430   }
<a name="l03431"></a>03431   
<a name="l03432"></a>03432   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l03433"></a>03433 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g794ab95c549f52f5a7ae932ff450923b"></a><!-- doxytag: member="mesh.c::fc_releaseMesh" ref="g794ab95c549f52f5a7ae932ff450923b" args="(FC_Mesh mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_releaseMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to minimize mesh's memory usage. 
<p>
<b>Description:</b> <p>
Call to try to release un-needed memory in a mesh. If the mesh has been saved to disk, the large data is released. If the mesh has not be saved to disk, all large data is saved.<p>
If internal mesh structures like elements and vertices exists, they may be freed as long as there are no subsets or variables associated with edges or faces.<p>
This function will recursively call release on it's child subsets and variables<p>
<b>Modifications:</b> <ul>
<li>9/27/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l01665">1665</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00112">_FC_MeshSlot::coords</a>, <a class="el" href="meshP_8h-source.html#l00145">_FC_MeshSlot::edgeParentsPerVert</a>, <a class="el" href="meshP_8h-source.html#l00127">_FC_MeshSlot::edgeToVertConns</a>, <a class="el" href="meshP_8h-source.html#l00141">_FC_MeshSlot::elemFaceOrients</a>, <a class="el" href="meshP_8h-source.html#l00170">_FC_MeshSlot::elemNeighsViaEdge</a>, <a class="el" href="meshP_8h-source.html#l00174">_FC_MeshSlot::elemNeighsViaFace</a>, <a class="el" href="meshP_8h-source.html#l00166">_FC_MeshSlot::elemNeighsViaVert</a>, <a class="el" href="meshP_8h-source.html#l00154">_FC_MeshSlot::elemParentsPerEdge</a>, <a class="el" href="meshP_8h-source.html#l00157">_FC_MeshSlot::elemParentsPerFace</a>, <a class="el" href="meshP_8h-source.html#l00151">_FC_MeshSlot::elemParentsPerVert</a>, <a class="el" href="meshP_8h-source.html#l00137">_FC_MeshSlot::elemToEdgeConns</a>, <a class="el" href="meshP_8h-source.html#l00139">_FC_MeshSlot::elemToFaceConns</a>, <a class="el" href="meshP_8h-source.html#l00116">_FC_MeshSlot::elemToVertConns</a>, <a class="el" href="meshP_8h-source.html#l00148">_FC_MeshSlot::faceParentsPerVert</a>, <a class="el" href="meshP_8h-source.html#l00131">_FC_MeshSlot::faceToVertConns</a>, <a class="el" href="meshP_8h-source.html#l00129">_FC_MeshSlot::faceTypes</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>, <a class="el" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="variable_8c-source.html#l02567">fc_getSeqVariables()</a>, <a class="el" href="subset_8c-source.html#l01754">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l00695">fc_getSubsets()</a>, <a class="el" href="variable_8c-source.html#l04309">fc_getVariableInfo()</a>, <a class="el" href="variable_8c-source.html#l02503">fc_getVariables()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00773">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00129">fc_printfWarningMessage</a>, <a class="el" href="variable_8c-source.html#l03802">fc_releaseSeqVariable()</a>, <a class="el" href="subset_8c-source.html#l01546">fc_releaseSubset()</a>, <a class="el" href="variable_8c-source.html#l03755">fc_releaseVariable()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00107">_FC_MeshSlot::numEdge</a>, <a class="el" href="meshP_8h-source.html#l00144">_FC_MeshSlot::numEdgePerVert</a>, <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>, <a class="el" href="meshP_8h-source.html#l00168">_FC_MeshSlot::numElemNeighsViaEdge</a>, <a class="el" href="meshP_8h-source.html#l00172">_FC_MeshSlot::numElemNeighsViaFace</a>, <a class="el" href="meshP_8h-source.html#l00164">_FC_MeshSlot::numElemNeighsViaVert</a>, <a class="el" href="meshP_8h-source.html#l00153">_FC_MeshSlot::numElemPerEdge</a>, <a class="el" href="meshP_8h-source.html#l00156">_FC_MeshSlot::numElemPerFace</a>, <a class="el" href="meshP_8h-source.html#l00150">_FC_MeshSlot::numElemPerVert</a>, <a class="el" href="meshP_8h-source.html#l00109">_FC_MeshSlot::numFace</a>, <a class="el" href="meshP_8h-source.html#l00147">_FC_MeshSlot::numFacePerVert</a>, <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>, <a class="el" href="meshP_8h-source.html#l00160">_FC_MeshSlot::numVertNeighsViaEdge</a>, <a class="el" href="meshP_8h-source.html#l00130">_FC_MeshSlot::numVertPerFace</a>, and <a class="el" href="meshP_8h-source.html#l00162">_FC_MeshSlot::vertNeighsViaEdge</a>.
<p>
Referenced by <a class="el" href="dataset_8c-source.html#l00585">fc_releaseDataset()</a>, and <a class="el" href="fc2ensight_8c-source.html#l00090">main()</a>.<div class="fragment"><pre class="fragment"><a name="l01667"></a>01667   {
<a name="l01668"></a>01668   <span class="keywordtype">int</span> i;
<a name="l01669"></a>01669   <span class="keywordtype">int</span> *numSteps;
<a name="l01670"></a>01670   <a class="code" href="structFC__Subset.html">FC_Subset</a> *subsets;
<a name="l01671"></a>01671   <a class="code" href="structFC__Variable.html">FC_Variable</a> *variables, **seqVariables;
<a name="l01672"></a>01672   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a>* meshSlot;
<a name="l01673"></a>01673   <a class="code" href="group__DataTypes.html#g63044bd7bb5313d8a79ea8a71f1b3040">FC_AssociationType</a> assoc;
<a name="l01674"></a>01674   <span class="keywordtype">int</span> usingEdge, usingFace, numSubset, numVar, numSeqVar;
<a name="l01675"></a>01675   
<a name="l01676"></a>01676   <span class="comment">// special case: releasing a null handle is not an error</span>
<a name="l01677"></a>01677   <span class="keywordflow">if</span> ( <a class="code" href="group__Handles.html#gf1de8e9eed3c2f3c7ffcaa6527fe0adf">FC_HANDLE_EQUIV</a>(mesh, <a class="code" href="group__Handles.html#gae2d5f3d9f81cdfbf228e0dca85c9c75">FC_NULL_MESH</a>)) {
<a name="l01678"></a>01678     <a class="code" href="group__Library.html#gbf7b424a5a96a9887547a6545f03e3e2">fc_printfWarningMessage</a>(<span class="stringliteral">"Releasing FC_NULL_MESH"</span>);
<a name="l01679"></a>01679     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01680"></a>01680   }
<a name="l01681"></a>01681 
<a name="l01682"></a>01682   <span class="comment">// check input</span>
<a name="l01683"></a>01683   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l01684"></a>01684   <span class="keywordflow">if</span> (meshSlot == NULL) {
<a name="l01685"></a>01685     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l01686"></a>01686     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l01687"></a>01687   }
<a name="l01688"></a>01688   
<a name="l01689"></a>01689   <span class="comment">// log message</span>
<a name="l01690"></a>01690   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Cleaning up mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l01691"></a>01691 
<a name="l01692"></a>01692   <span class="comment">// call release on children subsets &amp; variables</span>
<a name="l01693"></a>01693   <span class="comment">// also note whether any children use edges or faces</span>
<a name="l01694"></a>01694   usingEdge = 0;
<a name="l01695"></a>01695   usingFace = 0;
<a name="l01696"></a>01696   <a class="code" href="group__Subset.html#g5c0185b0cab5ac7256fec095a98c3bd0">fc_getSubsets</a>(mesh, &amp;numSubset, &amp;subsets);
<a name="l01697"></a>01697   <span class="keywordflow">for</span> (i = 0; i &lt; numSubset; i++) {
<a name="l01698"></a>01698     <a class="code" href="group__Subset.html#g8a9796c7757ae6e8fe1021fe8429eb3e">fc_releaseSubset</a>(subsets[i]);
<a name="l01699"></a>01699     <a class="code" href="group__Subset.html#g23f364364af36ff74b89ffecf1c4ae28">fc_getSubsetInfo</a>(subsets[i], NULL, NULL, &amp;assoc);
<a name="l01700"></a>01700     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l01701"></a>01701       usingEdge = 1;
<a name="l01702"></a>01702     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>) 
<a name="l01703"></a>01703       usingFace = 1;
<a name="l01704"></a>01704   }
<a name="l01705"></a>01705   free(subsets);
<a name="l01706"></a>01706   <a class="code" href="group__Variable.html#g74cf87c790d013532d9451af1b5f1fbb">fc_getVariables</a>(mesh, &amp;numVar, &amp;variables);
<a name="l01707"></a>01707   <span class="keywordflow">for</span> (i = 0; i &lt; numVar; i++) {
<a name="l01708"></a>01708     <a class="code" href="group__Variable.html#gb575d3f6365288a17c1117311fd99dce">fc_releaseVariable</a>(variables[i]);
<a name="l01709"></a>01709     <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(variables[i], NULL, NULL, &amp;assoc, NULL, NULL); 
<a name="l01710"></a>01710     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l01711"></a>01711       usingEdge = 1;
<a name="l01712"></a>01712     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>) 
<a name="l01713"></a>01713       usingFace = 1;
<a name="l01714"></a>01714   }
<a name="l01715"></a>01715   free(variables);
<a name="l01716"></a>01716   <a class="code" href="group__Variable.html#g93185e07dcdf01ffc87fc28a69ee96ae">fc_getSeqVariables</a>(mesh, &amp;numSeqVar, &amp;numSteps, &amp;seqVariables);
<a name="l01717"></a>01717   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++) {
<a name="l01718"></a>01718     <a class="code" href="group__Variable.html#g6c69f71bf49a208465743d77c291daf3">fc_releaseSeqVariable</a>(numSteps[i], seqVariables[i]);
<a name="l01719"></a>01719     <a class="code" href="group__Variable.html#g415dc8be07262ef04c7c66028bc0217f">fc_getVariableInfo</a>(seqVariables[i][0], NULL, NULL, &amp;assoc, NULL, NULL); 
<a name="l01720"></a>01720     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b3040fb5fd66bec9d026fbfab895c518842d4">FC_AT_EDGE</a>)
<a name="l01721"></a>01721       usingEdge = 1;
<a name="l01722"></a>01722     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg63044bd7bb5313d8a79ea8a71f1b30402787462c13709118df8e232282a530a4">FC_AT_FACE</a>) 
<a name="l01723"></a>01723       usingFace = 1;
<a name="l01724"></a>01724   }
<a name="l01725"></a>01725   free(numSteps);
<a name="l01726"></a>01726   <span class="keywordflow">for</span> (i = 0; i &lt; numSeqVar; i++)
<a name="l01727"></a>01727     free(seqVariables[i]);
<a name="l01728"></a>01728   free(seqVariables);
<a name="l01729"></a>01729              
<a name="l01730"></a>01730   <span class="comment">// remove coords &amp; conns if this slot is committed (they can be reloaded)</span>
<a name="l01731"></a>01731   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l01732"></a>01732     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a>);
<a name="l01733"></a>01733     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> = NULL;
<a name="l01734"></a>01734     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a>);
<a name="l01735"></a>01735     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> = NULL;
<a name="l01736"></a>01736   }
<a name="l01737"></a>01737  
<a name="l01738"></a>01738   <span class="comment">//-- remove parent lists</span>
<a name="l01739"></a>01739   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#27f273dff5dea75258ea8700a0124188">numEdgePerVert</a>);
<a name="l01740"></a>01740   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#27f273dff5dea75258ea8700a0124188">numEdgePerVert</a> = NULL;
<a name="l01741"></a>01741   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#781c54ccd7279a4f100c81563d4d2fef">edgeParentsPerVert</a>)
<a name="l01742"></a>01742       <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>; i++)
<a name="l01743"></a>01743         free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#781c54ccd7279a4f100c81563d4d2fef">edgeParentsPerVert</a>[i]);
<a name="l01744"></a>01744   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#781c54ccd7279a4f100c81563d4d2fef">edgeParentsPerVert</a>);
<a name="l01745"></a>01745   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#781c54ccd7279a4f100c81563d4d2fef">edgeParentsPerVert</a> = NULL;
<a name="l01746"></a>01746   <span class="comment">//--</span>
<a name="l01747"></a>01747   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#cf5c097faa41b0c28da1b06d03845427">numFacePerVert</a>);
<a name="l01748"></a>01748   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#cf5c097faa41b0c28da1b06d03845427">numFacePerVert</a> = NULL;
<a name="l01749"></a>01749   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#d01e3243eb5d76da1553022702f3bb05">faceParentsPerVert</a>)
<a name="l01750"></a>01750     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>; i++)
<a name="l01751"></a>01751       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#d01e3243eb5d76da1553022702f3bb05">faceParentsPerVert</a>[i]);
<a name="l01752"></a>01752   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#d01e3243eb5d76da1553022702f3bb05">faceParentsPerVert</a>);
<a name="l01753"></a>01753   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#d01e3243eb5d76da1553022702f3bb05">faceParentsPerVert</a> = NULL;
<a name="l01754"></a>01754   <span class="comment">//--</span>
<a name="l01755"></a>01755   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c58258f60758bb9baacab925e0713f9d">numElemPerVert</a>);
<a name="l01756"></a>01756   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c58258f60758bb9baacab925e0713f9d">numElemPerVert</a> = NULL;
<a name="l01757"></a>01757   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e7612f00a791b9bd114ab686a652606">elemParentsPerVert</a>)
<a name="l01758"></a>01758     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>; i++)
<a name="l01759"></a>01759       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e7612f00a791b9bd114ab686a652606">elemParentsPerVert</a>[i]);
<a name="l01760"></a>01760   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e7612f00a791b9bd114ab686a652606">elemParentsPerVert</a>);
<a name="l01761"></a>01761   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e7612f00a791b9bd114ab686a652606">elemParentsPerVert</a> = NULL;
<a name="l01762"></a>01762   <span class="comment">//--</span>
<a name="l01763"></a>01763   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a03fd226f699bb94c93abc4d0aa0aac9">numElemPerEdge</a>);
<a name="l01764"></a>01764   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a03fd226f699bb94c93abc4d0aa0aac9">numElemPerEdge</a> = NULL;
<a name="l01765"></a>01765   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b716bcbaa7e473bc902986f5a4ff44b9">elemParentsPerEdge</a>)
<a name="l01766"></a>01766     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a>; i++)
<a name="l01767"></a>01767       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b716bcbaa7e473bc902986f5a4ff44b9">elemParentsPerEdge</a>[i]);
<a name="l01768"></a>01768   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b716bcbaa7e473bc902986f5a4ff44b9">elemParentsPerEdge</a>);
<a name="l01769"></a>01769   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b716bcbaa7e473bc902986f5a4ff44b9">elemParentsPerEdge</a> = NULL;
<a name="l01770"></a>01770   <span class="comment">//--</span>
<a name="l01771"></a>01771   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#999d610f8edd3ff321c461260c7edea6">numElemPerFace</a>);
<a name="l01772"></a>01772   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#999d610f8edd3ff321c461260c7edea6">numElemPerFace</a> = NULL;
<a name="l01773"></a>01773   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#0e60fd488d0f6d69495bc44edb4140d3">elemParentsPerFace</a>)
<a name="l01774"></a>01774     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a>; i++)
<a name="l01775"></a>01775       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#0e60fd488d0f6d69495bc44edb4140d3">elemParentsPerFace</a>[i]);
<a name="l01776"></a>01776   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#0e60fd488d0f6d69495bc44edb4140d3">elemParentsPerFace</a>);
<a name="l01777"></a>01777   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#0e60fd488d0f6d69495bc44edb4140d3">elemParentsPerFace</a> = NULL;
<a name="l01778"></a>01778 
<a name="l01779"></a>01779   <span class="comment">//-- remove neighbor lists</span>
<a name="l01780"></a>01780   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c72d1a414aecd941509704342f4cd88d">numVertNeighsViaEdge</a>);
<a name="l01781"></a>01781   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c72d1a414aecd941509704342f4cd88d">numVertNeighsViaEdge</a> = NULL;
<a name="l01782"></a>01782   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#da3e5d81e93741c0749c7e6be564b901">vertNeighsViaEdge</a>)
<a name="l01783"></a>01783     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a>; i++)
<a name="l01784"></a>01784       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#da3e5d81e93741c0749c7e6be564b901">vertNeighsViaEdge</a>[i]);
<a name="l01785"></a>01785   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#da3e5d81e93741c0749c7e6be564b901">vertNeighsViaEdge</a>);
<a name="l01786"></a>01786   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#da3e5d81e93741c0749c7e6be564b901">vertNeighsViaEdge</a> = NULL;
<a name="l01787"></a>01787   <span class="comment">//--</span>
<a name="l01788"></a>01788   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a1ea39e65829c2b92a63d6d1823c7efd">numElemNeighsViaVert</a>);
<a name="l01789"></a>01789   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a1ea39e65829c2b92a63d6d1823c7efd">numElemNeighsViaVert</a> = NULL;
<a name="l01790"></a>01790   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c766bf347bf4e1ec0b6316ac966ca8a5">elemNeighsViaVert</a>)
<a name="l01791"></a>01791     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>; i++)
<a name="l01792"></a>01792       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c766bf347bf4e1ec0b6316ac966ca8a5">elemNeighsViaVert</a>[i]);
<a name="l01793"></a>01793   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c766bf347bf4e1ec0b6316ac966ca8a5">elemNeighsViaVert</a>);
<a name="l01794"></a>01794   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c766bf347bf4e1ec0b6316ac966ca8a5">elemNeighsViaVert</a> = NULL;
<a name="l01795"></a>01795   <span class="comment">//--</span>
<a name="l01796"></a>01796   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#e3606d932329b6ab14b3cd9792d739b3">numElemNeighsViaEdge</a>);
<a name="l01797"></a>01797   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#e3606d932329b6ab14b3cd9792d739b3">numElemNeighsViaEdge</a> = NULL;
<a name="l01798"></a>01798   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f4ec5d8f6d4d7ca02c0a0788175a280">elemNeighsViaEdge</a>)
<a name="l01799"></a>01799     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>; i++)
<a name="l01800"></a>01800       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f4ec5d8f6d4d7ca02c0a0788175a280">elemNeighsViaEdge</a>[i]);
<a name="l01801"></a>01801   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f4ec5d8f6d4d7ca02c0a0788175a280">elemNeighsViaEdge</a>);
<a name="l01802"></a>01802   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f4ec5d8f6d4d7ca02c0a0788175a280">elemNeighsViaEdge</a> = NULL;
<a name="l01803"></a>01803   <span class="comment">//--</span>
<a name="l01804"></a>01804   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#48e4d9f69b994a7aba7352d356ce9eb7">numElemNeighsViaFace</a>);
<a name="l01805"></a>01805   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#48e4d9f69b994a7aba7352d356ce9eb7">numElemNeighsViaFace</a> = NULL;
<a name="l01806"></a>01806   if (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8bbbb91712b8a380194aa52d6da0a6b6">elemNeighsViaFace</a>)
<a name="l01807"></a>01807     for (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a>; i++)
<a name="l01808"></a>01808       free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8bbbb91712b8a380194aa52d6da0a6b6">elemNeighsViaFace</a>[i]);
<a name="l01809"></a>01809   free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8bbbb91712b8a380194aa52d6da0a6b6">elemNeighsViaFace</a>);
<a name="l01810"></a>01810   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8bbbb91712b8a380194aa52d6da0a6b6">elemNeighsViaFace</a> = NULL;
<a name="l01811"></a>01811 
<a name="l01812"></a>01812   <span class="comment">// if no subsets or variables use edges or faces, conns &amp; associated data</span>
<a name="l01813"></a>01813   <span class="comment">// do this last because we might want numEdge or numFace</span>
<a name="l01814"></a>01814   if (!usingEdge) {
<a name="l01815"></a>01815     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#dee014332b4b769341ef7d5ddbbb0119">edgeToVertConns</a>);
<a name="l01816"></a>01816     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#dee014332b4b769341ef7d5ddbbb0119">edgeToVertConns</a> = NULL;
<a name="l01817"></a>01817     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ed4d885498d8b4f21c8bab1cb84e6704">elemToEdgeConns</a>);
<a name="l01818"></a>01818     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ed4d885498d8b4f21c8bab1cb84e6704">elemToEdgeConns</a> = NULL;
<a name="l01819"></a>01819     <span class="comment">//-- set edges back to "unknown"</span>
<a name="l01820"></a>01820     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#ec8ba0b583ced396dccc1b691dbb834e">numEdge</a> = -1;
<a name="l01821"></a>01821   }
<a name="l01822"></a>01822   <span class="keywordflow">if</span> (!usingFace) {
<a name="l01823"></a>01823     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a788c25eeecbdee94e1de09829b45710">faceTypes</a>);
<a name="l01824"></a>01824     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#a788c25eeecbdee94e1de09829b45710">faceTypes</a> = NULL;
<a name="l01825"></a>01825     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c0a60f32c8b5e5750dce28a7b08db82e">numVertPerFace</a>);
<a name="l01826"></a>01826     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c0a60f32c8b5e5750dce28a7b08db82e">numVertPerFace</a> = NULL;
<a name="l01827"></a>01827     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9e85f56450fb8e9221b19c45a3b3d905">faceToVertConns</a>);
<a name="l01828"></a>01828     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9e85f56450fb8e9221b19c45a3b3d905">faceToVertConns</a> = NULL;
<a name="l01829"></a>01829     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#07d4e7a233f39a53dd269cfcf10315bf">elemToFaceConns</a>);
<a name="l01830"></a>01830     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#07d4e7a233f39a53dd269cfcf10315bf">elemToFaceConns</a> = NULL;
<a name="l01831"></a>01831     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#77983b179d5535a4dca14501d9c820bb">elemFaceOrients</a>);
<a name="l01832"></a>01832     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#77983b179d5535a4dca14501d9c820bb">elemFaceOrients</a> = NULL;
<a name="l01833"></a>01833     <span class="comment">//-- set faces back to "unknown"</span>
<a name="l01834"></a>01834     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64e61fae7983a2c4758c008f46970c4b">numFace</a> = -1;
<a name="l01835"></a>01835   }
<a name="l01836"></a>01836 
<a name="l01837"></a>01837   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l01838"></a>01838 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga17885c11234d1a1421cdb1a7d118315"></a><!-- doxytag: member="mesh.c::fc_setMeshCoords" ref="ga17885c11234d1a1421cdb1a7d118315" args="(FC_Mesh mesh, int dim, int numVertex, double *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setMeshCoords           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numVertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the mesh coordinates by copy. 
<p>
<b>Description:</b> <p>
Set the coordinate values for the vertices in a mesh. The dim parameter is the number of spatial dimensions a vertex exists in. The coords array should contain dim*numVertex floating point numbers. The order is interleaved, that is your give all coordinates values for each vertex (e.g. XYZXYZ ...).<p>
This routine makes a copy of the vertices for the library, so the user remains responsible for freeing the original array. If you would like to give the coordinates array to the mesh instead of just copying them, use <a class="el" href="group__Mesh.html#gd49edafdfdda60b392d3a24803869b50">fc_setMeshCoordsPtr()</a>.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins Created.</li><li>12/09/03 WSK Changed so that it creates a coordinate variable</li><li>09/13/04 WSK Changed so you cannot reset coords </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>dim</em>&nbsp;</td><td>
input - number of dimensions in 1 vertex </td></tr>
<tr><td valign="top"><em>numVertex</em>&nbsp;</td><td>
input - vertex count </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
input - array of vertex data </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00193">193</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00112">_FC_MeshSlot::coords</a>, <a class="el" href="meshP_8h-source.html#l00100">_FC_MeshSlot::dim</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="geom_8c-source.html#l01069">fc_createBoundingBoxMesh()</a>, and <a class="el" href="seriesAnalyzer_8c-source.html#l00198">setupDataset()</a>.<div class="fragment"><pre class="fragment"><a name="l00198"></a>00198   {
<a name="l00199"></a>00199   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a> *meshSlot;
<a name="l00200"></a>00200   
<a name="l00201"></a>00201   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetMeshCoordsPtr()</span>
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="comment">// check input</span>
<a name="l00204"></a>00204   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l00205"></a>00205   <span class="keywordflow">if</span> (meshSlot == NULL || dim &lt; 1 || dim &gt; 3 || numVertex &lt; 1 || 
<a name="l00206"></a>00206       coords == NULL) {
<a name="l00207"></a>00207     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00208"></a>00208     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00209"></a>00209   }
<a name="l00210"></a>00210   
<a name="l00211"></a>00211   <span class="comment">// a little more checking -- can't overwrite coords</span>
<a name="l00212"></a>00212   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> != NULL || meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00213"></a>00213     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on mesh '%s'"</span>,
<a name="l00214"></a>00214                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00215"></a>00215     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00216"></a>00216   }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   <span class="comment">// log message</span>
<a name="l00219"></a>00219   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting vertex coords on mesh '%s'"</span>, 
<a name="l00220"></a>00220                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00221"></a>00221 
<a name="l00222"></a>00222   <span class="comment">// copy meta data</span>
<a name="l00223"></a>00223   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a> = numVertex;
<a name="l00224"></a>00224   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a> = dim;
<a name="l00225"></a>00225   
<a name="l00226"></a>00226   <span class="comment">// big data</span>
<a name="l00227"></a>00227   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * numVertex * dim);
<a name="l00228"></a>00228   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> == NULL) {
<a name="l00229"></a>00229     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00230"></a>00230     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00231"></a>00231   }
<a name="l00232"></a>00232   memcpy(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a>, coords, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*numVertex*dim);
<a name="l00233"></a>00233   
<a name="l00234"></a>00234   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00235"></a>00235 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gd49edafdfdda60b392d3a24803869b50"></a><!-- doxytag: member="mesh.c::fc_setMeshCoordsPtr" ref="gd49edafdfdda60b392d3a24803869b50" args="(FC_Mesh mesh, int dim, int numVertex, double *coords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setMeshCoordsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numVertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>coords</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the pointer to the mesh coordinates. 
<p>
<b>Description:</b> <p>
Set the coordinate values for the vertices in a mesh. The dim parameter is the number of spatial dimensions a vertex exists in. The coords array should contain dim*numVertex floating point numbers. The order is interleaved, that is your give all coordinates values for each vertex (e.g. XYZXYZ ...).<p>
This routine passes the coords array directly to the library, so the user no longer has responsibility of the original buffer. If you would like to keep the coords array, you should use <a class="el" href="group__Mesh.html#ga17885c11234d1a1421cdb1a7d118315">fc_setMeshCoords()</a> instead which makes a copy of the coords array.<p>
You cannot set coords if they already exist.<p>
<b>Modifications:</b> <ul>
<li>10/01/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>dim</em>&nbsp;</td><td>
input - number of dimensions in 1 vertex </td></tr>
<tr><td valign="top"><em>numVertex</em>&nbsp;</td><td>
input - vertex count </td></tr>
<tr><td valign="top"><em>coords</em>&nbsp;</td><td>
input - array of vertex data </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00259">259</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00112">_FC_MeshSlot::coords</a>, <a class="el" href="meshP_8h-source.html#l00100">_FC_MeshSlot::dim</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00103">_FC_MeshSlot::numVertex</a>.
<p>
Referenced by <a class="el" href="fileio_8c-source.html#l00462">_fc_makeMeshFromFiles()</a>, <a class="el" href="mesh_8c-source.html#l01299">fc_createSimpleHexMesh()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00264"></a>00264   {
<a name="l00265"></a>00265   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a> *meshSlot;
<a name="l00266"></a>00266   
<a name="l00267"></a>00267   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetMeshCoords()</span>
<a name="l00268"></a>00268 
<a name="l00269"></a>00269   <span class="comment">// check input</span>
<a name="l00270"></a>00270   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l00271"></a>00271   <span class="keywordflow">if</span> (meshSlot == NULL || dim &lt; 1 || dim &gt; 3 || numVertex &lt; 1 || 
<a name="l00272"></a>00272       coords == NULL) {
<a name="l00273"></a>00273     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));
<a name="l00274"></a>00274     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00275"></a>00275   }
<a name="l00276"></a>00276   
<a name="l00277"></a>00277   <span class="comment">// a little more checking -- can't overwrite coords</span>
<a name="l00278"></a>00278   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> != NULL || meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00279"></a>00279     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Coords already exist on mesh '%s'"</span>,
<a name="l00280"></a>00280                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00281"></a>00281     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00282"></a>00282   }
<a name="l00283"></a>00283 
<a name="l00284"></a>00284   <span class="comment">// log message</span>
<a name="l00285"></a>00285   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting vertex coords on mesh '%s'"</span>, 
<a name="l00286"></a>00286                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288   <span class="comment">// copy meta data</span>
<a name="l00289"></a>00289   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#4eebbe2358a8875f66f19213cef413b1">numVertex</a> = numVertex;
<a name="l00290"></a>00290   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#9f1a1f2671f25c0d05c383d68a45fb4e">dim</a> = dim;
<a name="l00291"></a>00291   
<a name="l00292"></a>00292   <span class="comment">// big data</span>
<a name="l00293"></a>00293   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#7d2a148208038b7cf0ee7e3b9510fdb4">coords</a> = coords;
<a name="l00294"></a>00294   
<a name="l00295"></a>00295   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00296"></a>00296 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gd5ca47af0316847926ce72532ae605a9"></a><!-- doxytag: member="mesh.c::fc_setMeshElementConns" ref="gd5ca47af0316847926ce72532ae605a9" args="(FC_Mesh mesh, FC_ElementType elemType, int numElem, int *connectivities)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setMeshElementConns           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a>&nbsp;</td>
          <td class="paramname"> <em>elemType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numElem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>connectivities</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the mesh element to vertex connectivities by copy. 
<p>
<b>Description:</b> <p>
Set the element to vertex connectivities for the mesh. Meshes can only be made of one element type and the connectivity array should be numElem*(number of vertices per element) long. The order is interleave, that is you give the vertex IDs for each element (e.g. E1V1 E1V2 ... E1V6 E2V1 E2V2 ... E2V6 E3V1 ...).<p>
This routine makes a copy of the conns for the library, so the user remains responsible for freeing the original array. If you would like to give the conns array to the mesh instead of just copying them, use <a class="el" href="group__Mesh.html#gbb354f851c7ec2f20f2921fd5a76cf02">fc_setMeshElementConnsPtr()</a>.<p>
You cannot set conns if they already exist.<p>
<b>Modifications:</b> <ul>
<li>Nancy Collins, Created.</li><li>09/13/04 WSK Changed so you cannot reset conns </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>elemType</em>&nbsp;</td><td>
input - element type </td></tr>
<tr><td valign="top"><em>numElem</em>&nbsp;</td><td>
input - count of elements </td></tr>
<tr><td valign="top"><em>connectivities</em>&nbsp;</td><td>
input - array of vertex IDs for each element </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00321">321</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00116">_FC_MeshSlot::elemToVertConns</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8h-source.html#l00129">FC_ET_MIXED</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00549">fc_getElementTypeNumVertex()</a>, <a class="el" href="base_8c-source.html#l00513">fc_getElementTypeTopoDim()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00211">fc_isElementTypeValid()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>, and <a class="el" href="meshP_8h-source.html#l00101">_FC_MeshSlot::topodim</a>.
<p>
Referenced by <a class="el" href="mesh_8c-source.html#l00460">fc_copyMesh()</a>, <a class="el" href="geom_8c-source.html#l01069">fc_createBoundingBoxMesh()</a>, and <a class="el" href="geomExtract_8c-source.html#l00060">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00326"></a>00326   {
<a name="l00327"></a>00327   <span class="comment">//FC_ReturnCode rc;</span>
<a name="l00328"></a>00328   <span class="keywordtype">int</span> num;
<a name="l00329"></a>00329   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a> *meshSlot;
<a name="l00330"></a>00330   
<a name="l00331"></a>00331   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetMeshElementConnsPtr()</span>
<a name="l00332"></a>00332 
<a name="l00333"></a>00333   <span class="comment">// check input</span>
<a name="l00334"></a>00334   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l00335"></a>00335   <span class="keywordflow">if</span> (meshSlot == NULL || numElem &lt; 1 || !<a class="code" href="group__DataTypes.html#gf9553f775bc767c21a342699f84396b9">fc_isElementTypeValid</a>(elemType) ||
<a name="l00336"></a>00336       elemType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a> || elemType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4b477e20533563cf70ccd322b0e21afa4">FC_ET_MIXED</a> ||
<a name="l00337"></a>00337       connectivities == NULL) {
<a name="l00338"></a>00338     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));    
<a name="l00339"></a>00339     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00340"></a>00340   }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342   <span class="comment">// a little more checking -- can't overwrite conns</span>
<a name="l00343"></a>00343   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> != NULL || meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00344"></a>00344     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Elem-to-vert conns already exist on mesh '%s'"</span>, 
<a name="l00345"></a>00345                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00346"></a>00346     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00347"></a>00347   }
<a name="l00348"></a>00348 
<a name="l00349"></a>00349   <span class="comment">// log message</span>
<a name="l00350"></a>00350   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting elements on mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00351"></a>00351 
<a name="l00352"></a>00352   <span class="comment">// copy meta data</span>
<a name="l00353"></a>00353   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a> = numElem;
<a name="l00354"></a>00354   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a> = elemType;
<a name="l00355"></a>00355   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#52c0f98d888a8ff9934d02b715699a76">topodim</a> = <a class="code" href="group__DataTypes.html#g084dc2cd606d72f5768b8e92afa9496a">fc_getElementTypeTopoDim</a>(elemType);
<a name="l00356"></a>00356   
<a name="l00357"></a>00357   <span class="comment">// copy element buffer</span>
<a name="l00358"></a>00358   num = numElem * <a class="code" href="group__DataTypes.html#gf75ed80296bf7b5631bf464ea4a4de25">fc_getElementTypeNumVertex</a>(elemType);
<a name="l00359"></a>00359   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * num);
<a name="l00360"></a>00360   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> == NULL) {
<a name="l00361"></a>00361     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>));
<a name="l00362"></a>00362     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52ee4bf428a2cdead5d4e3e3391a2cdab0d">FC_MEMORY_ERROR</a>;
<a name="l00363"></a>00363   }
<a name="l00364"></a>00364   memcpy(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a>, connectivities, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*num);
<a name="l00365"></a>00365   
<a name="l00366"></a>00366   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00367"></a>00367 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gbb354f851c7ec2f20f2921fd5a76cf02"></a><!-- doxytag: member="mesh.c::fc_setMeshElementConnsPtr" ref="gbb354f851c7ec2f20f2921fd5a76cf02" args="(FC_Mesh mesh, FC_ElementType elemType, int numElem, int *connectivities)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a816f8eddef0c2d8c2e3a0393b1f52e">FC_ReturnCode</a> fc_setMeshElementConnsPtr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g5d0bf8bd47afb81d89d4c5d60c7d62b4">FC_ElementType</a>&nbsp;</td>
          <td class="paramname"> <em>elemType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numElem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>connectivities</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the pointer to the mesh element connectivities. 
<p>
<b>Description:</b> <p>
Set the element to vertex connectivities for the mesh. Meshes can only be made of one element type and the connectivity array should be numElem*(number of vertices per element) long. The order is interleave, that is you give the vertex IDs for each element (e.g. E1V1 E1V2 ... E1V6 E2V1 E2V2 ... E2V6 E3V1 ...).<p>
This routine passes the conns array directly to the library, so the user no longer has responsibility of the original buffer. If you would like to keep the conns array, you should use <a class="el" href="group__Mesh.html#gd5ca47af0316847926ce72532ae605a9">fc_setMeshElementConns()</a> instead which makes a copy of the conns array.<p>
You cannot set conns if they already exist.<p>
<b>Modifications:</b> <ul>
<li>10/01/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>elemType</em>&nbsp;</td><td>
input - element type </td></tr>
<tr><td valign="top"><em>numElem</em>&nbsp;</td><td>
input - count of elements </td></tr>
<tr><td valign="top"><em>connectivities</em>&nbsp;</td><td>
input - array of vertex IDs for each element </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="mesh_8c-source.html#l00391">391</a> of file <a class="el" href="mesh_8c-source.html">mesh.c</a>.
<p>
References <a class="el" href="mesh_8c-source.html#l05256">_fc_getMeshSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="meshP_8h-source.html#l00116">_FC_MeshSlot::elemToVertConns</a>, <a class="el" href="meshP_8h-source.html#l00105">_FC_MeshSlot::elemType</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>, <a class="el" href="base_8h-source.html#l00129">FC_ET_MIXED</a>, <a class="el" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00513">fc_getElementTypeTopoDim()</a>, <a class="el" href="base_8c-source.html#l00354">fc_getReturnCodeText()</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00211">fc_isElementTypeValid()</a>, <a class="el" href="library_8h-source.html#l00096">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00162">fc_printfLogMessage</a>, <a class="el" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00104">_FC_MeshSlot::numElement</a>, and <a class="el" href="meshP_8h-source.html#l00101">_FC_MeshSlot::topodim</a>.
<p>
Referenced by <a class="el" href="fileio_8c-source.html#l00462">_fc_makeMeshFromFiles()</a>, <a class="el" href="mesh_8c-source.html#l01299">fc_createSimpleHexMesh()</a>, <a class="el" href="mesh_8c-source.html#l00713">fc_createSubsetMesh()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00396"></a>00396   {
<a name="l00397"></a>00397   <a class="code" href="struct__FC__MeshSlot.html">_FC_MeshSlot</a> *meshSlot;
<a name="l00398"></a>00398   
<a name="l00399"></a>00399   <span class="comment">// NOTE!: if you change stuff here, also change fc_setSetMeshElementConns()</span>
<a name="l00400"></a>00400 
<a name="l00401"></a>00401   <span class="comment">// check input</span>
<a name="l00402"></a>00402   meshSlot = <a class="code" href="group__PrivateMesh.html#g703c4929b726214df4d4cb3e1ab9d7d0">_fc_getMeshSlot</a>(mesh);
<a name="l00403"></a>00403   <span class="keywordflow">if</span> (meshSlot == NULL || numElem &lt; 1 || !<a class="code" href="group__DataTypes.html#gf9553f775bc767c21a342699f84396b9">fc_isElementTypeValid</a>(elemType) ||
<a name="l00404"></a>00404       elemType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b482f13396326035faaa6778b457101a3e">FC_ET_UNKNOWN</a> || elemType == <a class="code" href="group__DataTypes.html#gg5d0bf8bd47afb81d89d4c5d60c7d62b4b477e20533563cf70ccd322b0e21afa4">FC_ET_MIXED</a> ||
<a name="l00405"></a>00405       connectivities == NULL) {
<a name="l00406"></a>00406     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g97ca6452d8a5b6625a2c02166dc87bb7">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>));    
<a name="l00407"></a>00407     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e4905abab801292d8b6338a89462b8e22">FC_INPUT_ERROR</a>;
<a name="l00408"></a>00408   }
<a name="l00409"></a>00409 
<a name="l00410"></a>00410   <span class="comment">// a little more checking -- can't overwrite conns</span>
<a name="l00411"></a>00411   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> != NULL || meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#0c529177276a4cb118cedda6399e7d1e">committed</a> == 1) {
<a name="l00412"></a>00412     <a class="code" href="group__Library.html#gb41a63cb101314fb41df98cef504a556">fc_printfErrorMessage</a>(<span class="stringliteral">"Elem-to-vert conns already exist on mesh '%s'"</span>, 
<a name="l00413"></a>00413                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00414"></a>00414     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e51d318f8c97c8b094cf9820b51e4fa83">FC_ERROR</a>;
<a name="l00415"></a>00415   }
<a name="l00416"></a>00416 
<a name="l00417"></a>00417   <span class="comment">// log message</span>
<a name="l00418"></a>00418   <a class="code" href="group__Library.html#g523b10264df36531b23de2260393db30">fc_printfLogMessage</a>(<span class="stringliteral">"Setting elements on mesh '%s'"</span>, meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8acdc27c257edccc827cd77bf05e4f13">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a3977050dc75352e26c943617ee4fcd8">name</a>);
<a name="l00419"></a>00419 
<a name="l00420"></a>00420   <span class="comment">// copy meta data</span>
<a name="l00421"></a>00421   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#05ec1ce24df154c9da716312aedbe389">numElement</a> = numElem;
<a name="l00422"></a>00422   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e6059de76087bd47dac7a8b0f882687">elemType</a> = elemType;
<a name="l00423"></a>00423   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#52c0f98d888a8ff9934d02b715699a76">topodim</a> = <a class="code" href="group__DataTypes.html#g084dc2cd606d72f5768b8e92afa9496a">fc_getElementTypeTopoDim</a>(elemType);
<a name="l00424"></a>00424   
<a name="l00425"></a>00425   <span class="comment">// copy element buffer</span>
<a name="l00426"></a>00426   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#c191528ed5a04dc6134f4977bcef3037">elemToVertConns</a> = connectivities;
<a name="l00427"></a>00427   
<a name="l00428"></a>00428   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a816f8eddef0c2d8c2e3a0393b1f52e27738acee5b8b2ef61be6e9b14a26613">FC_SUCCESS</a>;
<a name="l00429"></a>00429 }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Oct 31 11:10:01 2007 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
