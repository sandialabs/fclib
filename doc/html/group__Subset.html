<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FCLib: Subset</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Subset<br>
<small>
[<a class="el" href="group__DataInterface.html">Data Interface</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for Subset:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__Subset.gif" border="0" alt="" usemap="#group____Subset_map">
<map name="group____Subset_map">
<area shape="rect" href="group__PrivateSubset.html" title="(Private)" alt="" coords="300,5,380,32"><area shape="rect" href="group__DataInterface.html" title="Primary interface between computational routines and actual data." alt="" coords="5,5,131,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Operations on subsets. 
<p>
<b>Description:</b> <p>
Sequence subsets are stored as an array of subsets. If a function does not have a seqSubset version, in many cases you can call the subset version on the first varaible in the seqSubset array and get the results you expect, e.g., fc_getSubsetInfo(seqSubset[0],...). In some cases you would need to loop over all subsets in the seqSubset array, .e.g, fc_getSubsetMembersAsArray(seqSubset[i], ...). (For an explanation of general data manipulations, see <a class="el" href="group__DataInterface.html">Data Interface</a>.) 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PrivateSubset.html">(Private)</a></td></tr>

<tr><td colspan="2"><br><h2>Create new subset from scratch.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88">fc_createSubset</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char *subsetName, <a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> assoc, <a class="el" href="structFC__Subset.html">FC_Subset</a> *subset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new subset on a specified mesh.  <a href="#gccbfd6035cd0b949a4fac98888348e88"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g191b1ead181046000179a07f01f4c75b">fc_createSeqSubset</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *subsetName, <a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> assoc, int *numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> **seqSubs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new sequence subset on a specified mesh.  <a href="#g191b1ead181046000179a07f01f4c75b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Other ways to get new subsets.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g8c233583d14e8205bbfe4aca0d196772">fc_copySubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> destMesh, char *newSubsetName, <a class="el" href="structFC__Subset.html">FC_Subset</a> *newSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy subset to a new subset.  <a href="#g8c233583d14e8205bbfe4aca0d196772"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g7616467eaa4ac4794dfe02ae05ce3289">fc_copySeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *src_seqSubset, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> dest_mesh, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> dest_seq, char *newName, <a class="el" href="structFC__Subset.html">FC_Subset</a> **new_seqSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy seq subset.  <a href="#g7616467eaa4ac4794dfe02ae05ce3289"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g1d8a7a849bbe47f74cf5af76a5f88077">fc_convertSubsetsToSeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *subs, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> sequence, char *new_name, <a class="el" href="structFC__Subset.html">FC_Subset</a> **seqSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert an array of basic subsets into a sequence subset.  <a href="#g1d8a7a849bbe47f74cf5af76a5f88077"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gdfeb3c1ffc54043f2139f3e653471860">fc_convertSeqSubsetToSubsets</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *seqSubset, char *new_name, <a class="el" href="structFC__Subset.html">FC_Subset</a> **subsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a sequence subset into an array of normal subsets.  <a href="#gdfeb3c1ffc54043f2139f3e653471860"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g9d45e65acedb565fa3aff9483423236b">fc_copySubsetWithNewAssociation</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, char *newSubsetName, <a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> new_assoc, int <a class="el" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a>, <a class="el" href="structFC__Subset.html">FC_Subset</a> *newSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create copy subset associated with a different mesh entity type.  <a href="#g9d45e65acedb565fa3aff9483423236b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g3a49a5ba4d326c47af68da14be364bf8">fc_createSubsetComplement</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, char *newSubsetName, <a class="el" href="structFC__Subset.html">FC_Subset</a> *newSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create subset containing complement of the subset (NOT operator).  <a href="#g3a49a5ba4d326c47af68da14be364bf8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gebbcc05ef1a5287612b7767903e69b68">fc_createSubsetIntersection</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset1, char *operation, <a class="el" href="structFC__Subset.html">FC_Subset</a> subset2, char *newSubsetName, <a class="el" href="structFC__Subset.html">FC_Subset</a> *newSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create subset based on intersection of two input subsets.  <a href="#gebbcc05ef1a5287612b7767903e69b68"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get subset.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gb12aea784bf43ec6a29a8e51a3c0da51">fc_getSubsets</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numSubset, <a class="el" href="structFC__Subset.html">FC_Subset</a> **subsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the subsets in a mesh.  <a href="#gb12aea784bf43ec6a29a8e51a3c0da51"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g17815a36b74d5568de04398ca4bd4bf4">fc_getSeqSubsets</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numSeqSubs, int **numStepPerSub, <a class="el" href="structFC__Subset.html">FC_Subset</a> ***seqSubs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the seq subsets in a mesh.  <a href="#g17815a36b74d5568de04398ca4bd4bf4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gc9ec4bca2e0ee52d54c9718d6a54fd4b">fc_getNumSubset</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of subsets in a mesh.  <a href="#gc9ec4bca2e0ee52d54c9718d6a54fd4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#ga695f5af84135aef9b92b8fe5426e949">fc_getNumSeqSubset</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, int *numSeqSubset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of seq subsets in a mesh.  <a href="#ga695f5af84135aef9b92b8fe5426e949"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g4a86210a00bac9a23256e57f6c161a36">fc_getSubsetByName</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char *subName, int *numSubsets, <a class="el" href="structFC__Subset.html">FC_Subset</a> **subsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get subsets of a given name from a mesh.  <a href="#g4a86210a00bac9a23256e57f6c161a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g8c716790e46730881b4f2438d2c5bbbb">fc_getSeqSubsetByName</a> (<a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh, char *subName, int *numSeqSubset, int **numStepPerSubset, <a class="el" href="structFC__Subset.html">FC_Subset</a> ***seqSubsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get sequence subsets of a given name from the mesh.  <a href="#g8c716790e46730881b4f2438d2c5bbbb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Subset comparisons.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gb7080f044773d103b850e93c3e023a44">fc_doSubsetsIntersect</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset1, <a class="el" href="structFC__Subset.html">FC_Subset</a> subset2, int *indicator)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if two subsets intersect.  <a href="#gb7080f044773d103b850e93c3e023a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gc645c9d211fb235acd08870890794c43">fc_isSubsetSuperset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset_super, <a class="el" href="structFC__Subset.html">FC_Subset</a> subset_sub, int *indicator)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if first subset is a superset of the second subset.  <a href="#gc645c9d211fb235acd08870890794c43"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Change the name of a subset.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gb0b2c83895c19e4df36adae6fcba8922">fc_changeSubsetName</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, char *newName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the name of a subset.  <a href="#gb0b2c83895c19e4df36adae6fcba8922"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g287ba3913776991efcd984d8c7c84b2f">fc_changeSeqSubsetName</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *subsets, char *newName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the name of a sequence subset.  <a href="#g287ba3913776991efcd984d8c7c84b2f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Add members to subset</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g5ed37876a6f144458716efed8cb78dbe">fc_addMemberToSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int memberID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add member to a subset.  <a href="#g5ed37876a6f144458716efed8cb78dbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g123bb2337bd35a1915aa736270ed3d40">fc_addArrayMembersToSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int numMember, int *array)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add members from an array to a subset.  <a href="#g123bb2337bd35a1915aa736270ed3d40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g2cbc08560421c5c9d0a71033e41b895d">fc_addMaskMembersToSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int maskLength, int *mask)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add members from a mask to a subset.  <a href="#g2cbc08560421c5c9d0a71033e41b895d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Delete members from a subset.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#ga2fd536e051210eaf3e749fc688d29c0">fc_deleteMemberFromSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int member)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete member from a subset.  <a href="#ga2fd536e051210eaf3e749fc688d29c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g581838fadfd530107eefe1560d58c027">fc_deleteArrayMembersFromSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int numElement, int *array)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete array members from a subset.  <a href="#g581838fadfd530107eefe1560d58c027"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gf0c59a8830dd016ac92a2be55316e0c3">fc_deleteMaskMembersFromSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int maskLength, int *mask)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete mask members from a subset.  <a href="#gf0c59a8830dd016ac92a2be55316e0c3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Release/delete subsets.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g4deb677b461d276676f290e7c7879595">fc_releaseSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to minimize subset's memory usage.  <a href="#g4deb677b461d276676f290e7c7879595"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gbc9f1845d70b66a70098f99b217bfbac">fc_releaseSeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *subsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to minimize seq subset's memory usage.  <a href="#gbc9f1845d70b66a70098f99b217bfbac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g550d0636e4f35c29d6dbc427b3165a24">fc_deleteSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a subset.  <a href="#g550d0636e4f35c29d6dbc427b3165a24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#ga57c2d0541790ffc5c0ba2686290f0b3">fc_deleteSeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *subsets)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a seq subset.  <a href="#ga57c2d0541790ffc5c0ba2686290f0b3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get subset metadata.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90">fc_isSubsetValid</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the handle refers to a valid subset.  <a href="#g63bf248cb60435e458ea038036d6af90"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df">fc_isSeqSubsetValid</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *seqSub)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the handle refers to a valid subset.  <a href="#gf1532331ef992fdd5c3dacfe060252df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g429e404a267e2f574e2578aa5d0aaa35">fc_getSubsetName</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, char **subsetName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get subset name.  <a href="#g429e404a267e2f574e2578aa5d0aaa35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc">fc_getMeshFromSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> *mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parent mesh of the subset.  <a href="#gddbb3a2f8c43289a3c3754f1546462bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83">fc_getSubsetInfo</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int *numMember, int *maxNumMember, <a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> *assoc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about a subset.  <a href="#g815857d0e2d573d0418a3892229c0d83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gdf7851470403bb379426110abf7923ba">fc_getSubsetNumMember</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int *numMember)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of members in a subset.  <a href="#gdf7851470403bb379426110abf7923ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gf2cf1c160b0dbe5efc78d12a0bb9caed">fc_getSubsetMaxNumMember</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int *maxNumMember)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the maximum possible number of members a subset could have.  <a href="#gf2cf1c160b0dbe5efc78d12a0bb9caed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g7e34b0e8a2f9d42c44f0ee4ea00f5e8a">fc_getSubsetAssociationType</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> *assoc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get subset's association type.  <a href="#g7e34b0e8a2f9d42c44f0ee4ea00f5e8a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Get/query subset big data.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g744afc439663b83d95a3eae277bfdbc0">fc_isMemberInSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int memberID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check to see if a member is in a subset.  <a href="#g744afc439663b83d95a3eae277bfdbc0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da">fc_getSubsetMembersAsArray</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int *numMember, int **array)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a copy of subset members as array.  <a href="#g6cebfda6e20e2a518636838b170185da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g14c2c39f8333c77a7307e754ed7c2b5e">fc_getSubsetMembersAsMask</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, int *maskLength, int **mask)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a copy of subset members as mask.  <a href="#g14c2c39f8333c77a7307e754ed7c2b5e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g4d796035b6229c73cc05488aae16c5bd">fc_getSequenceFromSeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *seqSubset, <a class="el" href="structFC__Sequence.html">FC_Sequence</a> *sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parent sequence of a seq subset.  <a href="#g4d796035b6229c73cc05488aae16c5bd"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print subset.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g9e2ce19c0ca2d3f08df7f02643f82ce3">fc_printSubset</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, char *label, int print_members)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print subset meta data to stdout, and optionally the member IDs.  <a href="#g9e2ce19c0ca2d3f08df7f02643f82ce3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print Sequence Subset Range.</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g4eb8e5626568131aab4ce36f235b9227">fc_printSeqSubsetRange</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *seqSubset, int range_start, int range_stop, char *label, int print_members)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print sequence subset meta data to stdout, and optionally the member IDs (with start and stop index values).  <a href="#g4eb8e5626568131aab4ce36f235b9227"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Print Sequence Subset</h2></td></tr>
<tr><td colspan="2"><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g0184aa2c39184b61c7db173ca8ab1556">fc_printSeqSubset</a> (int numStep, <a class="el" href="structFC__Subset.html">FC_Subset</a> *seqSubset, char *label, int print_members)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print sequence subset meta data to stdout, and optionally the member IDs.  <a href="#g0184aa2c39184b61c7db173ca8ab1556"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#g739c9fccb9b12a8d8a28a85883ad65b8">fc_printSubsetOfMesh</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="structFC__Mesh.html">FC_Mesh</a> mesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the subset of a mesh.  <a href="#g739c9fccb9b12a8d8a28a85883ad65b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Subset.html#gceeae96d99f142584714200658adf5dc">fc_printSubsetOfVariable</a> (<a class="el" href="structFC__Subset.html">FC_Subset</a> subset, <a class="el" href="structFC__Variable.html">FC_Variable</a> variable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the subset of a variable.  <a href="#gceeae96d99f142584714200658adf5dc"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g123bb2337bd35a1915aa736270ed3d40"></a><!-- doxytag: member="subset.c::fc_addArrayMembersToSubset" ref="g123bb2337bd35a1915aa736270ed3d40" args="(FC_Subset subset, int numMember, int *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_addArrayMembersToSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numMember</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>array</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add members from an array to a subset. 
<p>
<b>Description:</b> <p>
Add members given in an array to a subset. The operation is done on native subset representation type. <a class="el" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a> is returned if any of the input members are outside the valid range.<p>
An empty array is o.k and will not return an error.<p>
Members cannot be added to a committed subset (i.e. written to disk).<p>
<b>Modifications:</b> <ul>
<li>04/30/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>.</li><li>06/02/06 WSD, added array specific imlementation instead of calling fc_addMembersToSubset() which was not efficient enough. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input/output - subset handle </td></tr>
<tr><td valign="top"><em>numMember</em>&nbsp;</td><td>
input - number of members in an input array </td></tr>
<tr><td valign="top"><em>array</em>&nbsp;</td><td>
input - pointer to array of member IDs </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02064">2064</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="storage_8c-source.html#l00441">fc_addIntArrayToSortedIntArray()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, and <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00893">_fc_createShapePartsFromFaceInfoList()</a>, <a class="el" href="elemdeath_8c-source.html#l01268">_fc_recursive_IndividuallySegmentingNodes()</a>, <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="elemdeath_8c-source.html#l00499">fc_getDecayedShapeSkin()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="screwBreaks_8c-source.html#l00583">getDeathThresholdSubset()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02068"></a>02068   {
<a name="l02069"></a>02069   <span class="keywordtype">int</span> i;
<a name="l02070"></a>02070   <span class="keywordtype">int</span> ret;
<a name="l02071"></a>02071   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02072"></a>02072 
<a name="l02073"></a>02073   <span class="comment">// check input</span>
<a name="l02074"></a>02074   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02075"></a>02075   <span class="keywordflow">if</span>( !subSlot || numMember &lt; 0 || ( numMember &gt; 0 &amp;&amp; !array)) { 
<a name="l02076"></a>02076     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02077"></a>02077     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02078"></a>02078   }     
<a name="l02079"></a>02079   <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l02080"></a>02080     <span class="keywordflow">if</span> (array[i] &lt; 0 || array[i] &gt;= subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>) {
<a name="l02081"></a>02081       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02082"></a>02082       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02083"></a>02083     }
<a name="l02084"></a>02084   }
<a name="l02085"></a>02085 
<a name="l02086"></a>02086    <span class="comment">// can't modify a committed subset</span>
<a name="l02087"></a>02087   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02088"></a>02088     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02089"></a>02089                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02090"></a>02090     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02091"></a>02091   }
<a name="l02092"></a>02092 
<a name="l02093"></a>02093  <span class="comment">// no logging on purpose since this may get called over and over</span>
<a name="l02094"></a>02094 
<a name="l02095"></a>02095   <span class="comment">// trivial case, no members in an array</span>
<a name="l02096"></a>02096   <span class="keywordflow">if</span> (numMember == 0) 
<a name="l02097"></a>02097     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02098"></a>02098 
<a name="l02099"></a>02099   <span class="comment">// do it</span>
<a name="l02100"></a>02100   ret = <a class="code" href="group__SimpleDataObjects.html#gf842f060b1f39a0acfc54421bbe0865a" title="Add an array of ints to a sorted int array.">fc_addIntArrayToSortedIntArray</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>, numMember, array, 0);
<a name="l02101"></a>02101   <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l02102"></a>02102     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add int array to sorted int array"</span>);
<a name="l02103"></a>02103     <span class="keywordflow">return</span> ret;
<a name="l02104"></a>02104   }
<a name="l02105"></a>02105   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> += ret;
<a name="l02106"></a>02106 
<a name="l02107"></a>02107   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02108"></a>02108 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g2cbc08560421c5c9d0a71033e41b895d"></a><!-- doxytag: member="subset.c::fc_addMaskMembersToSubset" ref="g2cbc08560421c5c9d0a71033e41b895d" args="(FC_Subset subset, int maskLength, int *mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_addMaskMembersToSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maskLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add members from a mask to a subset. 
<p>
<b>Description:</b> <p>
Add members given by a mask to a subset. The operation is done on native subset representation type. FC_INPUT_ERROR is returned if the given mask has different size that the mask in subset.<p>
A mask of zero length is o.k. and will not return an error.<p>
Members cannot be added to a committed subset (i.e. written to disk).<p>
<b>Modifications:</b> <ul>
<li>04/30/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>maskLength</em>&nbsp;</td><td>
input - number of elements in an input mask </td></tr>
<tr><td valign="top"><em>mask</em>&nbsp;</td><td>
input - pointer to input mask with subset members </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02128">2128</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="subset_8c-source.html#l02008">fc_addMemberToSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02132"></a>02132   {
<a name="l02133"></a>02133   <span class="keywordtype">int</span> i;
<a name="l02134"></a>02134   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;  
<a name="l02135"></a>02135   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02136"></a>02136 
<a name="l02137"></a>02137   <span class="comment">// check input</span>
<a name="l02138"></a>02138   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02139"></a>02139   <span class="keywordflow">if</span> ( !subSlot || maskLength &lt; 0 || (maskLength &gt; 0 &amp;&amp; !mask) ||
<a name="l02140"></a>02140        (maskLength &gt; 0  &amp;&amp; maskLength != subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>)) { 
<a name="l02141"></a>02141     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02142"></a>02142     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02143"></a>02143   } 
<a name="l02144"></a>02144 
<a name="l02145"></a>02145   <span class="comment">// no logging on purpose since this may get called over and over</span>
<a name="l02146"></a>02146 
<a name="l02147"></a>02147   <span class="comment">// can't modify a committed subset</span>
<a name="l02148"></a>02148   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02149"></a>02149     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02150"></a>02150                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02151"></a>02151     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02152"></a>02152   }
<a name="l02153"></a>02153 
<a name="l02154"></a>02154   <span class="comment">// trivial case, no elements in a mask</span>
<a name="l02155"></a>02155   <span class="keywordflow">if</span> (maskLength == 0) 
<a name="l02156"></a>02156     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02157"></a>02157 
<a name="l02158"></a>02158   <span class="keywordflow">for</span> (i = 0; i &lt; maskLength; i++) {
<a name="l02159"></a>02159     <span class="comment">// add member where mask == 1</span>
<a name="l02160"></a>02160     <span class="keywordflow">if</span> (mask[i] == 1) {
<a name="l02161"></a>02161       rc = <a class="code" href="group__Subset.html#g5ed37876a6f144458716efed8cb78dbe" title="Add member to a subset.">fc_addMemberToSubset</a>(subset, i);
<a name="l02162"></a>02162       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> ) {
<a name="l02163"></a>02163         <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add member to subset '%s'"</span>,
<a name="l02164"></a>02164                               subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02165"></a>02165         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l02166"></a>02166       }
<a name="l02167"></a>02167     }
<a name="l02168"></a>02168   }
<a name="l02169"></a>02169 
<a name="l02170"></a>02170   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02171"></a>02171 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g5ed37876a6f144458716efed8cb78dbe"></a><!-- doxytag: member="subset.c::fc_addMemberToSubset" ref="g5ed37876a6f144458716efed8cb78dbe" args="(FC_Subset subset, int memberID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_addMemberToSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>memberID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add member to a subset. 
<p>
<b>Description:</b> <p>
Add member to a given subset. Returns with an error if the member is outside of the valid range.<p>
Members cannot be added to a committed subset (i.e. exists on disk).<p>
<b>Modifications:</b> <ul>
<li>04/30/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset to add member to </td></tr>
<tr><td valign="top"><em>memberID</em>&nbsp;</td><td>
input - ID of member to add </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02008">2008</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="storage_8c-source.html#l00397">fc_addIntToSortedIntArray()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, and <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l00472">_fc_loadExodusDataset()</a>, <a class="el" href="subset_8c-source.html#l02128">fc_addMaskMembersToSubset()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="threshold_8c-source.html#l00088">fc_createThresholdSubset()</a>, <a class="el" href="geom_8c-source.html#l01699">fc_getDisplacedMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01929">fc_getDisplacedMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04981">fc_getDisplacedMeshesProximity()</a>, <a class="el" href="geom_8c-source.html#l01649">fc_getMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01841">fc_getMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04897">fc_getMeshesProximity()</a>, <a class="el" href="shape_8c-source.html#l01515">fc_getMeshShapes()</a>, <a class="el" href="topo_8c-source.html#l01792">fc_getMeshSkin()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="tears_8c-source.html#l00922">main()</a>, <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>, and <a class="el" href="screwBreaks_8c-source.html#l00439">segmentMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02011"></a>02011   {
<a name="l02012"></a>02012   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02013"></a>02013   <span class="keywordtype">int</span> ret;
<a name="l02014"></a>02014 
<a name="l02015"></a>02015   <span class="comment">// check input, subset-&gt;storageType should never be FC_ST_UNKNOWN,</span>
<a name="l02016"></a>02016   <span class="comment">// memberID has to be positive &gt;= 0  </span>
<a name="l02017"></a>02017   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02018"></a>02018   <span class="keywordflow">if</span>(!subSlot || memberID &lt; 0 || memberID &gt; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>-1 ) { 
<a name="l02019"></a>02019     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02020"></a>02020     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02021"></a>02021   }
<a name="l02022"></a>02022 
<a name="l02023"></a>02023   <span class="comment">// can't modify a committed subset</span>
<a name="l02024"></a>02024   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02025"></a>02025     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02026"></a>02026                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02027"></a>02027     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02028"></a>02028   }
<a name="l02029"></a>02029 
<a name="l02030"></a>02030   <span class="comment">// no logging on purpose since this may get called over and over</span>
<a name="l02031"></a>02031 
<a name="l02032"></a>02032   <span class="comment">// add memberID to the subset</span>
<a name="l02033"></a>02033   ret = <a class="code" href="group__SimpleDataObjects.html#gb73f9478dbfb63fadf5e93f8bdfe8c42" title="Add an int to a sorted int array.">fc_addIntToSortedIntArray</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>, memberID);
<a name="l02034"></a>02034   <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l02035"></a>02035     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to add int to sorted int array"</span>);
<a name="l02036"></a>02036     <span class="keywordflow">return</span> ret; <span class="comment">// an error occured</span>
<a name="l02037"></a>02037   }
<a name="l02038"></a>02038   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> += ret;
<a name="l02039"></a>02039  
<a name="l02040"></a>02040   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02041"></a>02041 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g287ba3913776991efcd984d8c7c84b2f"></a><!-- doxytag: member="subset.c::fc_changeSeqSubsetName" ref="g287ba3913776991efcd984d8c7c84b2f" args="(int numStep, FC_Subset *subsets, char *newName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_changeSeqSubsetName           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>subsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the name of a sequence subset. 
<p>
<b>Modifications:</b> <ul>
<li>03/04/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
Input - Number of steps in the seq subset. </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
Input - the steps of the seq subset. </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - new name for the seq subset. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01958">1958</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01962"></a>01962   {
<a name="l01963"></a>01963   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc, rc_keep = <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01964"></a>01964   <span class="keywordtype">int</span> i;
<a name="l01965"></a>01965   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l01966"></a>01966 
<a name="l01967"></a>01967   <span class="comment">// check input</span>
<a name="l01968"></a>01968   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep, subsets) || newName == NULL) {
<a name="l01969"></a>01969     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01970"></a>01970     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01971"></a>01971   }
<a name="l01972"></a>01972 
<a name="l01973"></a>01973   <span class="comment">// log message</span>
<a name="l01974"></a>01974   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subsets[0]); 
<a name="l01975"></a>01975   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Changing name of seq subset from '%s' to '%s'"</span>, 
<a name="l01976"></a>01976                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l01977"></a>01977   
<a name="l01978"></a>01978   <span class="comment">// Do it</span>
<a name="l01979"></a>01979   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l01980"></a>01980     rc = <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>, newName);
<a name="l01981"></a>01981     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l01982"></a>01982       rc_keep = rc;
<a name="l01983"></a>01983   }
<a name="l01984"></a>01984   <span class="keywordflow">return</span> rc_keep;
<a name="l01985"></a>01985 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb0b2c83895c19e4df36adae6fcba8922"></a><!-- doxytag: member="subset.c::fc_changeSubsetName" ref="gb0b2c83895c19e4df36adae6fcba8922" args="(FC_Subset subset, char *newName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_changeSubsetName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the name of a subset. 
<p>
<b>Modifications:</b> <ul>
<li>8/24/2005 WSD. Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
Input - the subset. </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
Input - new name for the subset. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01930">1930</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l01339">fc_getSubsetShapes()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, and <a class="el" href="tears_8c-source.html#l00922">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01933"></a>01933   {
<a name="l01934"></a>01934   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l01935"></a>01935 
<a name="l01936"></a>01936   <span class="comment">// check input</span>
<a name="l01937"></a>01937   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l01938"></a>01938   <span class="keywordflow">if</span> (subSlot == NULL || newName == NULL) {
<a name="l01939"></a>01939     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01940"></a>01940     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01941"></a>01941   }
<a name="l01942"></a>01942 
<a name="l01943"></a>01943   <span class="comment">// log message</span>
<a name="l01944"></a>01944   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Changing name of subset from '%s' to '%s'"</span>, 
<a name="l01945"></a>01945                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l01946"></a>01946   
<a name="l01947"></a>01947   <span class="comment">// Do it</span>
<a name="l01948"></a>01948   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>, newName);
<a name="l01949"></a>01949 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gdfeb3c1ffc54043f2139f3e653471860"></a><!-- doxytag: member="subset.c::fc_convertSeqSubsetToSubsets" ref="gdfeb3c1ffc54043f2139f3e653471860" args="(int numStep, FC_Subset *seqSubset, char *new_name, FC_Subset **subsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_convertSeqSubsetToSubsets           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>seqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>subsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a sequence subset into an array of normal subsets. 
<p>
<b>Description:</b> <p>
This routine converts a sequence subset into an array of basic subsets. It is a LOT more efficient than copy the data of a seq subset into the steps of newly created basic subsets because no creation/destruction goes on -- it just changes how the mesh views the subset handles.<p>
The subsets will come out in the step order. Number of output subsets will be the number of steps in the original seqSubset. If a name is passed in the subsets will be named as the name postpended with "_#" where the number is the step number. Otherwise they will be named with the current name similiarly postpended. Note that if you are using this method for conversions to write to exodus, be sure that any name you use if short enough so that the name is under the exodus name character limit, or else the numbering will be lost.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000095">Todo:</a></b></dt><dd><ul>
<li>this has max length of digit postpending as 40 char - actaully calc the powers of 10 to set this correctly</li></ul>
</dd></dl>
<b>Modifications:</b> <ul>
<li>03/13/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - the number of new steps in the seqSubset </td></tr>
<tr><td valign="top"><em>seqSubset</em>&nbsp;</td><td>
input - the seqSubset </td></tr>
<tr><td valign="top"><em>new_name</em>&nbsp;</td><td>
input - new name (optional) </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
output - array of subsets </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00747">747</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>, <a class="el" href="subsetP_8h-source.html#l00076">_FC_SubSlot::sequence</a>, <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>, <a class="el" href="subsetP_8h-source.html#l00077">_FC_SubSlot::stepID</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00752"></a>00752   {
<a name="l00753"></a>00753   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l00754"></a>00754   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l00755"></a>00755   <span class="keywordtype">char</span>* newSubsetName;
<a name="l00756"></a>00756   <span class="keywordtype">int</span>* tempSlotIDs;
<a name="l00757"></a>00757   <span class="keywordtype">int</span> i, j;
<a name="l00758"></a>00758 
<a name="l00759"></a>00759   <span class="comment">// default return</span>
<a name="l00760"></a>00760   <span class="keywordflow">if</span> (subsets)
<a name="l00761"></a>00761     *subsets = NULL; 
<a name="l00762"></a>00762 
<a name="l00763"></a>00763   <span class="comment">// check input  </span>
<a name="l00764"></a>00764   <span class="keywordflow">if</span> (!subsets || !seqSubset || !<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep, seqSubset) || numStep == 0) {
<a name="l00765"></a>00765     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00766"></a>00766     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00767"></a>00767   }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 
<a name="l00770"></a>00770   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(seqSubset[0]);
<a name="l00771"></a>00771   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a>);
<a name="l00772"></a>00772 
<a name="l00773"></a>00773   <span class="comment">// log message</span>
<a name="l00774"></a>00774   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Copying seq subset '%s' to basic subsets"</span>,
<a name="l00775"></a>00775                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00776"></a>00776 
<a name="l00777"></a>00777   <span class="comment">//remove handles from the list of sequence subs</span>
<a name="l00778"></a>00778   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a> == 1){
<a name="l00779"></a>00779     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>);
<a name="l00780"></a>00780     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a> = NULL;
<a name="l00781"></a>00781     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[0]);
<a name="l00782"></a>00782     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>);
<a name="l00783"></a>00783     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a> = NULL;
<a name="l00784"></a>00784     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a> = 0;
<a name="l00785"></a>00785   } <span class="keywordflow">else</span> {
<a name="l00786"></a>00786     <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; i++) {
<a name="l00787"></a>00787       <span class="keywordflow">if</span> ((meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[i][0] == subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>)
<a name="l00788"></a>00788      <span class="keywordflow">break</span>;
<a name="l00789"></a>00789     }
<a name="l00790"></a>00790     free((meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[i]);
<a name="l00791"></a>00791     <span class="keywordflow">for</span> (j = i+1; j &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; j++){
<a name="l00792"></a>00792       (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>)[j-1] = (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>)[j];
<a name="l00793"></a>00793       (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[j-1] = (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[j];
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>--;
<a name="l00796"></a>00796   }
<a name="l00797"></a>00797 
<a name="l00798"></a>00798   tempSlotIDs = realloc(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>+numStep));
<a name="l00799"></a>00799   <span class="keywordflow">if</span> (tempSlotIDs == NULL){
<a name="l00800"></a>00800       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00801"></a>00801       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00802"></a>00802   }
<a name="l00803"></a>00803   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a> = tempSlotIDs;
<a name="l00804"></a>00804 
<a name="l00805"></a>00805   <span class="keywordflow">if</span> (new_name == NULL){
<a name="l00806"></a>00806     newSubsetName = (<span class="keywordtype">char</span>*)malloc((strlen(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>)+1)*
<a name="l00807"></a>00807                       <span class="keyword">sizeof</span>(char));
<a name="l00808"></a>00808     strcpy(newSubsetName, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00809"></a>00809   } <span class="keywordflow">else</span> {
<a name="l00810"></a>00810     newSubsetName = (<span class="keywordtype">char</span>*)malloc((strlen(new_name)+1)*
<a name="l00811"></a>00811                       <span class="keyword">sizeof</span>(char));
<a name="l00812"></a>00812     strcpy(newSubsetName, new_name);
<a name="l00813"></a>00813   }
<a name="l00814"></a>00814 
<a name="l00815"></a>00815   <span class="comment">//add handles to the list of basic subs</span>
<a name="l00816"></a>00816   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l00817"></a>00817     <span class="keywordtype">char</span>* temp_name;
<a name="l00818"></a>00818     <span class="comment">//change sub contents to reflect new as state non seq subset</span>
<a name="l00819"></a>00819     subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(seqSubset[i]);
<a name="l00820"></a>00820     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#007eba0b38a45ac046dbb6bdb684cea5">sequence</a> = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l00821"></a>00821     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#7da25ea62cadaec9d4676eaf0f36aa7f">stepID</a> = -1;
<a name="l00822"></a>00822     temp_name = malloc((strlen(newSubsetName)+40)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l00823"></a>00823     <span class="keywordflow">if</span> (temp_name == NULL) {
<a name="l00824"></a>00824       free(newSubsetName);
<a name="l00825"></a>00825       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00826"></a>00826       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00827"></a>00827     }
<a name="l00828"></a>00828     snprintf(temp_name, strlen(newSubsetName)+40,
<a name="l00829"></a>00829             <span class="stringliteral">"%s_%d"</span>, newSubsetName, i);
<a name="l00830"></a>00830     <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>, temp_name);
<a name="l00831"></a>00831     free(temp_name);
<a name="l00832"></a>00832     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>] = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>;
<a name="l00833"></a>00833     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>++;
<a name="l00834"></a>00834   }
<a name="l00835"></a>00835   free(newSubsetName);
<a name="l00836"></a>00836 
<a name="l00837"></a>00837   <span class="comment">// make return values</span>
<a name="l00838"></a>00838   *subsets= (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*)malloc(numStep*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l00839"></a>00839   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l00840"></a>00840     (*subsets)[i] = seqSubset[i];
<a name="l00841"></a>00841     
<a name="l00842"></a>00842   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00843"></a>00843 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g1d8a7a849bbe47f74cf5af76a5f88077"></a><!-- doxytag: member="subset.c::fc_convertSubsetsToSeqSubset" ref="g1d8a7a849bbe47f74cf5af76a5f88077" args="(int numStep, FC_Subset *subs, FC_Sequence sequence, char *new_name, FC_Subset **seqSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_convertSubsetsToSeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>subs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>seqSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert an array of basic subsets into a sequence subset. 
<p>
<b>Description:</b> <p>
This routine converts an array of basic subsets into a sequence subset. It is a LOT more efficient than copy the data of basic subsets into the steps of a newly created seq subset because no creation/destruction goes on -- it just changes how the mesh views the subset handles.<p>
You should put the subsets in the order they will be on the sequence. There must be the same number of subsets as there are steps on the sequence. The subsets and the sequence have to be in the same mesh. All of the subsets must be on the same mesh and have the same metadata (except the name). The subsets cannot already be part of a sequence subset.<p>
If no name is supplied, the seqSubset will have the name of the first subset.<p>
(The array of subsets that is the seq subset should be exactly the array passed in. A new one is made in case the original array was automatically generated--fc_deleteSeqSubset would fail on an automatically allocated array because it tries to free the array of handles.)<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000094">Todo:</a></b></dt><dd><ul>
<li>Note that unlike the seqVariable version we do not check that they are on the same dataset. Is that a problem?</li></ul>
</dd></dl>
<b>Modifications:</b> <ul>
<li>03/05/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - the number of steps </td></tr>
<tr><td valign="top"><em>subs</em>&nbsp;</td><td>
input - the subsets (array numStep long) (this should be freed by user if malloc'd) </td></tr>
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - the sequence (with numStep steps) </td></tr>
<tr><td valign="top"><em>new_name</em>&nbsp;</td><td>
input - new name (optional) </td></tr>
<tr><td valign="top"><em>seqSubset</em>&nbsp;</td><td>
output - pointer to seq's subsets handles </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00568">568</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="sequence_8c-source.html#l01652">fc_getSequenceNumStep()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="sequence_8c-source.html#l01505">fc_isSequenceValid()</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>, <a class="el" href="subsetP_8h-source.html#l00076">_FC_SubSlot::sequence</a>, <a class="el" href="subsetP_8h-source.html#l00077">_FC_SubSlot::stepID</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00575"></a>00575   {
<a name="l00576"></a>00576   <span class="keywordtype">int</span> i, j;
<a name="l00577"></a>00577   <span class="keywordtype">int</span> temp_numStep;
<a name="l00578"></a>00578   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh;
<a name="l00579"></a>00579   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l00580"></a>00580   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlots[numStep];
<a name="l00581"></a>00581   <span class="keywordtype">int</span>* subMask;
<a name="l00582"></a>00582   <span class="keywordtype">int</span> *tempNumPer, **tempSlotIDs;
<a name="l00583"></a>00583   <span class="keywordtype">int</span> *numBasicSub_p, **basicSubIDs_p;
<a name="l00584"></a>00584   <span class="keywordtype">int</span> *numSeqSub_p, **numStepPerSeqSub_p, ***seqSubIDs_p;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586   <span class="comment">// default return</span>
<a name="l00587"></a>00587   <span class="keywordflow">if</span> (seqSubset)
<a name="l00588"></a>00588     *seqSubset = NULL;
<a name="l00589"></a>00589 
<a name="l00590"></a>00590   <span class="comment">// test input -- a lot of conditions!</span>
<a name="l00591"></a>00591   <span class="keywordflow">if</span> (numStep &lt; 0 || !subs || !<a class="code" href="group__Sequence.html#g55e1bf7be4e19be93103378503b123b9" title="Check that the handle refers to a valid sequence.">fc_isSequenceValid</a>(sequence) ||
<a name="l00592"></a>00592       !seqSubset) {
<a name="l00593"></a>00593     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00594"></a>00594     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00595"></a>00595   }
<a name="l00596"></a>00596   <a class="code" href="group__Sequence.html#g194ee559cc88eaefc57a556dbcd6b6cb" title="Get number of steps in a sequence.">fc_getSequenceNumStep</a>(sequence, &amp;temp_numStep);
<a name="l00597"></a>00597   <span class="keywordflow">if</span> (numStep != temp_numStep) {
<a name="l00598"></a>00598     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"numStep (%d) does not agree with sequence's "</span>
<a name="l00599"></a>00599                           <span class="stringliteral">"numStep (%d)"</span>, numStep, temp_numStep);
<a name="l00600"></a>00600     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00601"></a>00601   }
<a name="l00602"></a>00602   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l00603"></a>00603     <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subs[i])) {
<a name="l00604"></a>00604       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00605"></a>00605       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00606"></a>00606     }
<a name="l00607"></a>00607     subSlots[i] = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subs[i]);
<a name="l00608"></a>00608     <span class="keywordflow">if</span> (subSlots[i]-&gt;stepID &gt;= 0) {
<a name="l00609"></a>00609       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Subset is already part of a sequence subset"</span>);
<a name="l00610"></a>00610       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00611"></a>00611     }
<a name="l00612"></a>00612   }
<a name="l00613"></a>00613   <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subs[0], &amp;mesh);
<a name="l00614"></a>00614   <span class="keywordflow">for</span> (i = 1; i &lt; numStep; i++) {
<a name="l00615"></a>00615     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subSlots[i]-&gt;mesh, mesh)) {
<a name="l00616"></a>00616       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"subsets are not on same mesh"</span>);
<a name="l00617"></a>00617       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00618"></a>00618     }
<a name="l00619"></a>00619     <span class="keywordflow">if</span> (subSlots[i]-&gt;assoc        != subSlots[0]-&gt;assoc ||
<a name="l00620"></a>00620      subSlots[i]-&gt;maxNumMember        != subSlots[0]-&gt;maxNumMember) {
<a name="l00621"></a>00621       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"variables have differing metadata"</span>);
<a name="l00622"></a>00622       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00623"></a>00623     }
<a name="l00624"></a>00624   }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626   <span class="comment">// similar to fc_createSeqSubset()</span>
<a name="l00627"></a>00627 
<a name="l00628"></a>00628   <span class="comment">// Change names</span>
<a name="l00629"></a>00629   <span class="keywordflow">if</span> (new_name) {
<a name="l00630"></a>00630     <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l00631"></a>00631       <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlots[i]-&gt;header, new_name);
<a name="l00632"></a>00632   }
<a name="l00633"></a>00633   <span class="keywordflow">else</span> {
<a name="l00634"></a>00634     <span class="keywordflow">for</span> (i = 1; i &lt; numStep; i++)
<a name="l00635"></a>00635       <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlots[i]-&gt;header, subSlots[0]-&gt;header.name);
<a name="l00636"></a>00636   }
<a name="l00637"></a>00637 
<a name="l00638"></a>00638   <span class="comment">// change sub contents to reflect new state as seq subs</span>
<a name="l00639"></a>00639   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l00640"></a>00640     subSlots[i]-&gt;<a class="code" href="struct__FC__SubSlot.html#007eba0b38a45ac046dbb6bdb684cea5">sequence</a> = sequence;
<a name="l00641"></a>00641     subSlots[i]-&gt;<a class="code" href="struct__FC__SubSlot.html#7da25ea62cadaec9d4676eaf0f36aa7f">stepID</a> = i;
<a name="l00642"></a>00642   }
<a name="l00643"></a>00643 
<a name="l00644"></a>00644   <span class="comment">// get pointers to stuff on mesh depending</span>
<a name="l00645"></a>00645   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(subSlots[0]-&gt;mesh);
<a name="l00646"></a>00646   numBasicSub_p = &amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>;
<a name="l00647"></a>00647   basicSubIDs_p = &amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>;
<a name="l00648"></a>00648   numSeqSub_p = &amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>;
<a name="l00649"></a>00649   numStepPerSeqSub_p = &amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>;
<a name="l00650"></a>00650   seqSubIDs_p = &amp;meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>;
<a name="l00651"></a>00651 
<a name="l00652"></a>00652  <span class="comment">// Add the handles to list of sequence vars</span>
<a name="l00653"></a>00653   tempNumPer = (<span class="keywordtype">int</span>*)realloc(*numStepPerSeqSub_p,
<a name="l00654"></a>00654                     ((*numSeqSub_p)+1)*<span class="keyword">sizeof</span>(int)); 
<a name="l00655"></a>00655   tempSlotIDs = (<span class="keywordtype">int</span>**)realloc(*seqSubIDs_p,
<a name="l00656"></a>00656                       (*numSeqSub_p+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>*));
<a name="l00657"></a>00657   <span class="keywordflow">if</span> (!tempNumPer || !tempSlotIDs) {
<a name="l00658"></a>00658     free(tempNumPer); free(tempSlotIDs);
<a name="l00659"></a>00659     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00660"></a>00660     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00661"></a>00661   }
<a name="l00662"></a>00662   tempSlotIDs[*numSeqSub_p] = (<span class="keywordtype">int</span>*)malloc(numStep*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)); 
<a name="l00663"></a>00663   <span class="keywordflow">if</span> (!tempSlotIDs[*numSeqSub_p]) {
<a name="l00664"></a>00664     free(tempNumPer); free(tempSlotIDs);
<a name="l00665"></a>00665     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00666"></a>00666     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00667"></a>00667   }
<a name="l00668"></a>00668   tempNumPer[*numSeqSub_p] = numStep;
<a name="l00669"></a>00669   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) 
<a name="l00670"></a>00670     tempSlotIDs[*numSeqSub_p][i] = subs[i].slotID;
<a name="l00671"></a>00671   *numStepPerSeqSub_p = tempNumPer;
<a name="l00672"></a>00672   *seqSubIDs_p = tempSlotIDs;
<a name="l00673"></a>00673   *numSeqSub_p = (*numSeqSub_p) + 1;
<a name="l00674"></a>00674 
<a name="l00675"></a>00675   <span class="comment">// remove handles from list of basic subs</span>
<a name="l00676"></a>00676   subMask = calloc(*numBasicSub_p, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00677"></a>00677   <span class="keywordflow">if</span> (subMask == NULL) {
<a name="l00678"></a>00678     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00679"></a>00679     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00680"></a>00680   }
<a name="l00681"></a>00681   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l00682"></a>00682     <span class="keywordflow">for</span> (j = 0; j &lt; *numBasicSub_p; j++) {
<a name="l00683"></a>00683       <span class="keywordflow">if</span> (subs[i].slotID == (*basicSubIDs_p)[j]) {
<a name="l00684"></a>00684         subMask[j] = 1;
<a name="l00685"></a>00685         <span class="keywordflow">break</span>;
<a name="l00686"></a>00686       }
<a name="l00687"></a>00687     }
<a name="l00688"></a>00688     <span class="keywordflow">if</span> (j == *numBasicSub_p) {
<a name="l00689"></a>00689       printf(<span class="stringliteral">"**** developer note: something went wrong!!\n"</span>);
<a name="l00690"></a>00690       fflush(NULL);
<a name="l00691"></a>00691       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00692"></a>00692     }
<a name="l00693"></a>00693   }
<a name="l00694"></a>00694   j = 0;
<a name="l00695"></a>00695   *numBasicSub_p = *numBasicSub_p - numStep;
<a name="l00696"></a>00696   <span class="keywordflow">if</span> (*numBasicSub_p == 0) {
<a name="l00697"></a>00697     free(*basicSubIDs_p);
<a name="l00698"></a>00698     *basicSubIDs_p = NULL;
<a name="l00699"></a>00699   }
<a name="l00700"></a>00700   <span class="keywordflow">else</span> {
<a name="l00701"></a>00701     <span class="keywordflow">for</span> (i = 0; i &lt; *numBasicSub_p + numStep; i++) {
<a name="l00702"></a>00702       <span class="keywordflow">if</span> (subMask[i] == 0) {
<a name="l00703"></a>00703         (*basicSubIDs_p)[j] = (*basicSubIDs_p)[i];
<a name="l00704"></a>00704         j++;
<a name="l00705"></a>00705       }
<a name="l00706"></a>00706     }
<a name="l00707"></a>00707   }
<a name="l00708"></a>00708   free(subMask);
<a name="l00709"></a>00709   <span class="comment">// FIX realloc to make smaller</span>
<a name="l00710"></a>00710 
<a name="l00711"></a>00711   <span class="comment">// make return values</span>
<a name="l00712"></a>00712   *seqSubset = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*)malloc(numStep*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l00713"></a>00713   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++)
<a name="l00714"></a>00714     (*seqSubset)[i] = subs[i];
<a name="l00715"></a>00715     
<a name="l00716"></a>00716   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00717"></a>00717 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g7616467eaa4ac4794dfe02ae05ce3289"></a><!-- doxytag: member="subset.c::fc_copySeqSubset" ref="g7616467eaa4ac4794dfe02ae05ce3289" args="(int numStep, FC_Subset *src_seqSubset, FC_Mesh dest_mesh, FC_Sequence dest_seq, char *newName, FC_Subset **new_seqSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_copySeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>src_seqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>dest_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>dest_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>new_seqSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy seq subset. 
<p>
<b>Description:</b> <p>
Create a copy of a seq subset into the specified mesh with the given name. This will return an erorr if the source and destination sequences and meshes are not similiar enough. This will copy a sequence if necessary. The destination mesh and sequence need to belong to the same dataset of an error will be returned.<p>
<b>Modifications:</b> <ul>
<li>03/05/08 ACG, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - the number of steps in the sequence variable </td></tr>
<tr><td valign="top"><em>src_seqSubset</em>&nbsp;</td><td>
input - the source seq subsets to be copied </td></tr>
<tr><td valign="top"><em>dest_mesh</em>&nbsp;</td><td>
input - the destination mesh to be copied into </td></tr>
<tr><td valign="top"><em>dest_seq</em>&nbsp;</td><td>
input - the destination seq to be copied into </td></tr>
<tr><td valign="top"><em>newName</em>&nbsp;</td><td>
input - the name of the new seqsubset, a NULL value is a flag to use the name of the source seqsubset </td></tr>
<tr><td valign="top"><em>new_seqSubset</em>&nbsp;</td><td>
output - array of handles to the new seq subset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00438">438</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="meshP_8h-source.html#l00096">_FC_MeshSlot::ds</a>, <a class="el" href="subset_8c-source.html#l02064">fc_addArrayMembersToSubset()</a>, <a class="el" href="subset_8c-source.html#l00219">fc_createSeqSubset()</a>, <a class="el" href="subset_8c-source.html#l02543">fc_deleteSeqSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="mesh_8c-source.html#l03299">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>.</p>

<p>Referenced by <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00446"></a>00446  {
<a name="l00447"></a>00447   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc; 
<a name="l00448"></a>00448   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* dest_meshSlot;
<a name="l00449"></a>00449   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* dest_seqSlot;
<a name="l00450"></a>00450   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l00451"></a>00451   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00452"></a>00452   <span class="keywordtype">int</span> numEntity, maxNumMember, numMember, *memberIDs;
<a name="l00453"></a>00453   <span class="keywordtype">int</span> temp_numStep;
<a name="l00454"></a>00454   <span class="keywordtype">int</span> i; 
<a name="l00455"></a>00455 
<a name="l00456"></a>00456   <span class="comment">// default returns</span>
<a name="l00457"></a>00457   <span class="keywordflow">if</span> (new_seqSubset)
<a name="l00458"></a>00458     *new_seqSubset =NULL;
<a name="l00459"></a>00459  
<a name="l00460"></a>00460   <span class="comment">// check input - NULL name is o.k.</span>
<a name="l00461"></a>00461   dest_meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(dest_mesh);
<a name="l00462"></a>00462   dest_seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(dest_seq);
<a name="l00463"></a>00463   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep,src_seqSubset) || dest_meshSlot == NULL ||
<a name="l00464"></a>00464       dest_seqSlot == NULL || ! <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(dest_meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e636c6228614117c3f0632c33b01554">ds</a>, dest_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#2897f87e3063786bb2375f3b98342738">ds</a>) ||
<a name="l00465"></a>00465       numStep != dest_seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a> || new_seqSubset == NULL){
<a name="l00466"></a>00466     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00467"></a>00467     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00468"></a>00468   }
<a name="l00469"></a>00469 
<a name="l00470"></a>00470   <span class="comment">// check for null name</span>
<a name="l00471"></a>00471   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(src_seqSubset[0]);
<a name="l00472"></a>00472   <span class="keywordflow">if</span> (newName == NULL)
<a name="l00473"></a>00473     newName = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475   <span class="comment">// log message</span>
<a name="l00476"></a>00476   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Copying seq subset '%s' to '%s'"</span>,
<a name="l00477"></a>00477                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newName);
<a name="l00478"></a>00478 
<a name="l00479"></a>00479   <span class="comment">// get other info from source subset &amp; dest mesh</span>
<a name="l00480"></a>00480   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(src_seqSubset[0], NULL, &amp;maxNumMember, &amp;assoc);
<a name="l00481"></a>00481   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00482"></a>00482     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info from subset."</span>);
<a name="l00483"></a>00483     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00484"></a>00484   }
<a name="l00485"></a>00485   rc = <a class="code" href="group__Mesh.html#g12d76ae817fee1f4ea941aad228923bc" title="Returns number of a type of mesh entity.">fc_getMeshNumEntity</a>(dest_mesh, assoc, &amp;numEntity);
<a name="l00486"></a>00486   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) 
<a name="l00487"></a>00487     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00488"></a>00488 
<a name="l00489"></a>00489   <span class="comment">// more checking - destination mesh and subset assoc type are compatible</span>
<a name="l00490"></a>00490   <span class="keywordflow">if</span> (numEntity != maxNumMember ) {
<a name="l00491"></a>00491     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s: destination mesh not compatible with the subset"</span>, 
<a name="l00492"></a>00492                           <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00493"></a>00493     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00494"></a>00494   }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496   <span class="comment">// --- do it</span>
<a name="l00497"></a>00497   rc = <a class="code" href="group__Subset.html#g191b1ead181046000179a07f01f4c75b" title="Create a new sequence subset on a specified mesh.">fc_createSeqSubset</a>(dest_mesh, dest_seq, newName, assoc, &amp;temp_numStep,
<a name="l00498"></a>00498                  new_seqSubset);
<a name="l00499"></a>00499   <span class="keywordflow">if</span> ( rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00500"></a>00500     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error creating new seq subset '%s'"</span>,newName);
<a name="l00501"></a>00501     <span class="keywordflow">return</span> rc;
<a name="l00502"></a>00502   }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504   <span class="comment">//get and copy data for each step</span>
<a name="l00505"></a>00505   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++){
<a name="l00506"></a>00506     rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(src_seqSubset[i], &amp;numMember, &amp;memberIDs); 
<a name="l00507"></a>00507     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00508"></a>00508       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error in getting members from subset."</span>);
<a name="l00509"></a>00509       <a class="code" href="group__Subset.html#ga57c2d0541790ffc5c0ba2686290f0b3" title="Delete a seq subset.">fc_deleteSeqSubset</a>(numStep, *new_seqSubset);
<a name="l00510"></a>00510       free(new_seqSubset);
<a name="l00511"></a>00511       <span class="keywordflow">return</span> rc;
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513     rc = <a class="code" href="group__Subset.html#g123bb2337bd35a1915aa736270ed3d40" title="Add members from an array to a subset.">fc_addArrayMembersToSubset</a>((*new_seqSubset)[i], numMember, memberIDs);
<a name="l00514"></a>00514     <span class="keywordflow">if</span> ( rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00515"></a>00515       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error adding members to a new subset."</span>);
<a name="l00516"></a>00516       <a class="code" href="group__Subset.html#ga57c2d0541790ffc5c0ba2686290f0b3" title="Delete a seq subset.">fc_deleteSeqSubset</a>(numStep, *new_seqSubset);
<a name="l00517"></a>00517       free(new_seqSubset);
<a name="l00518"></a>00518       <span class="keywordflow">if</span> (memberIDs) free(memberIDs);
<a name="l00519"></a>00519       <span class="keywordflow">return</span> rc;
<a name="l00520"></a>00520     }  
<a name="l00521"></a>00521     
<a name="l00522"></a>00522     <span class="comment">// cleanup</span>
<a name="l00523"></a>00523     <span class="keywordflow">if</span> (memberIDs) free(memberIDs); <span class="comment">//could have been empty subset</span>
<a name="l00524"></a>00524   }
<a name="l00525"></a>00525 
<a name="l00526"></a>00526   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00527"></a>00527 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g8c233583d14e8205bbfe4aca0d196772"></a><!-- doxytag: member="subset.c::fc_copySubset" ref="g8c233583d14e8205bbfe4aca0d196772" args="(FC_Subset subset, FC_Mesh destMesh, char *newSubsetName, FC_Subset *newSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_copySubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>destMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newSubsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>newSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy subset to a new subset. 
<p>
<b>Description:</b> <p>
Create new subset by copying the input subset onto a destination mesh. If destination and source mesh is not close enough the error will be returned, the new subset will not be created.<p>
<b>Modifications:</b> <ul>
<li>05/24/04 RM, created.</li><li>06/02/04 RM reworked, added checking compatibility between the destination mesh's number of association elements and the maxNumMember number of subset </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - handle to subset to be copied </td></tr>
<tr><td valign="top"><em>destMesh</em>&nbsp;</td><td>
input - the destination mesh to be copied to </td></tr>
<tr><td valign="top"><em>newSubsetName</em>&nbsp;</td><td>
input - new subset's name </td></tr>
<tr><td valign="top"><em>newSubset</em>&nbsp;</td><td>
output - handle to new subset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00351">351</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="subset_8c-source.html#l02064">fc_addArrayMembersToSubset()</a>, <a class="el" href="subset_8c-source.html#l00135">fc_createSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="mesh_8c-source.html#l03299">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="mesh_8c-source.html#l02742">fc_isMeshValid()</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="elemdeath_8c-source.html#l01268">_fc_recursive_IndividuallySegmentingNodes()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="shape_8c-source.html#l02098">fc_copyShape()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00356"></a>00356  {
<a name="l00357"></a>00357   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc; 
<a name="l00358"></a>00358   <span class="keywordtype">int</span> numEntity, maxNumMember, numMember, *memberIDs;
<a name="l00359"></a>00359   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00360"></a>00360   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l00361"></a>00361 
<a name="l00362"></a>00362   <span class="comment">// default returns</span>
<a name="l00363"></a>00363   <span class="keywordflow">if</span> (newSubset)
<a name="l00364"></a>00364     *newSubset = <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>;        
<a name="l00365"></a>00365  
<a name="l00366"></a>00366   <span class="comment">// check input - NULL name is o.k.</span>
<a name="l00367"></a>00367   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset) || !<a class="code" href="group__Mesh.html#gab6b9ca1bc6e1e7d549ce9fcd396a5e6" title="Check that the handle refers to a valid mesh.">fc_isMeshValid</a>(destMesh) || !newSubset) { 
<a name="l00368"></a>00368     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00369"></a>00369     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00370"></a>00370   }
<a name="l00371"></a>00371 
<a name="l00372"></a>00372   <span class="comment">// check for null name</span>
<a name="l00373"></a>00373   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l00374"></a>00374   <span class="keywordflow">if</span> (newSubsetName == NULL)
<a name="l00375"></a>00375     newSubsetName = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377   <span class="comment">// log message</span>
<a name="l00378"></a>00378   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Copying subset '%s' to '%s'"</span>,
<a name="l00379"></a>00379                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newSubsetName);
<a name="l00380"></a>00380 
<a name="l00381"></a>00381   <span class="comment">// get other info from source subset &amp; dest mesh</span>
<a name="l00382"></a>00382   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset, NULL, &amp;maxNumMember, &amp;assoc);
<a name="l00383"></a>00383   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00384"></a>00384     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info from subset."</span>);
<a name="l00385"></a>00385     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00386"></a>00386   }
<a name="l00387"></a>00387   rc = <a class="code" href="group__Mesh.html#g12d76ae817fee1f4ea941aad228923bc" title="Returns number of a type of mesh entity.">fc_getMeshNumEntity</a>(destMesh, assoc, &amp;numEntity);
<a name="l00388"></a>00388   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) 
<a name="l00389"></a>00389     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00390"></a>00390 
<a name="l00391"></a>00391   <span class="comment">// more checking - destination mesh and subset assoc type are compatible</span>
<a name="l00392"></a>00392   <span class="keywordflow">if</span> (numEntity != maxNumMember ) {
<a name="l00393"></a>00393     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s: destination mesh not compatible with the subset"</span>, 
<a name="l00394"></a>00394                           <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00395"></a>00395     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00396"></a>00396   }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398   <span class="comment">// --- do it</span>
<a name="l00399"></a>00399   rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset, &amp;numMember, &amp;memberIDs); 
<a name="l00400"></a>00400   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00401"></a>00401     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error in getting members from subset."</span>);
<a name="l00402"></a>00402     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00403"></a>00403   }
<a name="l00404"></a>00404   rc = <a class="code" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88" title="Create a new subset on a specified mesh.">fc_createSubset</a>(destMesh, newSubsetName, assoc, &amp;(*newSubset));
<a name="l00405"></a>00405   <span class="keywordflow">if</span> ( rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00406"></a>00406     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error creating subset."</span>);
<a name="l00407"></a>00407     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00408"></a>00408   }
<a name="l00409"></a>00409   rc = <a class="code" href="group__Subset.html#g123bb2337bd35a1915aa736270ed3d40" title="Add members from an array to a subset.">fc_addArrayMembersToSubset</a>(*newSubset, numMember, memberIDs);
<a name="l00410"></a>00410   <span class="keywordflow">if</span> ( rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00411"></a>00411     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error adding members to a new subset."</span>);
<a name="l00412"></a>00412     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00413"></a>00413   }  
<a name="l00414"></a>00414   
<a name="l00415"></a>00415   <span class="comment">// cleanup</span>
<a name="l00416"></a>00416   free(memberIDs);
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00419"></a>00419 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9d45e65acedb565fa3aff9483423236b"></a><!-- doxytag: member="subset.c::fc_copySubsetWithNewAssociation" ref="g9d45e65acedb565fa3aff9483423236b" args="(FC_Subset subset, char *newSubsetName, FC_AssociationType new_assoc, int doStrict, FC_Subset *newSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_copySubsetWithNewAssociation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newSubsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a>&nbsp;</td>
          <td class="paramname"> <em>new_assoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>doStrict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>newSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create copy subset associated with a different mesh entity type. 
<p>
<b>Description:</b> <p>
This routine is essentially the same as <a class="el" href="group__TopologyRelations.html#gd652ffb3bbe366c1a882a4e0fa34c499" title="Change the type of mesh entities.">fc_changeMeshEntityType()</a> but for a subset instead of a list of entity IDs.<p>
If the new association type is of higher dimensionality than the old (e.g. new subset will be on element and old was on vertices), the 'doStrict' flag determines whether to keep new entities if not all of their child entities are in the old subset. 1 = be strict and only have the entity in the new subset if all of it's children are present in the old subset. 0 = be lenient and add all entities that have at least one child in the old subset.<p>
The new association type cannot be FC_AT_WHOLE_DATASET.<p>
<b>Modifications:</b> <ul>
<li>11/29/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - handle to subset to be copied </td></tr>
<tr><td valign="top"><em>newSubsetName</em>&nbsp;</td><td>
input - new subset's name </td></tr>
<tr><td valign="top"><em>new_assoc</em>&nbsp;</td><td>
input - the output association type </td></tr>
<tr><td valign="top"><em>doStrict</em>&nbsp;</td><td>
input - flag for dropping incomplete entities </td></tr>
<tr><td valign="top"><em>newSubset</em>&nbsp;</td><td>
output - handle to new subset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00869">869</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="subset_8c-source.html#l02064">fc_addArrayMembersToSubset()</a>, <a class="el" href="base_8h-source.html#l00190">FC_AT_UNKNOWN</a>, <a class="el" href="base_8h-source.html#l00198">FC_AT_WHOLE_DATASET</a>, <a class="el" href="topo_8c-source.html#l00369">fc_changeMeshEntityType()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00135">fc_createSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02902">fc_getSubsetAssociationType()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00286">fc_isAssociationTypeValid()</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="geom_8c-source.html#l04240">fc_getDisplacedSubsetVolume()</a>, <a class="el" href="geom_8c-source.html#l04129">fc_getSubsetVolume()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00875"></a>00875  {
<a name="l00876"></a>00876   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc; 
<a name="l00877"></a>00877   <span class="keywordtype">int</span> numMember, *memberIDs, newNumMember, *newMemberIDs;
<a name="l00878"></a>00878   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh;
<a name="l00879"></a>00879   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00880"></a>00880   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l00881"></a>00881 
<a name="l00882"></a>00882   <span class="comment">// default returns</span>
<a name="l00883"></a>00883   <span class="keywordflow">if</span> (newSubset)
<a name="l00884"></a>00884     *newSubset = <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>;        
<a name="l00885"></a>00885  
<a name="l00886"></a>00886   <span class="comment">// check input - NULL name is o.k.</span>
<a name="l00887"></a>00887   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset) || !<a class="code" href="group__DataTypes.html#gc3097dff5d1b0602671b7d2805162169" title="Verify that the given value is valid for this enum.">fc_isAssociationTypeValid</a>(new_assoc) ||
<a name="l00888"></a>00888       new_assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6d5a38e6486b577a8d9bbba0e1c1a443d">FC_AT_UNKNOWN</a> || new_assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6ac55a57488add4ea9f01eac5c9eab232">FC_AT_WHOLE_DATASET</a> ||
<a name="l00889"></a>00889       (<a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a> != 0 &amp;&amp; <a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a> != 1) || !newSubset) { 
<a name="l00890"></a>00890     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00891"></a>00891     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00892"></a>00892   }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894   <span class="comment">// check for null name</span>
<a name="l00895"></a>00895   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l00896"></a>00896   <span class="keywordflow">if</span> (newSubsetName == NULL)
<a name="l00897"></a>00897     newSubsetName = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l00898"></a>00898 
<a name="l00899"></a>00899   <span class="comment">// log message</span>
<a name="l00900"></a>00900   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Copying subset '%s' while changing association type"</span>,
<a name="l00901"></a>00901                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903   <span class="comment">// get other info from source subset &amp; dest mesh</span>
<a name="l00904"></a>00904   rc = <a class="code" href="group__Subset.html#g7e34b0e8a2f9d42c44f0ee4ea00f5e8a" title="Get subset&amp;#39;s association type.">fc_getSubsetAssociationType</a>(subset, &amp;assoc);
<a name="l00905"></a>00905   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00906"></a>00906     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info from subset."</span>);
<a name="l00907"></a>00907     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00908"></a>00908   }
<a name="l00909"></a>00909   rc = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset, &amp;mesh);
<a name="l00910"></a>00910   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00911"></a>00911     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get mesh from subset."</span>);
<a name="l00912"></a>00912     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00913"></a>00913   }
<a name="l00914"></a>00914 
<a name="l00915"></a>00915   <span class="comment">// special case -- if assoc is the same, just call fc_copySubset()</span>
<a name="l00916"></a>00916   <span class="keywordflow">if</span> (new_assoc == assoc)
<a name="l00917"></a>00917     <span class="keywordflow">return</span> <a class="code" href="group__Subset.html#g8c233583d14e8205bbfe4aca0d196772" title="Copy subset to a new subset.">fc_copySubset</a>(subset, mesh, newSubsetName, newSubset);
<a name="l00918"></a>00918 
<a name="l00919"></a>00919   <span class="comment">// --- do it</span>
<a name="l00920"></a>00920   rc = <a class="code" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88" title="Create a new subset on a specified mesh.">fc_createSubset</a>(mesh, newSubsetName, new_assoc, newSubset);
<a name="l00921"></a>00921   <span class="keywordflow">if</span> ( rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00922"></a>00922     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error creating subset."</span>);
<a name="l00923"></a>00923     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00924"></a>00924   }
<a name="l00925"></a>00925   rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset, &amp;numMember, &amp;memberIDs); 
<a name="l00926"></a>00926   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00927"></a>00927     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error in getting members from subset."</span>);
<a name="l00928"></a>00928     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00929"></a>00929   }
<a name="l00930"></a>00930   <span class="keywordflow">if</span> (numMember &gt; 0) {
<a name="l00931"></a>00931     rc = <a class="code" href="group__TopologyRelations.html#gd652ffb3bbe366c1a882a4e0fa34c499" title="Change the type of mesh entities.">fc_changeMeshEntityType</a>(mesh, assoc, numMember, memberIDs, new_assoc,
<a name="l00932"></a>00932                                  <a class="code" href="subsetter_8c.html#a5132f7621c6dc0ab225ba797836ebe1">doStrict</a>, &amp;newNumMember, &amp;newMemberIDs);
<a name="l00933"></a>00933     free(memberIDs);
<a name="l00934"></a>00934     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00935"></a>00935       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error changing member association"</span>);
<a name="l00936"></a>00936       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938     <span class="keywordflow">if</span> (newNumMember &gt; 0) {
<a name="l00939"></a>00939       rc = <a class="code" href="group__Subset.html#g123bb2337bd35a1915aa736270ed3d40" title="Add members from an array to a subset.">fc_addArrayMembersToSubset</a>(*newSubset, newNumMember, newMemberIDs);
<a name="l00940"></a>00940       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00941"></a>00941         <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error adding members to a new subset."</span>);
<a name="l00942"></a>00942         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00943"></a>00943       }
<a name="l00944"></a>00944       free(newMemberIDs);
<a name="l00945"></a>00945     }
<a name="l00946"></a>00946   }
<a name="l00947"></a>00947 
<a name="l00948"></a>00948   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00949"></a>00949 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g191b1ead181046000179a07f01f4c75b"></a><!-- doxytag: member="subset.c::fc_createSeqSubset" ref="g191b1ead181046000179a07f01f4c75b" args="(FC_Mesh mesh, FC_Sequence sequence, char *subsetName, FC_AssociationType assoc, int *numStep, FC_Subset **seqSubs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createSeqSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a>&nbsp;</td>
          <td class="paramname"> <em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>subsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a>&nbsp;</td>
          <td class="paramname"> <em>assoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>seqSubs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new sequence subset on a specified mesh. 
<p>
<b>Description:</b> <p>
Create a new (empty) sequence subset as an array of subsets. A sequence must be provided in addition to the mesh that will be the owner of the subset. The sequence and mesh must be in the same dataset.<p>
<b>Modifications:</b> <ul>
<li>03-03-08 ACG, created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
input - sequence handle </td></tr>
<tr><td valign="top"><em>subsetName</em>&nbsp;</td><td>
input - sequence subset name </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
input - association of subset entities </td></tr>
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
output - the number of steps </td></tr>
<tr><td valign="top"><em>seqSubs</em>&nbsp;</td><td>
output - seq subset handles </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00219">219</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03873">_fc_getNewSubSlot()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="subsetP_8h-source.html#l00081">_FC_SubSlot::assoc</a>, <a class="el" href="sequenceP_8h-source.html#l00076">_FC_SeqSlot::ds</a>, <a class="el" href="meshP_8h-source.html#l00096">_FC_MeshSlot::ds</a>, <a class="el" href="base_8h-source.html#l00190">FC_AT_UNKNOWN</a>, <a class="el" href="base_8h-source.html#l00198">FC_AT_WHOLE_DATASET</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="mesh_8c-source.html#l03299">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00286">fc_isAssociationTypeValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>, <a class="el" href="subsetP_8h-source.html#l00076">_FC_SubSlot::sequence</a>, and <a class="el" href="subsetP_8h-source.html#l00077">_FC_SubSlot::stepID</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, and <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00226"></a>00226   {
<a name="l00227"></a>00227   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00228"></a>00228   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l00229"></a>00229   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l00230"></a>00230   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l00231"></a>00231   <span class="keywordtype">int</span> *tempNumPer, **tempSlotIDs;
<a name="l00232"></a>00232   <span class="keywordtype">int</span> num;
<a name="l00233"></a>00233   <span class="keywordtype">int</span> i;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235   <span class="comment">// default return</span>
<a name="l00236"></a>00236   <span class="keywordflow">if</span> (numStep)
<a name="l00237"></a>00237     *numStep = -1;
<a name="l00238"></a>00238   <span class="keywordflow">if</span> (seqSubs) 
<a name="l00239"></a>00239     *seqSubs = NULL;
<a name="l00240"></a>00240    
<a name="l00241"></a>00241   <span class="comment">// check input</span>
<a name="l00242"></a>00242   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l00243"></a>00243   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(sequence);
<a name="l00244"></a>00244   <span class="keywordflow">if</span> (meshSlot == NULL || seqSlot == NULL || subsetName == NULL ||
<a name="l00245"></a>00245       !assoc ||  !<a class="code" href="group__DataTypes.html#gc3097dff5d1b0602671b7d2805162169" title="Verify that the given value is valid for this enum.">fc_isAssociationTypeValid</a>(assoc) || assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6d5a38e6486b577a8d9bbba0e1c1a443d">FC_AT_UNKNOWN</a> || 
<a name="l00246"></a>00246       assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6ac55a57488add4ea9f01eac5c9eab232">FC_AT_WHOLE_DATASET</a> || numStep == NULL || seqSubs == NULL) {
<a name="l00247"></a>00247     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00248"></a>00248     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00249"></a>00249   }
<a name="l00250"></a>00250   <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#8e636c6228614117c3f0632c33b01554">ds</a>, seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#2897f87e3063786bb2375f3b98342738">ds</a>)) {
<a name="l00251"></a>00251     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>,<a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00252"></a>00252     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00253"></a>00253   }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255   <span class="comment">// log message</span>
<a name="l00256"></a>00256   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new seq subset '%s'"</span>, subsetName);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="comment">// do as much checking as possible before creating new slot</span>
<a name="l00259"></a>00259   <span class="comment">// ----- get number of mask elements depending on association</span>
<a name="l00260"></a>00260   rc = <a class="code" href="group__Mesh.html#g12d76ae817fee1f4ea941aad228923bc" title="Returns number of a type of mesh entity.">fc_getMeshNumEntity</a>(mesh,assoc,&amp;num); 
<a name="l00261"></a>00261   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) 
<a name="l00262"></a>00262     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00263"></a>00263   <span class="keywordflow">if</span> (num &lt; 1) {
<a name="l00264"></a>00264     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Entity type %s does not exists on mesh '%s'"</span>,
<a name="l00265"></a>00265                           <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc),
<a name="l00266"></a>00266                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>); 
<a name="l00267"></a>00267     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00268"></a>00268   }
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   <span class="comment">//make room for array &amp; setup return values;</span>
<a name="l00271"></a>00271   *numStep = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>;
<a name="l00272"></a>00272   *seqSubs = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>)*seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>);
<a name="l00273"></a>00273   <span class="keywordflow">if</span> (*seqSubs == NULL) {
<a name="l00274"></a>00274     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00275"></a>00275     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00276"></a>00276   }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278   <span class="keywordflow">for</span> (i = 0; i &lt; seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>; i++){
<a name="l00279"></a>00279     <span class="comment">// get an open slot</span>
<a name="l00280"></a>00280     subSlot = <a class="code" href="group__PrivateSubset.html#g47cd46dd7635db119c266365c49053c2" title="Get an empty subset slot from the subset table.">_fc_getNewSubSlot</a>();
<a name="l00281"></a>00281     <span class="keywordflow">if</span> (!subSlot) {
<a name="l00282"></a>00282       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00283"></a>00283       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00284"></a>00284     }
<a name="l00285"></a>00285 
<a name="l00286"></a>00286     <span class="comment">// table header information</span>
<a name="l00287"></a>00287     <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>((*seqSubs)[i], subSlot);
<a name="l00288"></a>00288     <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>, subsetName);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     <span class="comment">// Setup subset metadata</span>
<a name="l00291"></a>00291     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#5886619735c0e79df2c3c1a776f8e91b">assoc</a> = assoc;
<a name="l00292"></a>00292     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a> = num;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="comment">// set back and forth references</span>
<a name="l00295"></a>00295     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a> = mesh;
<a name="l00296"></a>00296     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#007eba0b38a45ac046dbb6bdb684cea5">sequence</a> = sequence;
<a name="l00297"></a>00297     subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#7da25ea62cadaec9d4676eaf0f36aa7f">stepID</a> = i;
<a name="l00298"></a>00298   }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300   <span class="comment">//set more back and forth references</span>
<a name="l00301"></a>00301   tempNumPer = (<span class="keywordtype">int</span>*)realloc(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>,
<a name="l00302"></a>00302                     (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>+1)*<span class="keyword">sizeof</span>(int));
<a name="l00303"></a>00303   tempSlotIDs = (<span class="keywordtype">int</span>**)realloc(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>,
<a name="l00304"></a>00304                       (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>*));
<a name="l00305"></a>00305   <span class="keywordflow">if</span> (!tempNumPer || ! tempSlotIDs) {
<a name="l00306"></a>00306     free(tempNumPer);
<a name="l00307"></a>00307     free(tempSlotIDs);
<a name="l00308"></a>00308     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00309"></a>00309     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00310"></a>00310   }
<a name="l00311"></a>00311   tempSlotIDs[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>] = (<span class="keywordtype">int</span>*)malloc(seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00312"></a>00312   <span class="keywordflow">if</span> (!tempSlotIDs[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>]) {
<a name="l00313"></a>00313     free(tempNumPer);
<a name="l00314"></a>00314     free(tempSlotIDs);
<a name="l00315"></a>00315     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00316"></a>00316     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00317"></a>00317   }
<a name="l00318"></a>00318   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a> = tempNumPer;
<a name="l00319"></a>00319   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>] = seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>;
<a name="l00320"></a>00320   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a> = tempSlotIDs;
<a name="l00321"></a>00321   <span class="keywordflow">for</span> (i = 0; i &lt; seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>; i++) {
<a name="l00322"></a>00322     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>][i] = (*seqSubs)[i].slotID;
<a name="l00323"></a>00323   }
<a name="l00324"></a>00324   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>++;
<a name="l00325"></a>00325 
<a name="l00326"></a>00326   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00327"></a>00327 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gccbfd6035cd0b949a4fac98888348e88"></a><!-- doxytag: member="subset.c::fc_createSubset" ref="gccbfd6035cd0b949a4fac98888348e88" args="(FC_Mesh mesh, char *subsetName, FC_AssociationType assoc, FC_Subset *subset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>subsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a>&nbsp;</td>
          <td class="paramname"> <em>assoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>subset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new subset on a specified mesh. 
<p>
<b>Description:</b> <p>
Create a new (empty) subset to hold entities of the specified type on a specified mesh. Sets up subset data structure and initializes it to default values. Mesh, subsetName and assoc must be given and valid. It is an error to try to create a subset on an entity type that does not exists (e.g. faces on a line mesh).<p>
It is not possible to create subsets with association FC_AT_WHOLE_DATASET.<p>
<b>Modifications:</b> <ul>
<li>03/31/04 RM, Created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>.</li><li>07/23/05 WSK, removed storage type from argument list. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>subsetName</em>&nbsp;</td><td>
input - name of a subset to be created </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
input - association of subset entities </td></tr>
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
output - subset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00135">135</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03873">_fc_getNewSubSlot()</a>, <a class="el" href="table_8c-source.html#l00132">_fc_setSlotHeaderName()</a>, <a class="el" href="subsetP_8h-source.html#l00081">_FC_SubSlot::assoc</a>, <a class="el" href="base_8h-source.html#l00190">FC_AT_UNKNOWN</a>, <a class="el" href="base_8h-source.html#l00198">FC_AT_WHOLE_DATASET</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="mesh_8c-source.html#l03299">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00286">fc_isAssociationTypeValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00893">_fc_createShapePartsFromFaceInfoList()</a>, <a class="el" href="exodusio_8c-source.html#l00472">_fc_loadExodusDataset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="threshold_8c-source.html#l00088">fc_createThresholdSubset()</a>, <a class="el" href="geom_8c-source.html#l01699">fc_getDisplacedMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01929">fc_getDisplacedMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04981">fc_getDisplacedMeshesProximity()</a>, <a class="el" href="geom_8c-source.html#l01649">fc_getMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01841">fc_getMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04897">fc_getMeshesProximity()</a>, <a class="el" href="shape_8c-source.html#l01515">fc_getMeshShapes()</a>, <a class="el" href="topo_8c-source.html#l01792">fc_getMeshSkin()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="screwBreaks_8c-source.html#l00583">getDeathThresholdSubset()</a>, <a class="el" href="gaplines_8c-source.html#l00433">main()</a>, <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>, and <a class="el" href="screwBreaks_8c-source.html#l00439">segmentMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00140"></a>00140   {
<a name="l00141"></a>00141   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l00142"></a>00142   <span class="keywordtype">int</span> num;
<a name="l00143"></a>00143   <span class="keywordtype">int</span> *tempSlotIDs;
<a name="l00144"></a>00144   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l00145"></a>00145   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147   <span class="comment">// default return</span>
<a name="l00148"></a>00148   <span class="keywordflow">if</span> (subset) 
<a name="l00149"></a>00149     *subset = <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>; 
<a name="l00150"></a>00150    
<a name="l00151"></a>00151   <span class="comment">// check input</span>
<a name="l00152"></a>00152   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l00153"></a>00153   <span class="keywordflow">if</span> (meshSlot == NULL || !subsetName  || !assoc || 
<a name="l00154"></a>00154       !<a class="code" href="group__DataTypes.html#gc3097dff5d1b0602671b7d2805162169" title="Verify that the given value is valid for this enum.">fc_isAssociationTypeValid</a>(assoc) || assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6d5a38e6486b577a8d9bbba0e1c1a443d">FC_AT_UNKNOWN</a> || 
<a name="l00155"></a>00155       assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6ac55a57488add4ea9f01eac5c9eab232">FC_AT_WHOLE_DATASET</a> || !subset) {
<a name="l00156"></a>00156     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00157"></a>00157     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00158"></a>00158   }
<a name="l00159"></a>00159 
<a name="l00160"></a>00160   <span class="comment">// log message</span>
<a name="l00161"></a>00161   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating new subset '%s'"</span>, subsetName);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="comment">// do as much checking as possible before creating new slot</span>
<a name="l00164"></a>00164   <span class="comment">// ----- get number of mask elements depending on association</span>
<a name="l00165"></a>00165   rc = <a class="code" href="group__Mesh.html#g12d76ae817fee1f4ea941aad228923bc" title="Returns number of a type of mesh entity.">fc_getMeshNumEntity</a>(mesh,assoc,&amp;num); 
<a name="l00166"></a>00166   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) 
<a name="l00167"></a>00167     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00168"></a>00168   <span class="keywordflow">if</span> (num &lt; 1) {
<a name="l00169"></a>00169     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Entity type %s does not exists on mesh '%s'"</span>,
<a name="l00170"></a>00170                           <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc),
<a name="l00171"></a>00171                           meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>); 
<a name="l00172"></a>00172     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00173"></a>00173   }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175   <span class="comment">// get an open slot</span>
<a name="l00176"></a>00176   subSlot = <a class="code" href="group__PrivateSubset.html#g47cd46dd7635db119c266365c49053c2" title="Get an empty subset slot from the subset table.">_fc_getNewSubSlot</a>();
<a name="l00177"></a>00177   <span class="keywordflow">if</span> (!subSlot) {
<a name="l00178"></a>00178     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00179"></a>00179     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00180"></a>00180   }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <span class="comment">// table header information</span>
<a name="l00183"></a>00183   <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>(*subset, subSlot);
<a name="l00184"></a>00184   <a class="code" href="group__PrivateTable.html#g6ea29808acded7c5a7749138839616aa" title="Replaces the name for a slot header with a copy of the input.">_fc_setSlotHeaderName</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>, subsetName);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="comment">// set back and forth references to mesh</span>
<a name="l00187"></a>00187   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a> = mesh;
<a name="l00188"></a>00188   tempSlotIDs = realloc(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>+1));
<a name="l00189"></a>00189   <span class="keywordflow">if</span> (tempSlotIDs == NULL) {
<a name="l00190"></a>00190     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l00191"></a>00191     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l00192"></a>00192   }
<a name="l00193"></a>00193   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a> = tempSlotIDs;
<a name="l00194"></a>00194   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>] = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>;
<a name="l00195"></a>00195   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>++;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197   <span class="comment">// Setup subset metadata</span>
<a name="l00198"></a>00198   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#5886619735c0e79df2c3c1a776f8e91b">assoc</a> = assoc;
<a name="l00199"></a>00199   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a> = num;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l00202"></a>00202 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g3a49a5ba4d326c47af68da14be364bf8"></a><!-- doxytag: member="subset.c::fc_createSubsetComplement" ref="g3a49a5ba4d326c47af68da14be364bf8" args="(FC_Subset subset, char *newSubsetName, FC_Subset *newSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createSubsetComplement           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newSubsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>newSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create subset containing complement of the subset (NOT operator). 
<p>
<b>Description:</b> <p>
Create new complement subset by performing logical NOT operation on a subset. New subset will be on the same mesh as original subset.<p>
<b>Modifications:</b> <ul>
<li>05/21/04 RM, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - handle to original subset </td></tr>
<tr><td valign="top"><em>newSubsetName</em>&nbsp;</td><td>
input - new subset's name </td></tr>
<tr><td valign="top"><em>newSubset</em>&nbsp;</td><td>
output - handle to new subset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l00963">963</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="subset_8c-source.html#l02128">fc_addMaskMembersToSubset()</a>, <a class="el" href="subset_8c-source.html#l00135">fc_createSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03069">fc_getSubsetMembersAsMask()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="elemdeath_8c-source.html#l00778">fc_subsetSegmentsMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00967"></a>00967  {
<a name="l00968"></a>00968   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc, rc1, rc2;
<a name="l00969"></a>00969   <span class="keywordtype">int</span> i;
<a name="l00970"></a>00970   <span class="keywordtype">int</span> maskLength, *mask;
<a name="l00971"></a>00971   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l00972"></a>00972   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh;
<a name="l00973"></a>00973   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l00974"></a>00974 
<a name="l00975"></a>00975   <span class="comment">// default returns</span>
<a name="l00976"></a>00976   <span class="keywordflow">if</span> (newSubset)
<a name="l00977"></a>00977     *newSubset = <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>;        
<a name="l00978"></a>00978  
<a name="l00979"></a>00979   <span class="comment">// check input</span>
<a name="l00980"></a>00980   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset) || !newSubsetName || !newSubset) {
<a name="l00981"></a>00981     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l00982"></a>00982     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l00983"></a>00983   }
<a name="l00984"></a>00984   
<a name="l00985"></a>00985   <span class="comment">// log message</span>
<a name="l00986"></a>00986   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l00987"></a>00987   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Creating complement to subset '%s' with name '%s'"</span>,
<a name="l00988"></a>00988                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, newSubsetName);
<a name="l00989"></a>00989   
<a name="l00990"></a>00990   <span class="comment">// get subset members</span>
<a name="l00991"></a>00991   rc = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset, &amp;mesh);
<a name="l00992"></a>00992   rc1 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset, NULL, NULL, &amp;assoc);
<a name="l00993"></a>00993   rc2 = <a class="code" href="group__Subset.html#g14c2c39f8333c77a7307e754ed7c2b5e" title="Get a copy of subset members as mask.">fc_getSubsetMembersAsMask</a>(subset, &amp;maskLength, &amp;mask); 
<a name="l00994"></a>00994   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l00995"></a>00995     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error in accessing subset's fields"</span>);
<a name="l00996"></a>00996     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l00997"></a>00997   } 
<a name="l00998"></a>00998   
<a name="l00999"></a>00999   <span class="comment">// revert mask in place</span>
<a name="l01000"></a>01000   <span class="keywordflow">for</span> (i = 0; i &lt; maskLength; i++) 
<a name="l01001"></a>01001     mask[i] = ( mask[i] == 0 ) ? 1 : 0;
<a name="l01002"></a>01002 
<a name="l01003"></a>01003   <span class="comment">// create the new subset</span>
<a name="l01004"></a>01004   rc = <a class="code" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88" title="Create a new subset on a specified mesh.">fc_createSubset</a>(mesh, newSubsetName, assoc, &amp;(*newSubset));
<a name="l01005"></a>01005   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01006"></a>01006     free(mask);
<a name="l01007"></a>01007     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"error creating subset"</span>);
<a name="l01008"></a>01008     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01009"></a>01009   }
<a name="l01010"></a>01010   rc = <a class="code" href="group__Subset.html#g2cbc08560421c5c9d0a71033e41b895d" title="Add members from a mask to a subset.">fc_addMaskMembersToSubset</a>(*newSubset, maskLength, mask);
<a name="l01011"></a>01011   free(mask);
<a name="l01012"></a>01012 
<a name="l01013"></a>01013   <span class="keywordflow">return</span> rc;
<a name="l01014"></a>01014 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gebbcc05ef1a5287612b7767903e69b68"></a><!-- doxytag: member="subset.c::fc_createSubsetIntersection" ref="gebbcc05ef1a5287612b7767903e69b68" args="(FC_Subset subset1, char *operation, FC_Subset subset2, char *newSubsetName, FC_Subset *newSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_createSubsetIntersection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>newSubsetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>newSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create subset based on intersection of two input subsets. 
<p>
<b>Description:</b> <p>
Create new subset by performing logical operation (intersection) on two input subsets. The operation is given by a string and can have the following values:<ul>
<li><b>"AND"</b>, <b>"and"</b>, <b>"&amp;&amp;"</b> or <b>"&amp;"</b> --- the logical AND operation</li><li><b>"OR"</b>, <b>"or"</b>, <b>"||"</b> or <b>"|"</b> --- the logical OR op.</li><li><b>"XOR"</b> <b>"xor"</b>, or <b>"^"</b> --- the logical XOR (OR-AND) op.</li></ul>
<p>
Subset's need to have the same association type.<p>
FC_NULL_SUBSET is allowed for one of the subsets and behaves the same as if you had provided an empty subset.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000096">Todo:</a></b></dt><dd>?Right now can only intersect sets on same mesh.</dd></dl>
<b>Modifications:</b> <ul>
<li>05/18/04 RM, created.</li><li>09/21/04 WSK, changed input checking &amp; cleanup. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset1</em>&nbsp;</td><td>
input - first subset's handle </td></tr>
<tr><td valign="top"><em>operation</em>&nbsp;</td><td>
input - string describing logical operation </td></tr>
<tr><td valign="top"><em>subset2</em>&nbsp;</td><td>
input - second subset's handle </td></tr>
<tr><td valign="top"><em>newSubsetName</em>&nbsp;</td><td>
output - new subset's name </td></tr>
<tr><td valign="top"><em>newSubset</em>&nbsp;</td><td>
output - new subset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01040">1040</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l02064">fc_addArrayMembersToSubset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00135">fc_createSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l02868">fc_getSubsetMaxNumMember()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="threshold_8c-source.html#l00224">fc_createThresholdRangeSubset()</a>, <a class="el" href="elemdeath_8c-source.html#l00262">fc_getDecayedSkin()</a>, <a class="el" href="elemdeath_8c-source.html#l00130">fc_getExposedSkin()</a>, <a class="el" href="screwBreaks_8c-source.html#l00700">main()</a>, and <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01046"></a>01046   {
<a name="l01047"></a>01047   <span class="keywordtype">int</span> ioper, i, j, k;
<a name="l01048"></a>01048   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc,rc1,rc2;
<a name="l01049"></a>01049   <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> tempSubset;
<a name="l01050"></a>01050   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh1, mesh2;
<a name="l01051"></a>01051   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc1, assoc2;
<a name="l01052"></a>01052   <span class="keywordtype">int</span> numMember1, *members1, numMember2, *members2;
<a name="l01053"></a>01053   <span class="keywordtype">int</span> maxNumMember, *newMembers, newNumMember;
<a name="l01054"></a>01054 
<a name="l01055"></a>01055   <span class="comment">// default returns</span>
<a name="l01056"></a>01056   <span class="keywordflow">if</span> (newSubset)
<a name="l01057"></a>01057     *newSubset = <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>;
<a name="l01058"></a>01058 
<a name="l01059"></a>01059   <span class="comment">// check input (1 NULL subset is o.k., but not both)</span>
<a name="l01060"></a>01060   <span class="keywordflow">if</span> (!newSubset || !operation || !newSubsetName || !newSubset ||
<a name="l01061"></a>01061       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset1) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset1,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01062"></a>01062       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset2) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset2,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01063"></a>01063       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset1) &amp;&amp; !<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset2))   ) {
<a name="l01064"></a>01064     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01065"></a>01065     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01066"></a>01066   }
<a name="l01067"></a>01067 
<a name="l01068"></a>01068   <span class="comment">// check the ops</span>
<a name="l01069"></a>01069   <span class="keywordflow">if</span> (!strcmp(operation,<span class="stringliteral">"AND"</span>) || 
<a name="l01070"></a>01070       !strcmp(operation,<span class="stringliteral">"and"</span>) || 
<a name="l01071"></a>01071       !strcmp(operation,<span class="stringliteral">"&amp;&amp;"</span>)  || 
<a name="l01072"></a>01072       !strcmp(operation,<span class="stringliteral">"&amp;"</span>)      ) 
<a name="l01073"></a>01073     ioper = 0;
<a name="l01074"></a>01074   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(operation,<span class="stringliteral">"OR"</span>) ||
<a name="l01075"></a>01075            !strcmp(operation,<span class="stringliteral">"or"</span>) ||  
<a name="l01076"></a>01076            !strcmp(operation,<span class="stringliteral">"||"</span>) || 
<a name="l01077"></a>01077            !strcmp(operation,<span class="stringliteral">"|"</span>)      ) 
<a name="l01078"></a>01078     ioper = 1;
<a name="l01079"></a>01079   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(operation,<span class="stringliteral">"XOR"</span>) ||
<a name="l01080"></a>01080            !strcmp(operation,<span class="stringliteral">"xor"</span>) ||  
<a name="l01081"></a>01081            !strcmp(operation,<span class="stringliteral">"^"</span>)      )
<a name="l01082"></a>01082     ioper = 2;
<a name="l01083"></a>01083   <span class="keywordflow">else</span> {
<a name="l01084"></a>01084         <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"unrecognized operation '%s'"</span>,operation);
<a name="l01085"></a>01085     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01086"></a>01086   }
<a name="l01087"></a>01087 
<a name="l01088"></a>01088   <span class="comment">// ----- special case: one subset is FC_NULL_SUBSET </span>
<a name="l01089"></a>01089 
<a name="l01090"></a>01090   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset1, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>) || 
<a name="l01091"></a>01091       <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset2, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)    ) {
<a name="l01092"></a>01092     <span class="comment">// identify non-null subset &amp; it's parent mesh</span>
<a name="l01093"></a>01093     <span class="keywordflow">if</span> (!<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset1, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>))
<a name="l01094"></a>01094       tempSubset = subset1;
<a name="l01095"></a>01095     <span class="keywordflow">else</span>
<a name="l01096"></a>01096       tempSubset = subset2;
<a name="l01097"></a>01097     rc = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(tempSubset, &amp;mesh1); 
<a name="l01098"></a>01098     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01099"></a>01099       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't get mesh from subset."</span>);
<a name="l01100"></a>01100       <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01101"></a>01101     }
<a name="l01102"></a>01102 
<a name="l01103"></a>01103     <span class="comment">// if operation is "AND" return an empty subset of appropriate assoc </span>
<a name="l01104"></a>01104     <span class="keywordflow">if</span> (ioper == 0 ) {
<a name="l01105"></a>01105       rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(tempSubset, NULL, NULL, &amp;assoc1);
<a name="l01106"></a>01106       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) 
<a name="l01107"></a>01107         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01108"></a>01108       rc = <a class="code" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88" title="Create a new subset on a specified mesh.">fc_createSubset</a>(mesh1, newSubsetName, assoc1, newSubset);
<a name="l01109"></a>01109       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l01110"></a>01110         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01111"></a>01111     }
<a name="l01112"></a>01112     <span class="comment">// otherwise return a copy of the other subset  </span>
<a name="l01113"></a>01113     <span class="keywordflow">else</span> {
<a name="l01114"></a>01114       rc = <a class="code" href="group__Subset.html#g8c233583d14e8205bbfe4aca0d196772" title="Copy subset to a new subset.">fc_copySubset</a>(tempSubset, mesh1, newSubsetName, &amp;(*newSubset));
<a name="l01115"></a>01115       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l01116"></a>01116         <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01117"></a>01117     }     
<a name="l01118"></a>01118     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;  <span class="comment">// return after special cases</span>
<a name="l01119"></a>01119   }
<a name="l01120"></a>01120   
<a name="l01121"></a>01121   <span class="comment">// check if subsets are defined on the same mesh, if not return input error</span>
<a name="l01122"></a>01122   rc1 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset1, &amp;mesh1);
<a name="l01123"></a>01123   rc2 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset2, &amp;mesh2);
<a name="l01124"></a>01124   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(mesh1,mesh2)) {
<a name="l01125"></a>01125     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get mesh from subset, or "</span>
<a name="l01126"></a>01126                           <span class="stringliteral">"subsets defined on different meshes"</span>);
<a name="l01127"></a>01127     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01128"></a>01128   } 
<a name="l01129"></a>01129   
<a name="l01130"></a>01130   <span class="comment">// get info about the subsets</span>
<a name="l01131"></a>01131   rc1 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset1, NULL, NULL, &amp;assoc1);
<a name="l01132"></a>01132   rc2 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset2, NULL, NULL, &amp;assoc2);
<a name="l01133"></a>01133   
<a name="l01134"></a>01134   <span class="comment">// check if both subsets have the same association</span>
<a name="l01135"></a>01135   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || assoc1 != assoc2 ) {
<a name="l01136"></a>01136     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get info from subset, or "</span> 
<a name="l01137"></a>01137                           <span class="stringliteral">"subsets defined with different association type"</span>);
<a name="l01138"></a>01138     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01139"></a>01139   }
<a name="l01140"></a>01140   
<a name="l01141"></a>01141   <span class="comment">// --- get new members</span>
<a name="l01142"></a>01142 
<a name="l01143"></a>01143   <span class="comment">// setup</span>
<a name="l01144"></a>01144   rc = <a class="code" href="group__Subset.html#gf2cf1c160b0dbe5efc78d12a0bb9caed" title="Get the maximum possible number of members a subset could have.">fc_getSubsetMaxNumMember</a>(subset1, &amp;maxNumMember);
<a name="l01145"></a>01145   rc1 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset1, &amp;numMember1, &amp;members1);
<a name="l01146"></a>01146   rc2 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset2, &amp;numMember2, &amp;members2);
<a name="l01147"></a>01147   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01148"></a>01148     free(members1);
<a name="l01149"></a>01149     free(members2);
<a name="l01150"></a>01150     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01151"></a>01151   }
<a name="l01152"></a>01152   newMembers = (<span class="keywordtype">int</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxNumMember);
<a name="l01153"></a>01153   <span class="keywordflow">if</span> (!newMembers) {
<a name="l01154"></a>01154     free(members1);
<a name="l01155"></a>01155     free(members2);
<a name="l01156"></a>01156     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01157"></a>01157     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01158"></a>01158   }
<a name="l01159"></a>01159 
<a name="l01160"></a>01160   <span class="comment">// Walk both arrays at same time, adding to newMembers when appropriate</span>
<a name="l01161"></a>01161   newNumMember = 0;
<a name="l01162"></a>01162   i = 0;
<a name="l01163"></a>01163   j = 0;
<a name="l01164"></a>01164   <span class="keywordflow">while</span> (i &lt; numMember1 &amp;&amp; j &lt; numMember2) {
<a name="l01165"></a>01165     <span class="keywordflow">if</span> (members1[i] &lt; members2[j]) { <span class="comment">// not the same</span>
<a name="l01166"></a>01166       <span class="keywordflow">if</span> (ioper == 1) { <span class="comment">// "OR"</span>
<a name="l01167"></a>01167         newMembers[newNumMember] = members1[i];
<a name="l01168"></a>01168         newNumMember++;
<a name="l01169"></a>01169       }
<a name="l01170"></a>01170       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ioper == 2) { <span class="comment">// "XOR"</span>
<a name="l01171"></a>01171         newMembers[newNumMember] = members1[i];
<a name="l01172"></a>01172         newNumMember++;
<a name="l01173"></a>01173       }
<a name="l01174"></a>01174       i++;
<a name="l01175"></a>01175     }
<a name="l01176"></a>01176     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (members1[i] &gt; members2[j]) { <span class="comment">// not the same</span>
<a name="l01177"></a>01177       <span class="keywordflow">if</span> (ioper == 1) { <span class="comment">// "OR"</span>
<a name="l01178"></a>01178         newMembers[newNumMember] = members2[j];
<a name="l01179"></a>01179         newNumMember++;
<a name="l01180"></a>01180       }
<a name="l01181"></a>01181       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ioper == 2) { <span class="comment">// "XOR"</span>
<a name="l01182"></a>01182         newMembers[newNumMember] = members2[j];
<a name="l01183"></a>01183         newNumMember++;
<a name="l01184"></a>01184       }
<a name="l01185"></a>01185       j++;
<a name="l01186"></a>01186     }
<a name="l01187"></a>01187     <span class="keywordflow">else</span> { <span class="comment">// the same</span>
<a name="l01188"></a>01188       <span class="keywordflow">if</span> (ioper == 0) { <span class="comment">// "AND"</span>
<a name="l01189"></a>01189         newMembers[newNumMember] = members1[i];
<a name="l01190"></a>01190         newNumMember++;
<a name="l01191"></a>01191       }
<a name="l01192"></a>01192       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ioper == 1) { <span class="comment">// "OR"</span>
<a name="l01193"></a>01193         newMembers[newNumMember] = members1[i];
<a name="l01194"></a>01194         newNumMember++;
<a name="l01195"></a>01195       }
<a name="l01196"></a>01196       i++;
<a name="l01197"></a>01197       j++;
<a name="l01198"></a>01198     }
<a name="l01199"></a>01199   }
<a name="l01200"></a>01200   <span class="keywordflow">for</span> (k = i; k &lt; numMember1; k++) {
<a name="l01201"></a>01201     <span class="keywordflow">if</span> (ioper &gt; 0) {
<a name="l01202"></a>01202       newMembers[newNumMember] = members1[k];
<a name="l01203"></a>01203       newNumMember++;
<a name="l01204"></a>01204     }
<a name="l01205"></a>01205   }
<a name="l01206"></a>01206   <span class="keywordflow">for</span> (k = j; k &lt; numMember2; k++) {
<a name="l01207"></a>01207     <span class="keywordflow">if</span> (ioper &gt; 0) {
<a name="l01208"></a>01208       newMembers[newNumMember] = members2[k];
<a name="l01209"></a>01209       newNumMember++;
<a name="l01210"></a>01210     }
<a name="l01211"></a>01211   }
<a name="l01212"></a>01212   free(members1);
<a name="l01213"></a>01213   free(members2);
<a name="l01214"></a>01214 
<a name="l01215"></a>01215   <span class="comment">// --- make the new subset</span>
<a name="l01216"></a>01216   rc = <a class="code" href="group__Subset.html#gccbfd6035cd0b949a4fac98888348e88" title="Create a new subset on a specified mesh.">fc_createSubset</a>(mesh1, newSubsetName, assoc1, newSubset);
<a name="l01217"></a>01217   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01218"></a>01218     free(newMembers);
<a name="l01219"></a>01219     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01220"></a>01220   }
<a name="l01221"></a>01221 
<a name="l01222"></a>01222   <span class="comment">// --- done if there are no members</span>
<a name="l01223"></a>01223   <span class="keywordflow">if</span> (newNumMember == 0) {
<a name="l01224"></a>01224     free(newMembers);
<a name="l01225"></a>01225     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01226"></a>01226   }
<a name="l01227"></a>01227   
<a name="l01228"></a>01228   rc = <a class="code" href="group__Subset.html#g123bb2337bd35a1915aa736270ed3d40" title="Add members from an array to a subset.">fc_addArrayMembersToSubset</a>(*newSubset, newNumMember, newMembers);
<a name="l01229"></a>01229   free(newMembers); 
<a name="l01230"></a>01230   <span class="keywordflow">return</span> rc;
<a name="l01231"></a>01231 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g581838fadfd530107eefe1560d58c027"></a><!-- doxytag: member="subset.c::fc_deleteArrayMembersFromSubset" ref="g581838fadfd530107eefe1560d58c027" args="(FC_Subset subset, int numElement, int *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteArrayMembersFromSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numElement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>array</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete array members from a subset. 
<p>
<b>Description:</b> <p>
Delete members given in an array from a subset. The operation is done on native subset representation type. <a class="el" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a> will be returned if any of the array members are outside the valid range.<p>
An empty array is o.k. and will not return an error.<p>
Members cannot be deleted from a committed subset (i.e. written to disk).<p>
<b>Modifications:</b> <ul>
<li>05/03/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>numElement</em>&nbsp;</td><td>
input - number of elements in an input array </td></tr>
<tr><td valign="top"><em>array</em>&nbsp;</td><td>
input - pointer to input array with subset members </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02249">2249</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="subset_8c-source.html#l02195">fc_deleteMemberFromSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02253"></a>02253   {
<a name="l02254"></a>02254   <span class="keywordtype">int</span> i;
<a name="l02255"></a>02255   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l02256"></a>02256   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02257"></a>02257 
<a name="l02258"></a>02258   <span class="comment">// check input</span>
<a name="l02259"></a>02259   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02260"></a>02260   <span class="keywordflow">if</span> ( !subSlot || numElement &lt; 0 || (numElement &gt; 0 &amp;&amp; !array) ) { 
<a name="l02261"></a>02261     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02262"></a>02262     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02263"></a>02263   }     
<a name="l02264"></a>02264   <span class="keywordflow">for</span> (i = 0; i &lt; numElement; i++) {
<a name="l02265"></a>02265     <span class="keywordflow">if</span> (array[i] &lt; 0 || array[i] &gt;= subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>) {
<a name="l02266"></a>02266       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02267"></a>02267       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02268"></a>02268     }
<a name="l02269"></a>02269   }
<a name="l02270"></a>02270 
<a name="l02271"></a>02271   <span class="comment">// can't modify a committed subset</span>
<a name="l02272"></a>02272   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02273"></a>02273     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02274"></a>02274                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02275"></a>02275     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02276"></a>02276   }
<a name="l02277"></a>02277 
<a name="l02278"></a>02278   <span class="comment">// trivial case, no members in an array</span>
<a name="l02279"></a>02279   <span class="keywordflow">if</span> (numElement == 0) 
<a name="l02280"></a>02280     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02281"></a>02281 
<a name="l02282"></a>02282   <span class="comment">// do it</span>
<a name="l02283"></a>02283   <span class="keywordflow">for</span> (i = 0; i &lt; numElement; i++) {
<a name="l02284"></a>02284     rc = <a class="code" href="group__Subset.html#ga2fd536e051210eaf3e749fc688d29c0" title="Delete member from a subset.">fc_deleteMemberFromSubset</a>(subset, array[i]);
<a name="l02285"></a>02285     <span class="keywordflow">if</span>(rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> ) {
<a name="l02286"></a>02286       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to delete member from subset '%s'"</span>,
<a name="l02287"></a>02287                             subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02288"></a>02288       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l02289"></a>02289     }
<a name="l02290"></a>02290   }
<a name="l02291"></a>02291 
<a name="l02292"></a>02292   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02293"></a>02293 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf0c59a8830dd016ac92a2be55316e0c3"></a><!-- doxytag: member="subset.c::fc_deleteMaskMembersFromSubset" ref="gf0c59a8830dd016ac92a2be55316e0c3" args="(FC_Subset subset, int maskLength, int *mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteMaskMembersFromSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maskLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete mask members from a subset. 
<p>
<b>Description:</b> <p>
Delete members given by a mask from a subset. The operation is done on native subset representation type. <a class="el" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a> is returned if the given mask has different size that the mask in subset.<p>
Members cannot be deleted from a committed subset (i.e. written to disk).<p>
<b>Modifications:</b> <ul>
<li>05/03/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>maskLength</em>&nbsp;</td><td>
input - number of elements in an input mask </td></tr>
<tr><td valign="top"><em>mask</em>&nbsp;</td><td>
input - pointer to input mask with subset members </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02312">2312</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="subset_8c-source.html#l02195">fc_deleteMemberFromSubset()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02316"></a>02316   {
<a name="l02317"></a>02317   <span class="keywordtype">int</span> i;
<a name="l02318"></a>02318   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;  
<a name="l02319"></a>02319   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02320"></a>02320 
<a name="l02321"></a>02321   <span class="comment">// check input</span>
<a name="l02322"></a>02322   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02323"></a>02323   <span class="keywordflow">if</span> ( !subSlot || maskLength &lt; 0 || (maskLength &gt; 0 &amp;&amp; !mask) || 
<a name="l02324"></a>02324        (maskLength &gt; 0 &amp;&amp; maskLength != subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>) ) { 
<a name="l02325"></a>02325    <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02326"></a>02326     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02327"></a>02327   }  
<a name="l02328"></a>02328    
<a name="l02329"></a>02329   <span class="comment">// can't modify a committed subset</span>
<a name="l02330"></a>02330   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02331"></a>02331     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02332"></a>02332                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02333"></a>02333     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02334"></a>02334   }
<a name="l02335"></a>02335 
<a name="l02336"></a>02336   <span class="comment">// no logging on purpose since this may get called over and over</span>
<a name="l02337"></a>02337 
<a name="l02338"></a>02338   <span class="comment">// trivial case, no elements in a mask</span>
<a name="l02339"></a>02339   <span class="keywordflow">if</span> (maskLength == 0) 
<a name="l02340"></a>02340     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02341"></a>02341 
<a name="l02342"></a>02342   <span class="keywordflow">for</span> (i = 0; i &lt; maskLength; i++)
<a name="l02343"></a>02343     <span class="comment">// delete member where mask == 1</span>
<a name="l02344"></a>02344     <span class="keywordflow">if</span> (mask[i] == 1) {
<a name="l02345"></a>02345       rc = <a class="code" href="group__Subset.html#ga2fd536e051210eaf3e749fc688d29c0" title="Delete member from a subset.">fc_deleteMemberFromSubset</a>(subset, i);
<a name="l02346"></a>02346       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> ) {
<a name="l02347"></a>02347         <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to delete member to subset '%s'"</span>,
<a name="l02348"></a>02348                               subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02349"></a>02349         <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l02350"></a>02350       }
<a name="l02351"></a>02351     }
<a name="l02352"></a>02352 
<a name="l02353"></a>02353   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02354"></a>02354 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga2fd536e051210eaf3e749fc688d29c0"></a><!-- doxytag: member="subset.c::fc_deleteMemberFromSubset" ref="ga2fd536e051210eaf3e749fc688d29c0" args="(FC_Subset subset, int member)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteMemberFromSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>member</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete member from a subset. 
<p>
<b>Description:</b> <p>
Delete member from a given subset, does not change subset type--operation is done on the native subset type. <a class="el" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a> is returned if the member is outside of the valid range.<p>
Members cannot be deleted from a committed subset (i.e. written to disk).<p>
<b>Modifications:</b> <ul>
<li>05/03/04 RM, created.</li><li>05/11/04 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input/output - subset handle </td></tr>
<tr><td valign="top"><em>member</em>&nbsp;</td><td>
input - member to delete </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02195">2195</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="storage_8c-source.html#l00591">fc_deleteIntFromSortedIntArray()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, and <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l02249">fc_deleteArrayMembersFromSubset()</a>, and <a class="el" href="subset_8c-source.html#l02312">fc_deleteMaskMembersFromSubset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02198"></a>02198   {
<a name="l02199"></a>02199   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02200"></a>02200   <span class="keywordtype">int</span> ret;
<a name="l02201"></a>02201 
<a name="l02202"></a>02202   <span class="comment">// check input, subset-&gt;storageType should never be FC_ST_UNKNOWN,</span>
<a name="l02203"></a>02203   <span class="comment">// member has to be positive &gt;= 0  </span>
<a name="l02204"></a>02204   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02205"></a>02205   <span class="keywordflow">if</span> (!subSlot || member &lt; 0 || member &gt; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>-1 ) { 
<a name="l02206"></a>02206     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02207"></a>02207     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02208"></a>02208   }
<a name="l02209"></a>02209   
<a name="l02210"></a>02210   <span class="comment">// can't modify a committed subset</span>
<a name="l02211"></a>02211   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a>) {
<a name="l02212"></a>02212     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Can't modify committed subset '%s'"</span>,
<a name="l02213"></a>02213                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02214"></a>02214     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02215"></a>02215   }
<a name="l02216"></a>02216 
<a name="l02217"></a>02217   <span class="comment">// no logging on purpose since this may get called over and over</span>
<a name="l02218"></a>02218 
<a name="l02219"></a>02219   <span class="comment">// delete member from the subset</span>
<a name="l02220"></a>02220   ret = <a class="code" href="group__SimpleDataObjects.html#gc800f634fb42d44a6c31d79743a6864c" title="Remove an int from a sorted int array.">fc_deleteIntFromSortedIntArray</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>, member);
<a name="l02221"></a>02221   <span class="keywordflow">if</span> (ret &lt; 0) {
<a name="l02222"></a>02222     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to delete in from sorted int array"</span>);
<a name="l02223"></a>02223     <span class="keywordflow">return</span> ret;
<a name="l02224"></a>02224   }
<a name="l02225"></a>02225   subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> -= ret;
<a name="l02226"></a>02226   
<a name="l02227"></a>02227   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02228"></a>02228 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga57c2d0541790ffc5c0ba2686290f0b3"></a><!-- doxytag: member="subset.c::fc_deleteSeqSubset" ref="ga57c2d0541790ffc5c0ba2686290f0b3" args="(int numStep, FC_Subset *subsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteSeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>subsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a seq subset. 
<p>
<b>Description:</b> <p>
Call when this seq subset is no longer needed.<p>
NOTE: this does not delete the array of subset handles that makes up the seq subset, the user is still responsible for this.<p>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - the number of subset handles </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
input - subset handles </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02543">2543</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03845">_fc_deleteSubSlot()</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, and <a class="el" href="mesh_8c-source.html#l02626">fc_deleteMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02546"></a>02546   {
<a name="l02547"></a>02547   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc, rc_keep;
<a name="l02548"></a>02548   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* first_subSlot;
<a name="l02549"></a>02549   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l02550"></a>02550   <span class="keywordtype">int</span> i, j;
<a name="l02551"></a>02551          
<a name="l02552"></a>02552   <span class="comment">// special case: deleting a null list is not an error</span>
<a name="l02553"></a>02553   <span class="keywordflow">if</span> (numStep &lt;= 0 &amp;&amp; subsets == NULL) {
<a name="l02554"></a>02554     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting NULL seq subset"</span>);
<a name="l02555"></a>02555     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02556"></a>02556   }
<a name="l02557"></a>02557 
<a name="l02558"></a>02558   <span class="comment">// check input</span>
<a name="l02559"></a>02559   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep, subsets)) {
<a name="l02560"></a>02560     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02561"></a>02561     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02562"></a>02562   }
<a name="l02563"></a>02563 
<a name="l02564"></a>02564   first_subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subsets[0]);
<a name="l02565"></a>02565   <span class="keywordflow">if</span> (first_subSlot == NULL) {
<a name="l02566"></a>02566     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02567"></a>02567     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02568"></a>02568   }
<a name="l02569"></a>02569   <span class="comment">// log message</span>
<a name="l02570"></a>02570   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Deleting subset '%s'"</span>, first_subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02571"></a>02571 
<a name="l02572"></a>02572   <span class="comment">//remove references from mesh</span>
<a name="l02573"></a>02573   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(first_subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a>);
<a name="l02574"></a>02574   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a> == 1 ) {
<a name="l02575"></a>02575     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>);
<a name="l02576"></a>02576     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a> = NULL;
<a name="l02577"></a>02577     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[0]);
<a name="l02578"></a>02578     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>);
<a name="l02579"></a>02579     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a> = NULL;
<a name="l02580"></a>02580     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a> = 0;
<a name="l02581"></a>02581   } <span class="keywordflow">else</span> {
<a name="l02582"></a>02582     <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; i++){
<a name="l02583"></a>02583       <span class="keywordflow">if</span> ((meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[i][0] == first_subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>)
<a name="l02584"></a>02584         <span class="keywordflow">break</span>;
<a name="l02585"></a>02585     }
<a name="l02586"></a>02586     free((meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[i]);
<a name="l02587"></a>02587     <span class="keywordflow">for</span> (j = i+1; j &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; j++) {
<a name="l02588"></a>02588       (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>)[j-1] = (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>)[j];
<a name="l02589"></a>02589       (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[j-1] = (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[j];
<a name="l02590"></a>02590     }
<a name="l02591"></a>02591     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>--;
<a name="l02592"></a>02592   }
<a name="l02593"></a>02593 
<a name="l02594"></a>02594   <span class="comment">// clear &amp; delete slots</span>
<a name="l02595"></a>02595   rc_keep = <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02596"></a>02596   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++){
<a name="l02597"></a>02597     rc = <a class="code" href="group__PrivateSubset.html#gad2dd7beee2c3b9ebf56e8eb2c31bb34" title="Delete the subset slot associated with the subset handle.">_fc_deleteSubSlot</a>(subsets[i]);
<a name="l02598"></a>02598     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l02599"></a>02599       rc_keep = rc;
<a name="l02600"></a>02600   }
<a name="l02601"></a>02601 
<a name="l02602"></a>02602   <span class="keywordflow">return</span> rc_keep;
<a name="l02603"></a>02603 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g550d0636e4f35c29d6dbc427b3165a24"></a><!-- doxytag: member="subset.c::fc_deleteSubset" ref="g550d0636e4f35c29d6dbc427b3165a24" args="(FC_Subset subset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_deleteSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a subset. 
<p>
<b>Description:</b> <p>
Call when this subset is no longer needed.<p>
<b>Modifications:</b> <ul>
<li>04/20/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>.</li><li>9/9/04 WSK changed name to delete. Changed behavior so that delete always deletes no matter whether on disk or not. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02482">2482</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03845">_fc_deleteSubSlot()</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>

<p>Referenced by <a class="el" href="elemdeath_8c-source.html#l01268">_fc_recursive_IndividuallySegmentingNodes()</a>, <a class="el" href="screwBreaks_8c-source.html#l00652">broken()</a>, <a class="el" href="volumeSegments_8c-source.html#l00334">calcSegmentsVolumes()</a>, <a class="el" href="tears_8c-source.html#l00686">calcShapeIntersection()</a>, <a class="el" href="elemdeath_8c-source.html#l01196">fc_calcTearLength()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="threshold_8c-source.html#l00224">fc_createThresholdRangeSubset()</a>, <a class="el" href="mesh_8c-source.html#l02626">fc_deleteMesh()</a>, <a class="el" href="shape_8c-source.html#l02320">fc_freeShape()</a>, <a class="el" href="elemdeath_8c-source.html#l00583">fc_getDecayedShapeSides()</a>, <a class="el" href="elemdeath_8c-source.html#l00499">fc_getDecayedShapeSkin()</a>, <a class="el" href="elemdeath_8c-source.html#l00262">fc_getDecayedSkin()</a>, <a class="el" href="geom_8c-source.html#l01699">fc_getDisplacedMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01929">fc_getDisplacedMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04981">fc_getDisplacedMeshesProximity()</a>, <a class="el" href="geom_8c-source.html#l04240">fc_getDisplacedSubsetVolume()</a>, <a class="el" href="elemdeath_8c-source.html#l00130">fc_getExposedSkin()</a>, <a class="el" href="geom_8c-source.html#l01649">fc_getMeshDiameter()</a>, <a class="el" href="geom_8c-source.html#l01841">fc_getMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l04897">fc_getMeshesProximity()</a>, <a class="el" href="shape_8c-source.html#l01515">fc_getMeshShapes()</a>, <a class="el" href="topo_8c-source.html#l01792">fc_getMeshSkin()</a>, <a class="el" href="geom_8c-source.html#l04129">fc_getSubsetVolume()</a>, <a class="el" href="elemdeath_8c-source.html#l00778">fc_subsetSegmentsMesh()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, <a class="el" href="threshBoundBox_8c-source.html#l00454">find_and_print_bbs()</a>, <a class="el" href="tears_8c-source.html#l00624">freeShapeWOrder_ShapeOnly()</a>, <a class="el" href="screwBreaks_8c-source.html#l00583">getDeathThresholdSubset()</a>, <a class="el" href="elemdeath__ex1_8c-source.html#l00147">main()</a>, <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>, <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>, <a class="el" href="screwBreaks_8c-source.html#l00617">projection()</a>, and <a class="el" href="screwBreaks_8c-source.html#l00439">segmentMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02484"></a>02484   {
<a name="l02485"></a>02485   <span class="keywordtype">int</span> i, j;
<a name="l02486"></a>02486   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02487"></a>02487   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l02488"></a>02488          
<a name="l02489"></a>02489   <span class="comment">// special case: deleting a null handle is not an error</span>
<a name="l02490"></a>02490   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) {
<a name="l02491"></a>02491     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Deleting FC_NULL_SUBSET"</span>);
<a name="l02492"></a>02492     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02493"></a>02493   }
<a name="l02494"></a>02494 
<a name="l02495"></a>02495   <span class="comment">// check input</span>
<a name="l02496"></a>02496   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02497"></a>02497   <span class="keywordflow">if</span> (subSlot == NULL) {
<a name="l02498"></a>02498     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02499"></a>02499     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02500"></a>02500   }
<a name="l02501"></a>02501         
<a name="l02502"></a>02502   <span class="comment">// log message</span>
<a name="l02503"></a>02503   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Deleting subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02504"></a>02504 
<a name="l02505"></a>02505   <span class="comment">// setup</span>
<a name="l02506"></a>02506   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a>);
<a name="l02507"></a>02507 
<a name="l02508"></a>02508   <span class="comment">// remove reference from mesh</span>
<a name="l02509"></a>02509   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a> == 1) {
<a name="l02510"></a>02510     free(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>);
<a name="l02511"></a>02511     meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a> = NULL;
<a name="l02512"></a>02512   }
<a name="l02513"></a>02513   <span class="keywordflow">else</span> {
<a name="l02514"></a>02514     <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>; i++) {
<a name="l02515"></a>02515       <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[i] == subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a>)
<a name="l02516"></a>02516         <span class="keywordflow">break</span>;
<a name="l02517"></a>02517     }
<a name="l02518"></a>02518     <span class="keywordflow">for</span> (j = i+1; j &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>; j++) {
<a name="l02519"></a>02519       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[j-1] = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[j];
<a name="l02520"></a>02520     }
<a name="l02521"></a>02521   }
<a name="l02522"></a>02522   meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>--;
<a name="l02523"></a>02523 
<a name="l02524"></a>02524   <span class="comment">// clear &amp; delete slot</span>
<a name="l02525"></a>02525   <span class="keywordflow">return</span> <a class="code" href="group__PrivateSubset.html#gad2dd7beee2c3b9ebf56e8eb2c31bb34" title="Delete the subset slot associated with the subset handle.">_fc_deleteSubSlot</a>(subset);
<a name="l02526"></a>02526 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb7080f044773d103b850e93c3e023a44"></a><!-- doxytag: member="subset.c::fc_doSubsetsIntersect" ref="gb7080f044773d103b850e93c3e023a44" args="(FC_Subset subset1, FC_Subset subset2, int *indicator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_doSubsetsIntersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>indicator</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test if two subsets intersect. 
<p>
<b>Description:</b> <p>
The indicator flag is set to true (1) if two subsets intersect and false (0) if they do not, and -1 in case of error.<p>
Either input subset can be FC_NULL_SUBSET, but the routine will return early with an error if both are. Either subset can be empty, but the routine will return early with an error if both are.<p>
Subsets must have the same associatation type and be defined on the same mesh. These are the same constraints as in <a class="el" href="group__Subset.html#gebbcc05ef1a5287612b7767903e69b68">fc_createSubsetIntersection()</a>.<p>
<b>Modifications:</b> <ul>
<li>10/27/05 ACG created</li><li>01/16/06 ACG making more efficient by copying guts of getSubsetIntersection but stopping when a match is found. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset1</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>subset2</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>indicator</em>&nbsp;</td><td>
output - indicator flag, 1 = they intersect </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01684">1684</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="tears_8c-source.html#l00686">calcShapeIntersection()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, and <a class="el" href="elemdeath_8c-source.html#l00410">fc_getSubsetDecayType()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01688"></a>01688   {
<a name="l01689"></a>01689   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc1,rc2;
<a name="l01690"></a>01690   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh1, mesh2;
<a name="l01691"></a>01691   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc1, assoc2;
<a name="l01692"></a>01692   <span class="keywordtype">int</span> numMember1, *members1, numMember2, *members2;
<a name="l01693"></a>01693   <span class="keywordtype">int</span> i,j;
<a name="l01694"></a>01694 
<a name="l01695"></a>01695   <span class="keywordflow">if</span> (indicator)
<a name="l01696"></a>01696     *indicator = -1;
<a name="l01697"></a>01697 
<a name="l01698"></a>01698   <span class="comment">// check input (1 NULL subset is o.k., but not both)</span>
<a name="l01699"></a>01699   <span class="keywordflow">if</span> (!indicator || 
<a name="l01700"></a>01700       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset1) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset1,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01701"></a>01701       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset2) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset2,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01702"></a>01702       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset1) &amp;&amp; !<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset2))   ) {
<a name="l01703"></a>01703     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01704"></a>01704     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01705"></a>01705   }
<a name="l01706"></a>01706 
<a name="l01707"></a>01707   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"doSubsetsIntersect ?"</span>);
<a name="l01708"></a>01708   
<a name="l01709"></a>01709   <span class="comment">//if one is NULL then return 0</span>
<a name="l01710"></a>01710   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset1,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>) ||
<a name="l01711"></a>01711       <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset2,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)){
<a name="l01712"></a>01712     *indicator = 0;
<a name="l01713"></a>01713     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01714"></a>01714   }
<a name="l01715"></a>01715 
<a name="l01716"></a>01716   <span class="comment">// check if subsets are defined on the same mesh, if not return input error</span>
<a name="l01717"></a>01717   rc1 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset1, &amp;mesh1);
<a name="l01718"></a>01718   rc2 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset2, &amp;mesh2);
<a name="l01719"></a>01719   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(mesh1,mesh2)) {
<a name="l01720"></a>01720     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get mesh from subset, or "</span>
<a name="l01721"></a>01721                           <span class="stringliteral">"subsets defined on different meshes"</span>);
<a name="l01722"></a>01722     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01723"></a>01723   } 
<a name="l01724"></a>01724   
<a name="l01725"></a>01725   <span class="comment">// get info about the subsets</span>
<a name="l01726"></a>01726   rc1 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset1, NULL, NULL, &amp;assoc1);
<a name="l01727"></a>01727   rc2 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset2, NULL, NULL, &amp;assoc2);
<a name="l01728"></a>01728   
<a name="l01729"></a>01729   <span class="comment">// check if both subsets have the same association</span>
<a name="l01730"></a>01730   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || assoc1 != assoc2 ) {
<a name="l01731"></a>01731     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get info from subset, or "</span> 
<a name="l01732"></a>01732                           <span class="stringliteral">"subsets defined with different association type"</span>);
<a name="l01733"></a>01733     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01734"></a>01734   }
<a name="l01735"></a>01735 
<a name="l01736"></a>01736   <span class="comment">// setup</span>
<a name="l01737"></a>01737   rc1 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset1, &amp;numMember1, &amp;members1);
<a name="l01738"></a>01738   rc2 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset2, &amp;numMember2, &amp;members2);
<a name="l01739"></a>01739   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01740"></a>01740     free(members1);
<a name="l01741"></a>01741     free(members2);
<a name="l01742"></a>01742     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01743"></a>01743   }
<a name="l01744"></a>01744 
<a name="l01745"></a>01745   <span class="comment">//empty subsets</span>
<a name="l01746"></a>01746   <span class="keywordflow">if</span> (numMember1 == 0 &amp;&amp; numMember2 == 0){
<a name="l01747"></a>01747     free(members1);
<a name="l01748"></a>01748     free(members2);
<a name="l01749"></a>01749     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't do two empty subsets"</span>);
<a name="l01750"></a>01750     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01751"></a>01751   }
<a name="l01752"></a>01752 
<a name="l01753"></a>01753   <span class="keywordflow">if</span> (numMember1 == 0 || numMember2 == 0){
<a name="l01754"></a>01754     free(members1);
<a name="l01755"></a>01755     free(members2);
<a name="l01756"></a>01756     *indicator = 0;
<a name="l01757"></a>01757     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01758"></a>01758   }
<a name="l01759"></a>01759 
<a name="l01760"></a>01760 
<a name="l01761"></a>01761   <span class="comment">// Walk both arrays at same time</span>
<a name="l01762"></a>01762   i = 0;
<a name="l01763"></a>01763   j = 0;
<a name="l01764"></a>01764   <span class="keywordflow">while</span> (i &lt; numMember1 &amp;&amp; j &lt; numMember2) {
<a name="l01765"></a>01765     <span class="keywordflow">if</span> (members1[i] &lt; members2[j]) { <span class="comment">// not the same</span>
<a name="l01766"></a>01766       i++;
<a name="l01767"></a>01767     }
<a name="l01768"></a>01768     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (members1[i] &gt; members2[j]) { <span class="comment">// not the same</span>
<a name="l01769"></a>01769       j++;
<a name="l01770"></a>01770     }
<a name="l01771"></a>01771     <span class="keywordflow">else</span> { <span class="comment">// the same</span>
<a name="l01772"></a>01772       <span class="comment">//then they intersect</span>
<a name="l01773"></a>01773       free(members1);
<a name="l01774"></a>01774       free(members2);
<a name="l01775"></a>01775       *indicator = 1;
<a name="l01776"></a>01776       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01777"></a>01777     }
<a name="l01778"></a>01778   }
<a name="l01779"></a>01779 
<a name="l01780"></a>01780   <span class="comment">//havent found anything in common</span>
<a name="l01781"></a>01781   *indicator = 0;
<a name="l01782"></a>01782   free(members1);
<a name="l01783"></a>01783   free(members2);
<a name="l01784"></a>01784 
<a name="l01785"></a>01785   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01786"></a>01786 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gddbb3a2f8c43289a3c3754f1546462bc"></a><!-- doxytag: member="subset.c::fc_getMeshFromSubset" ref="gddbb3a2f8c43289a3c3754f1546462bc" args="(FC_Subset subset, FC_Mesh *mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getMeshFromSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a> *&nbsp;</td>
          <td class="paramname"> <em>mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parent mesh of the subset. 
<p>
<b>Modifications:</b> <ul>
<li>04/20/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
output - mesh handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02741">2741</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00774">FC_NULL_MESH</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00593">_fc_buildFaceInfoListFromShape()</a>, <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="geom_8c-source.html#l02256">_fc_getSubsetDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l02382">_fc_getSubsetsDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l05181">_fc_getSubsetsProximityArgsTest()</a>, <a class="el" href="geom_8c-source.html#l05303">_fc_getSubsetsProximityCore()</a>, <a class="el" href="elemdeath_8c-source.html#l01268">_fc_recursive_IndividuallySegmentingNodes()</a>, <a class="el" href="volumeSegments_8c-source.html#l00334">calcSegmentsVolumes()</a>, <a class="el" href="subset_8c-source.html#l00568">fc_convertSubsetsToSeqSubset()</a>, <a class="el" href="shape_8c-source.html#l02098">fc_copyShape()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="subset_8c-source.html#l01684">fc_doSubsetsIntersect()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="elemdeath_8c-source.html#l00262">fc_getDecayedSkin()</a>, <a class="el" href="geom_8c-source.html#l01929">fc_getDisplacedMeshesDiameter()</a>, <a class="el" href="geom_8c-source.html#l00956">fc_getDisplacedSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l03036">fc_getDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l01790">fc_getDisplacedSubsetDiameter()</a>, <a class="el" href="geom_8c-source.html#l02068">fc_getDisplacedSubsetsDiameter()</a>, <a class="el" href="geom_8c-source.html#l04240">fc_getDisplacedSubsetVolume()</a>, <a class="el" href="geom_8c-source.html#l07958">fc_getElementsThatContainPointFromSubset()</a>, <a class="el" href="elemdeath_8c-source.html#l00130">fc_getExposedSkin()</a>, <a class="el" href="geom_8c-source.html#l01841">fc_getMeshesDiameter()</a>, <a class="el" href="shape_8c-source.html#l03873">fc_getPlanarSideNormal()</a>, <a class="el" href="shape_8c-source.html#l03754">fc_getShapeSidesAreas()</a>, <a class="el" href="shape_8c-source.html#l04008">fc_getSideNormalMeanSdev()</a>, <a class="el" href="geom_8c-source.html#l04344">fc_getSubsetArea()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="topo_8c-source.html#l00603">fc_getSubsetNeighbors()</a>, <a class="el" href="shape_8c-source.html#l01339">fc_getSubsetShapes()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="geom_8c-source.html#l04129">fc_getSubsetVolume()</a>, <a class="el" href="geom_8c-source.html#l03267">fc_getVariableWeightedDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="subset_8c-source.html#l01809">fc_isSubsetSuperset()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, <a class="el" href="shape_8c-source.html#l01609">fc_reshapeByAngle()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, <a class="el" href="analyzeSpotWelds_8c-source.html#l00135">main()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00081">myCharacterizationFunkyAve()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02744"></a>02744   {
<a name="l02745"></a>02745   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02746"></a>02746   
<a name="l02747"></a>02747   <span class="comment">// default return</span>
<a name="l02748"></a>02748   <span class="keywordflow">if</span> (mesh) 
<a name="l02749"></a>02749     *mesh = <a class="code" href="group__Handles.html#gb9dbcbf01def2e3490de3b1325bec3aa" title="Null (default) mesh handle.">FC_NULL_MESH</a>;
<a name="l02750"></a>02750 
<a name="l02751"></a>02751   <span class="comment">// check input   </span>
<a name="l02752"></a>02752   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02753"></a>02753   <span class="keywordflow">if</span>(!subSlot || !mesh) { 
<a name="l02754"></a>02754     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02755"></a>02755     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02756"></a>02756   }  
<a name="l02757"></a>02757 
<a name="l02758"></a>02758   <span class="comment">// log message</span>
<a name="l02759"></a>02759   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting mesh from subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02760"></a>02760   
<a name="l02761"></a>02761   <span class="comment">// return requested value</span>
<a name="l02762"></a>02762   *mesh = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a>; 
<a name="l02763"></a>02763 
<a name="l02764"></a>02764   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02765"></a>02765 } 
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ga695f5af84135aef9b92b8fe5426e949"></a><!-- doxytag: member="subset.c::fc_getNumSeqSubset" ref="ga695f5af84135aef9b92b8fe5426e949" args="(FC_Mesh mesh, int *numSeqSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getNumSeqSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeqSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of seq subsets in a mesh. 
<p>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numSeqSubset</em>&nbsp;</td><td>
output - number of subsets </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01420">1420</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, and <a class="el" href="mesh_8c-source.html#l04004">fc_printMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01423"></a>01423   {
<a name="l01424"></a>01424   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l01425"></a>01425   
<a name="l01426"></a>01426   <span class="comment">// set up defaults</span>
<a name="l01427"></a>01427   <span class="keywordflow">if</span> (numSeqSubset != NULL)
<a name="l01428"></a>01428     *numSeqSubset = -1;
<a name="l01429"></a>01429   
<a name="l01430"></a>01430   <span class="comment">// check input</span>
<a name="l01431"></a>01431   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01432"></a>01432   <span class="keywordflow">if</span> (meshSlot == NULL || numSeqSubset == NULL) {
<a name="l01433"></a>01433     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01434"></a>01434     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01435"></a>01435   }
<a name="l01436"></a>01436   
<a name="l01437"></a>01437   <span class="comment">// log message</span>
<a name="l01438"></a>01438   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of seq subsets from mesh '%s'"</span>, 
<a name="l01439"></a>01439                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01440"></a>01440 
<a name="l01441"></a>01441   <span class="comment">// get num subset</span>
<a name="l01442"></a>01442   *numSeqSubset = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>;
<a name="l01443"></a>01443 
<a name="l01444"></a>01444   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01445"></a>01445 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc9ec4bca2e0ee52d54c9718d6a54fd4b"></a><!-- doxytag: member="subset.c::fc_getNumSubset" ref="gc9ec4bca2e0ee52d54c9718d6a54fd4b" args="(FC_Mesh mesh, int *numSubset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getNumSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSubset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of subsets in a mesh. 
<p>
<b>Modifications:</b> <ul>
<li>9/28/04 WSK created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numSubset</em>&nbsp;</td><td>
output - number of subsets </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01385">1385</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>.</p>

<p>Referenced by <a class="el" href="mesh_8c-source.html#l04004">fc_printMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01388"></a>01388   {
<a name="l01389"></a>01389   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l01390"></a>01390   
<a name="l01391"></a>01391   <span class="comment">// set up defaults</span>
<a name="l01392"></a>01392   <span class="keywordflow">if</span> (numSubset != NULL)
<a name="l01393"></a>01393     *numSubset = -1;
<a name="l01394"></a>01394   
<a name="l01395"></a>01395   <span class="comment">// check input</span>
<a name="l01396"></a>01396   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01397"></a>01397   <span class="keywordflow">if</span> (meshSlot == NULL || numSubset == NULL) {
<a name="l01398"></a>01398     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01399"></a>01399     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01400"></a>01400   }
<a name="l01401"></a>01401   
<a name="l01402"></a>01402   <span class="comment">// log message</span>
<a name="l01403"></a>01403   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of subsets from mesh '%s'"</span>, 
<a name="l01404"></a>01404                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01405"></a>01405 
<a name="l01406"></a>01406   <span class="comment">// get num subset</span>
<a name="l01407"></a>01407   *numSubset = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>;
<a name="l01408"></a>01408 
<a name="l01409"></a>01409   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01410"></a>01410 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g8c716790e46730881b4f2438d2c5bbbb"></a><!-- doxytag: member="subset.c::fc_getSeqSubsetByName" ref="g8c716790e46730881b4f2438d2c5bbbb" args="(FC_Mesh mesh, char *subName, int *numSeqSubset, int **numStepPerSubset, FC_Subset ***seqSubsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSeqSubsetByName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>subName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>numStepPerSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> ***&nbsp;</td>
          <td class="paramname"> <em>seqSubsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get sequence subsets of a given name from the mesh. 
<p>
<b>Description:</b> <p>
Returns an array of seq subset (array of arrays of subsets) as well as an array of the number of steps per sequence subset. The use is responsible for freeing all returned arrays. (SeqSubsets is a 2D array, so to free: for (i = 0; i &lt; numSeq subs) { free(seqSubsets[i])); } )<p>
<b>Modifications:</b> <ul>
<li>03/04/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>subName</em>&nbsp;</td><td>
input - seq subset name </td></tr>
<tr><td valign="top"><em>numSeqSubset</em>&nbsp;</td><td>
output - number of sequence subsets </td></tr>
<tr><td valign="top"><em>numStepPerSubset</em>&nbsp;</td><td>
output - array with number of steps for each sequence subset </td></tr>
<tr><td valign="top"><em>seqSubsets</em>&nbsp;</td><td>
output - array of sequence subsets (each sequence subset is array of numStep subsets </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01551">1551</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03826">_fc_getSubSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, and <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01560"></a>01560   {
<a name="l01561"></a>01561   <span class="keywordtype">int</span> i, j;
<a name="l01562"></a>01562   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a> *meshSlot;
<a name="l01563"></a>01563   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l01564"></a>01564 
<a name="l01565"></a>01565   <span class="keywordtype">int</span> numStep;
<a name="l01566"></a>01566   <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> *seqsub;
<a name="l01567"></a>01567   <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> **lmatch = NULL;
<a name="l01568"></a>01568   <span class="keywordtype">int</span> *lstepmatch = NULL;
<a name="l01569"></a>01569   <span class="keywordtype">int</span> numlmatch, maxnumlmatch;
<a name="l01570"></a>01570   
<a name="l01571"></a>01571   <span class="comment">// default return values</span>
<a name="l01572"></a>01572  <span class="keywordflow">if</span> (numSeqSubset != NULL)
<a name="l01573"></a>01573     *numSeqSubset = -1;
<a name="l01574"></a>01574   <span class="keywordflow">if</span> (numStepPerSubset != NULL)
<a name="l01575"></a>01575     *numStepPerSubset = NULL;
<a name="l01576"></a>01576   <span class="keywordflow">if</span> (seqSubsets != NULL)
<a name="l01577"></a>01577     *seqSubsets = NULL;
<a name="l01578"></a>01578 
<a name="l01579"></a>01579   <span class="comment">// check input</span>
<a name="l01580"></a>01580   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01581"></a>01581   <span class="keywordflow">if</span> (meshSlot == NULL || !subName || numSeqSubset == NULL || 
<a name="l01582"></a>01582       numStepPerSubset == NULL || seqSubsets == NULL) {
<a name="l01583"></a>01583     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01584"></a>01584     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01585"></a>01585   }
<a name="l01586"></a>01586   
<a name="l01587"></a>01587   <span class="comment">// log message</span>
<a name="l01588"></a>01588   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequence subset '%s'"</span>, subName);
<a name="l01589"></a>01589 
<a name="l01590"></a>01590   numlmatch = 0;
<a name="l01591"></a>01591   maxnumlmatch = 0;
<a name="l01592"></a>01592 
<a name="l01593"></a>01593  <span class="comment">// look for subName in this mesh's seq sub list</span>
<a name="l01594"></a>01594   <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; i++) {
<a name="l01595"></a>01595     subSlot = <a class="code" href="group__PrivateSubset.html#ga46d94cb31db75157b76c3bb3b0a3dc9" title="Get a subset slot based on ID.">_fc_getSubSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[i][0]);
<a name="l01596"></a>01596     <span class="keywordflow">if</span> (!strcmp(subName, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>)) {
<a name="l01597"></a>01597       numStep = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>[i];
<a name="l01598"></a>01598       seqsub = malloc((numStep)*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l01599"></a>01599       <span class="keywordflow">if</span> (seqsub == NULL) {
<a name="l01600"></a>01600      <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01601"></a>01601      <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01602"></a>01602       }
<a name="l01603"></a>01603       <span class="keywordflow">for</span> (j = 0; j &lt; numStep; j++) {
<a name="l01604"></a>01604      subSlot = <a class="code" href="group__PrivateSubset.html#ga46d94cb31db75157b76c3bb3b0a3dc9" title="Get a subset slot based on ID.">_fc_getSubSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[i][j]);
<a name="l01605"></a>01605      <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>(seqsub[j], subSlot);
<a name="l01606"></a>01606       }
<a name="l01607"></a>01607 
<a name="l01608"></a>01608       <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01609"></a>01609      lmatch = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>**)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*));
<a name="l01610"></a>01610      lstepmatch = (<span class="keywordtype">int</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01611"></a>01611      <span class="keywordflow">if</span> (lmatch == NULL || lstepmatch == NULL){
<a name="l01612"></a>01612        <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01613"></a>01613        <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01614"></a>01614      }
<a name="l01615"></a>01615      numlmatch = 1;
<a name="l01616"></a>01616      maxnumlmatch = 1;
<a name="l01617"></a>01617      lmatch[0] = seqsub;
<a name="l01618"></a>01618      lstepmatch[0] = numStep;
<a name="l01619"></a>01619       }<span class="keywordflow">else</span>{
<a name="l01620"></a>01620      <span class="keywordflow">if</span>(numlmatch == maxnumlmatch){
<a name="l01621"></a>01621        <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> **temp;
<a name="l01622"></a>01622        <span class="keywordtype">int</span> *tempstep;
<a name="l01623"></a>01623        temp = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>**)realloc(lmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*));
<a name="l01624"></a>01624        tempstep = (<span class="keywordtype">int</span>*)realloc(lstepmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*));
<a name="l01625"></a>01625        <span class="keywordflow">if</span> (temp == NULL || tempstep == NULL){
<a name="l01626"></a>01626          <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01627"></a>01627          <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01628"></a>01628        }
<a name="l01629"></a>01629        maxnumlmatch*=2;
<a name="l01630"></a>01630        lmatch = temp;
<a name="l01631"></a>01631        lstepmatch = tempstep;
<a name="l01632"></a>01632      }
<a name="l01633"></a>01633      lmatch[numlmatch] = seqsub;
<a name="l01634"></a>01634      lstepmatch[numlmatch] = numStep;
<a name="l01635"></a>01635      numlmatch++;
<a name="l01636"></a>01636       }
<a name="l01637"></a>01637     }
<a name="l01638"></a>01638   }
<a name="l01639"></a>01639 
<a name="l01640"></a>01640   <span class="keywordflow">if</span> (numlmatch){
<a name="l01641"></a>01641     *numSeqSubset = numlmatch;
<a name="l01642"></a>01642     *numStepPerSubset = lstepmatch;
<a name="l01643"></a>01643     *seqSubsets = lmatch;
<a name="l01644"></a>01644     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01645"></a>01645   }
<a name="l01646"></a>01646 
<a name="l01647"></a>01647   <span class="comment">//no matches</span>
<a name="l01648"></a>01648   *numSeqSubset = 0;
<a name="l01649"></a>01649   *numStepPerSubset = NULL;
<a name="l01650"></a>01650   *seqSubsets = NULL;
<a name="l01651"></a>01651   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01652"></a>01652 
<a name="l01653"></a>01653 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g17815a36b74d5568de04398ca4bd4bf4"></a><!-- doxytag: member="subset.c::fc_getSeqSubsets" ref="g17815a36b74d5568de04398ca4bd4bf4" args="(FC_Mesh mesh, int *numSeqSubs, int **numStepPerSub, FC_Subset ***seqSubs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSeqSubsets           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSeqSubs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>numStepPerSub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> ***&nbsp;</td>
          <td class="paramname"> <em>seqSubs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the seq subsets in a mesh. 
<p>
<b>Description:</b> <p>
This returns an array of the seq subsets in the mesh (array of arrays of subsets) as well as an array of the number of steps per seq subset. The caller is responsible for freeing all returned arrays. (SeqSubs is a 2D array so to free: for (i = 0; i &lt; numSeqSub) { free(seqSub[i])} )<p>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numSeqSubs</em>&nbsp;</td><td>
output - number of seq subsets </td></tr>
<tr><td valign="top"><em>numStepPerSub</em>&nbsp;</td><td>
output - array with number of steps for each seq sub </td></tr>
<tr><td valign="top"><em>seqSubs</em>&nbsp;</td><td>
output - array of seq subsets (each seq sub is an array of numStep subsets) </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01313">1313</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03826">_fc_getSubSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="meshP_8h-source.html#l00181">_FC_MeshSlot::numStepPerSeqSub</a>, and <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="mesh_8c-source.html#l02626">fc_deleteMesh()</a>, and <a class="el" href="mesh_8c-source.html#l02417">fc_releaseMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01320"></a>01320   {
<a name="l01321"></a>01321   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l01322"></a>01322   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l01323"></a>01323   <span class="keywordtype">int</span> i,j;
<a name="l01324"></a>01324   
<a name="l01325"></a>01325   <span class="comment">// set up defaults</span>
<a name="l01326"></a>01326   <span class="keywordflow">if</span> (numSeqSubs != NULL)
<a name="l01327"></a>01327     *numSeqSubs = -1;
<a name="l01328"></a>01328   <span class="keywordflow">if</span> (numStepPerSub != NULL)
<a name="l01329"></a>01329     *numStepPerSub = NULL;
<a name="l01330"></a>01330   <span class="keywordflow">if</span> (seqSubs != NULL)
<a name="l01331"></a>01331     *seqSubs = NULL;
<a name="l01332"></a>01332 
<a name="l01333"></a>01333   <span class="comment">// check input</span>
<a name="l01334"></a>01334   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01335"></a>01335   <span class="keywordflow">if</span> (meshSlot == NULL || numSeqSubs == NULL || numStepPerSub == NULL ||
<a name="l01336"></a>01336       seqSubs == NULL) {
<a name="l01337"></a>01337     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01338"></a>01338     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01339"></a>01339   }
<a name="l01340"></a>01340   
<a name="l01341"></a>01341   <span class="comment">// log message</span>
<a name="l01342"></a>01342   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting seq subsets from mesh '%s'"</span>, 
<a name="l01343"></a>01343                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01344"></a>01344 
<a name="l01345"></a>01345   <span class="comment">// get num seq subsets</span>
<a name="l01346"></a>01346   *numSeqSubs = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>;
<a name="l01347"></a>01347   
<a name="l01348"></a>01348   <span class="comment">// get seq subsets</span>
<a name="l01349"></a>01349   <span class="keywordflow">if</span> (*numSeqSubs &gt; 0) {
<a name="l01350"></a>01350     *numStepPerSub = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * (*numSeqSubs));
<a name="l01351"></a>01351     <span class="keywordflow">if</span> (*numStepPerSub == NULL) {
<a name="l01352"></a>01352       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01353"></a>01353       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01354"></a>01354     }
<a name="l01355"></a>01355     *seqSubs = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*) * (*numSeqSubs));
<a name="l01356"></a>01356     <span class="keywordflow">if</span> (*seqSubs == NULL) {
<a name="l01357"></a>01357       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01358"></a>01358       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01359"></a>01359     }
<a name="l01360"></a>01360     <span class="keywordflow">for</span> (i = 0; i &lt; *numSeqSubs; i++) {
<a name="l01361"></a>01361       (*numStepPerSub)[i] = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>[i];
<a name="l01362"></a>01362       (*seqSubs)[i] = malloc(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>[i]*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l01363"></a>01363       <span class="keywordflow">if</span> ( (*seqSubs)[i] == NULL) {
<a name="l01364"></a>01364      <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01365"></a>01365      <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01366"></a>01366       }
<a name="l01367"></a>01367       <span class="keywordflow">for</span> (j = 0; j &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#b6ed72f2afb416cd2d4f969b61b055b6">numStepPerSeqSub</a>[i]; j++){
<a name="l01368"></a>01368      subSlot = <a class="code" href="group__PrivateSubset.html#ga46d94cb31db75157b76c3bb3b0a3dc9" title="Get a subset slot based on ID.">_fc_getSubSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>[i][j]);
<a name="l01369"></a>01369      <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>((*seqSubs)[i][j],subSlot);
<a name="l01370"></a>01370       }
<a name="l01371"></a>01371     }
<a name="l01372"></a>01372   }
<a name="l01373"></a>01373   
<a name="l01374"></a>01374   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01375"></a>01375 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4d796035b6229c73cc05488aae16c5bd"></a><!-- doxytag: member="subset.c::fc_getSequenceFromSeqSubset" ref="g4d796035b6229c73cc05488aae16c5bd" args="(int numStep, FC_Subset *seqSubset, FC_Sequence *sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSequenceFromSeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>seqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Sequence.html">FC_Sequence</a> *&nbsp;</td>
          <td class="paramname"> <em>sequence</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parent sequence of a seq subset. 
<p>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - number of steps in sequence variable </td></tr>
<tr><td valign="top"><em>seqSubset</em>&nbsp;</td><td>
input - sequence subset (array of subsets) </td></tr>
<tr><td valign="top"><em>sequence</em>&nbsp;</td><td>
output - sequence handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03131">3131</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00769">FC_NULL_SEQUENCE</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="subsetP_8h-source.html#l00076">_FC_SubSlot::sequence</a>.</p>

<p>Referenced by <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, and <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03135"></a>03135    {
<a name="l03136"></a>03136   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l03137"></a>03137 
<a name="l03138"></a>03138   <span class="comment">//set default value</span>
<a name="l03139"></a>03139   <span class="keywordflow">if</span> (sequence != NULL)
<a name="l03140"></a>03140     *sequence = <a class="code" href="group__Handles.html#g0a14f0b308f914048dba4a54e6dc36ea" title="Null (default) sequence handle.">FC_NULL_SEQUENCE</a>;
<a name="l03141"></a>03141 
<a name="l03142"></a>03142   <span class="comment">//check input</span>
<a name="l03143"></a>03143   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep, seqSubset) || sequence == NULL) {
<a name="l03144"></a>03144     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03145"></a>03145     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03146"></a>03146   }
<a name="l03147"></a>03147 
<a name="l03148"></a>03148   <span class="comment">//log message</span>
<a name="l03149"></a>03149   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(seqSubset[0]);
<a name="l03150"></a>03150   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting sequence from seq subset '%s'"</span>,
<a name="l03151"></a>03151                 subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03152"></a>03152   
<a name="l03153"></a>03153   <span class="comment">//return requested value</span>
<a name="l03154"></a>03154   *sequence = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#007eba0b38a45ac046dbb6bdb684cea5">sequence</a>;
<a name="l03155"></a>03155 
<a name="l03156"></a>03156   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03157"></a>03157 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g7e34b0e8a2f9d42c44f0ee4ea00f5e8a"></a><!-- doxytag: member="subset.c::fc_getSubsetAssociationType" ref="g7e34b0e8a2f9d42c44f0ee4ea00f5e8a" args="(FC_Subset subset, FC_AssociationType *assoc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetAssociationType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> *&nbsp;</td>
          <td class="paramname"> <em>assoc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get subset's association type. 
<p>
<b>Modifications:</b> <ul>
<li>09/20/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
output - association type </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02902">2902</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="subsetP_8h-source.html#l00081">_FC_SubSlot::assoc</a>, <a class="el" href="base_8h-source.html#l00190">FC_AT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="geom_8c-source.html#l05303">_fc_getSubsetsProximityCore()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="shape_8c-source.html#l03873">fc_getPlanarSideNormal()</a>, <a class="el" href="shape_8c-source.html#l03754">fc_getShapeSidesAreas()</a>, <a class="el" href="elemdeath_8c-source.html#l00669">fc_getShapeSidesDecayType()</a>, <a class="el" href="shape_8c-source.html#l04008">fc_getSideNormalMeanSdev()</a>, <a class="el" href="geom_8c-source.html#l04344">fc_getSubsetArea()</a>, <a class="el" href="elemdeath_8c-source.html#l00410">fc_getSubsetDecayType()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, and <a class="el" href="fc2ensight_8c-source.html#l00090">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02905"></a>02905   {
<a name="l02906"></a>02906   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l02907"></a>02907 
<a name="l02908"></a>02908   <span class="comment">// default return value</span>
<a name="l02909"></a>02909   <span class="keywordflow">if</span> (assoc)
<a name="l02910"></a>02910     *assoc = <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6d5a38e6486b577a8d9bbba0e1c1a443d">FC_AT_UNKNOWN</a>;
<a name="l02911"></a>02911 
<a name="l02912"></a>02912   <span class="comment">// check input   </span>
<a name="l02913"></a>02913   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02914"></a>02914   <span class="keywordflow">if</span> (subSlot == NULL || !assoc) { 
<a name="l02915"></a>02915     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02916"></a>02916     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02917"></a>02917   }  
<a name="l02918"></a>02918 
<a name="l02919"></a>02919   <span class="comment">// log message</span>
<a name="l02920"></a>02920   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting association type for subset '%s'"</span>, 
<a name="l02921"></a>02921                       subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02922"></a>02922 
<a name="l02923"></a>02923   <span class="comment">// fill in requested value</span>
<a name="l02924"></a>02924   *assoc = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#5886619735c0e79df2c3c1a776f8e91b">assoc</a>;
<a name="l02925"></a>02925 
<a name="l02926"></a>02926   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02927"></a>02927 } 
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4a86210a00bac9a23256e57f6c161a36"></a><!-- doxytag: member="subset.c::fc_getSubsetByName" ref="g4a86210a00bac9a23256e57f6c161a36" args="(FC_Mesh mesh, char *subName, int *numSubsets, FC_Subset **subsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetByName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>subName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSubsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>subsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get subsets of a given name from a mesh. 
<p>
<b>Description:</b> <p>
Returns subset on the mesh with the specified name.<p>
<b>Modifications:</b> <ul>
<li>05/27/04 WSK Created.</li><li>9/9/03 WSK, changed name and moved to mesh (to be next to fc_getSubsets)</li><li>9/26/06 ACG returns array </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh handle </td></tr>
<tr><td valign="top"><em>subName</em>&nbsp;</td><td>
input - subset name </td></tr>
<tr><td valign="top"><em>numSubsets</em>&nbsp;</td><td>
output - num matching </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
output - subset handles </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01461">1461</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03826">_fc_getSubSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>

<p>Referenced by <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01466"></a>01466   {
<a name="l01467"></a>01467   <span class="keywordtype">int</span> i;
<a name="l01468"></a>01468   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l01469"></a>01469   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a> *subSlot;
<a name="l01470"></a>01470   <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> subset;
<a name="l01471"></a>01471 
<a name="l01472"></a>01472   <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> *lmatch = NULL;
<a name="l01473"></a>01473   <span class="keywordtype">int</span> numlmatch, maxnumlmatch;
<a name="l01474"></a>01474 
<a name="l01475"></a>01475   <span class="comment">// default values returned if anything goes wrong</span>
<a name="l01476"></a>01476   <span class="keywordflow">if</span> (numSubsets)
<a name="l01477"></a>01477     *numSubsets = -1;
<a name="l01478"></a>01478   <span class="keywordflow">if</span> (subsets)
<a name="l01479"></a>01479     *subsets = NULL;
<a name="l01480"></a>01480 
<a name="l01481"></a>01481   <span class="comment">// check input</span>
<a name="l01482"></a>01482   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01483"></a>01483   <span class="keywordflow">if</span> (meshSlot == NULL || subName == NULL || !numSubsets || !subsets){
<a name="l01484"></a>01484     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01485"></a>01485     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01486"></a>01486   }
<a name="l01487"></a>01487   
<a name="l01488"></a>01488   <span class="comment">// log message</span>
<a name="l01489"></a>01489   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting subset '%s'"</span>, subName);
<a name="l01490"></a>01490 
<a name="l01491"></a>01491   numlmatch = 0;
<a name="l01492"></a>01492   maxnumlmatch = 0;
<a name="l01493"></a>01493 
<a name="l01494"></a>01494   
<a name="l01495"></a>01495   <span class="comment">// find the existing slot</span>
<a name="l01496"></a>01496   <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>; i++) {
<a name="l01497"></a>01497     subSlot = <a class="code" href="group__PrivateSubset.html#ga46d94cb31db75157b76c3bb3b0a3dc9" title="Get a subset slot based on ID.">_fc_getSubSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[i]); 
<a name="l01498"></a>01498     <span class="keywordflow">if</span> (!strcmp(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>, subName)) {
<a name="l01499"></a>01499       <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>(subset, subSlot);
<a name="l01500"></a>01500 
<a name="l01501"></a>01501       <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01502"></a>01502      lmatch = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l01503"></a>01503      <span class="keywordflow">if</span> (lmatch == NULL){
<a name="l01504"></a>01504        <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01505"></a>01505        <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01506"></a>01506      }
<a name="l01507"></a>01507      numlmatch = 1;
<a name="l01508"></a>01508      maxnumlmatch = 1;
<a name="l01509"></a>01509      lmatch[0] = subset;
<a name="l01510"></a>01510       }<span class="keywordflow">else</span>{
<a name="l01511"></a>01511      <span class="keywordflow">if</span>(numlmatch == maxnumlmatch){
<a name="l01512"></a>01512        <a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a> *temp;
<a name="l01513"></a>01513        temp = (<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>*)realloc(lmatch,(2*numlmatch)*<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>));
<a name="l01514"></a>01514        <span class="keywordflow">if</span> (temp == NULL){
<a name="l01515"></a>01515          <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01516"></a>01516          <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01517"></a>01517        }
<a name="l01518"></a>01518        maxnumlmatch*=2;
<a name="l01519"></a>01519        lmatch = temp;
<a name="l01520"></a>01520      }
<a name="l01521"></a>01521      lmatch[numlmatch] = subset;
<a name="l01522"></a>01522      numlmatch++;
<a name="l01523"></a>01523       }
<a name="l01524"></a>01524     }
<a name="l01525"></a>01525   }
<a name="l01526"></a>01526 
<a name="l01527"></a>01527   *numSubsets = numlmatch;
<a name="l01528"></a>01528   *subsets = lmatch;
<a name="l01529"></a>01529 
<a name="l01530"></a>01530   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01531"></a>01531 
<a name="l01532"></a>01532 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g815857d0e2d573d0418a3892229c0d83"></a><!-- doxytag: member="subset.c::fc_getSubsetInfo" ref="g815857d0e2d573d0418a3892229c0d83" args="(FC_Subset subset, int *numMember, int *maxNumMember, FC_AssociationType *assoc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMember</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxNumMember</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6">FC_AssociationType</a> *&nbsp;</td>
          <td class="paramname"> <em>assoc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get information about a subset. 
<p>
<b>Description:</b> <p>
Get number of elements in a subset, subset type and its association. Set an output argument to NULL if you don't need it to be returned.<p>
<b>Modifications:</b> <ul>
<li>04/20/04 RM, created.</li><li>05/11/04 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>.</li><li>05/17/04 RM, added maxNumMember into return parameters</li><li>09/21/04 WSK, removed storage type from arguments. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>numMember</em>&nbsp;</td><td>
output - optional, number of members in subset </td></tr>
<tr><td valign="top"><em>maxNumMember</em>&nbsp;</td><td>
output - optional, maximum value Member </td></tr>
<tr><td valign="top"><em>assoc</em>&nbsp;</td><td>
output - optional, association type </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02782">2782</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="subsetP_8h-source.html#l00081">_FC_SubSlot::assoc</a>, <a class="el" href="base_8h-source.html#l00190">FC_AT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="geom_8c-source.html#l02256">_fc_getSubsetDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l02382">_fc_getSubsetsDiameterCore()</a>, <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="subset_8c-source.html#l01684">fc_doSubsetsIntersect()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="elemdeath_8c-source.html#l00262">fc_getDecayedSkin()</a>, <a class="el" href="geom_8c-source.html#l00956">fc_getDisplacedSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l03036">fc_getDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l07958">fc_getElementsThatContainPointFromSubset()</a>, <a class="el" href="elemdeath_8c-source.html#l00130">fc_getExposedSkin()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="topo_8c-source.html#l00603">fc_getSubsetNeighbors()</a>, <a class="el" href="shape_8c-source.html#l01339">fc_getSubsetShapes()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="statistics_8c-source.html#l00542">fc_getVariableSubsetMeanSdev()</a>, <a class="el" href="statistics_8c-source.html#l00394">fc_getVariableSubsetMinMax()</a>, <a class="el" href="statistics_8c-source.html#l00664">fc_getVariableSubsetSum()</a>, <a class="el" href="geom_8c-source.html#l03267">fc_getVariableWeightedDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="subset_8c-source.html#l01809">fc_isSubsetSuperset()</a>, <a class="el" href="subset_8c-source.html#l03256">fc_printSeqSubsetRange()</a>, <a class="el" href="subset_8c-source.html#l03173">fc_printSubset()</a>, <a class="el" href="subset_8c-source.html#l03401">fc_printSubsetOfMesh()</a>, <a class="el" href="subset_8c-source.html#l03570">fc_printSubsetOfVariable()</a>, <a class="el" href="mesh_8c-source.html#l02417">fc_releaseMesh()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="elemdeath_8c-source.html#l01072">fc_subsetPlusNeighborGreaterSegmentationMesh()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00081">myCharacterizationFunkyAve()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02787"></a>02787   {
<a name="l02788"></a>02788   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02789"></a>02789 
<a name="l02790"></a>02790   <span class="comment">// default return values</span>
<a name="l02791"></a>02791   <span class="keywordflow">if</span> (numMember)
<a name="l02792"></a>02792     *numMember = -1;
<a name="l02793"></a>02793   <span class="keywordflow">if</span> (maxNumMember)
<a name="l02794"></a>02794     *maxNumMember = -1;
<a name="l02795"></a>02795   <span class="keywordflow">if</span> (assoc)
<a name="l02796"></a>02796     *assoc = <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af6d5a38e6486b577a8d9bbba0e1c1a443d">FC_AT_UNKNOWN</a>;
<a name="l02797"></a>02797 
<a name="l02798"></a>02798   <span class="comment">// check input   </span>
<a name="l02799"></a>02799   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02800"></a>02800   <span class="keywordflow">if</span> (subSlot == NULL || (!numMember &amp;&amp; !maxNumMember &amp;&amp; !assoc)) {
<a name="l02801"></a>02801      <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02802"></a>02802     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02803"></a>02803   }
<a name="l02804"></a>02804  
<a name="l02805"></a>02805   <span class="comment">// log message</span>
<a name="l02806"></a>02806   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting info for subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02807"></a>02807 
<a name="l02808"></a>02808   <span class="comment">// fill in requested values</span>
<a name="l02809"></a>02809   <span class="keywordflow">if</span> (numMember) 
<a name="l02810"></a>02810     *numMember = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>;
<a name="l02811"></a>02811   <span class="keywordflow">if</span> (maxNumMember)
<a name="l02812"></a>02812     *maxNumMember = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>;
<a name="l02813"></a>02813   <span class="keywordflow">if</span> (assoc)
<a name="l02814"></a>02814     *assoc = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#5886619735c0e79df2c3c1a776f8e91b">assoc</a>;
<a name="l02815"></a>02815 
<a name="l02816"></a>02816   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02817"></a>02817         
<a name="l02818"></a>02818 }       
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf2cf1c160b0dbe5efc78d12a0bb9caed"></a><!-- doxytag: member="subset.c::fc_getSubsetMaxNumMember" ref="gf2cf1c160b0dbe5efc78d12a0bb9caed" args="(FC_Subset subset, int *maxNumMember)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetMaxNumMember           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxNumMember</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the maximum possible number of members a subset could have. 
<p>
<b>Description:</b> <p>
This number should be equal to the number of mesh subentities (e.g. vertices, edges, elements, etc). This is the maximum possible number of members and is also the length of the subset mask.<p>
<b>Modifications:</b> <ul>
<li>05/17/04 RM, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>maxNumMember</em>&nbsp;</td><td>
output - maximum number the subset member can have </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02868">2868</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02871"></a>02871   {
<a name="l02872"></a>02872   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02873"></a>02873 
<a name="l02874"></a>02874   <span class="comment">// default return value</span>
<a name="l02875"></a>02875   <span class="keywordflow">if</span> (maxNumMember)
<a name="l02876"></a>02876     *maxNumMember = -1;
<a name="l02877"></a>02877 
<a name="l02878"></a>02878   <span class="comment">// check input   </span>
<a name="l02879"></a>02879   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02880"></a>02880   <span class="keywordflow">if</span>(subSlot == NULL || !maxNumMember) { 
<a name="l02881"></a>02881     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02882"></a>02882     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02883"></a>02883   }  
<a name="l02884"></a>02884 
<a name="l02885"></a>02885   <span class="comment">// log message</span>
<a name="l02886"></a>02886   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting maximum possible number of members for subset "</span>
<a name="l02887"></a>02887                       <span class="stringliteral">"'%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02888"></a>02888 
<a name="l02889"></a>02889   <span class="comment">// fill in requested value</span>
<a name="l02890"></a>02890   *maxNumMember = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>; 
<a name="l02891"></a>02891     
<a name="l02892"></a>02892   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02893"></a>02893 } 
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g6cebfda6e20e2a518636838b170185da"></a><!-- doxytag: member="subset.c::fc_getSubsetMembersAsArray" ref="g6cebfda6e20e2a518636838b170185da" args="(FC_Subset subset, int *numMember, int **array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetMembersAsArray           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMember</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>array</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a copy of subset members as array. 
<p>
<b>Description:</b> <p>
Get a copy of a subset's members as array. Note It's user's responsibility to deallocate array's memory. The operation is done on native subset representation type.<p>
<b>Modifications:</b> <ul>
<li>04/30/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>numMember</em>&nbsp;</td><td>
output - number of members in output array </td></tr>
<tr><td valign="top"><em>array</em>&nbsp;</td><td>
output - pointer to output array with subset members </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03001">3001</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="fileio_8c-source.html#l02108">_fc_readSubsetMembers()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, <a class="el" href="storage_8h-source.html#l00099">FC_SortedIntArray::numVal</a>, <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>, and <a class="el" href="storage_8h-source.html#l00101">FC_SortedIntArray::vals</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00593">_fc_buildFaceInfoListFromShape()</a>, <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="geom_8c-source.html#l02256">_fc_getSubsetDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l02382">_fc_getSubsetsDiameterCore()</a>, <a class="el" href="geom_8c-source.html#l05303">_fc_getSubsetsProximityCore()</a>, <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="track_8c-source.html#l00351">fc_computeNumOverlapScore()</a>, <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="subset_8c-source.html#l01684">fc_doSubsetsIntersect()</a>, <a class="el" href="sierra_8c-source.html#l01209">fc_evalPrestoSpotWeld()</a>, <a class="el" href="elemdeath_8c-source.html#l00499">fc_getDecayedShapeSkin()</a>, <a class="el" href="geom_8c-source.html#l00956">fc_getDisplacedSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l03036">fc_getDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l04240">fc_getDisplacedSubsetVolume()</a>, <a class="el" href="shape_8c-source.html#l03873">fc_getPlanarSideNormal()</a>, <a class="el" href="shape_8c-source.html#l03754">fc_getShapeSidesAreas()</a>, <a class="el" href="shape_8c-source.html#l04008">fc_getSideNormalMeanSdev()</a>, <a class="el" href="geom_8c-source.html#l04344">fc_getSubsetArea()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="topo_8c-source.html#l00603">fc_getSubsetNeighbors()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="geom_8c-source.html#l04129">fc_getSubsetVolume()</a>, <a class="el" href="statistics_8c-source.html#l00542">fc_getVariableSubsetMeanSdev()</a>, <a class="el" href="statistics_8c-source.html#l00394">fc_getVariableSubsetMinMax()</a>, <a class="el" href="statistics_8c-source.html#l00664">fc_getVariableSubsetSum()</a>, <a class="el" href="geom_8c-source.html#l03267">fc_getVariableWeightedDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="subset_8c-source.html#l01809">fc_isSubsetSuperset()</a>, <a class="el" href="subset_8c-source.html#l03256">fc_printSeqSubsetRange()</a>, <a class="el" href="subset_8c-source.html#l03173">fc_printSubset()</a>, <a class="el" href="subset_8c-source.html#l03401">fc_printSubsetOfMesh()</a>, <a class="el" href="subset_8c-source.html#l03570">fc_printSubsetOfVariable()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, <a class="el" href="topo_8c-source.html#l01432">fc_segment()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, <a class="el" href="screwBreaks_8c-source.html#l00583">getDeathThresholdSubset()</a>, and <a class="el" href="ex2__bigDataAccess_8c-source.html#l00071">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03005"></a>03005   {
<a name="l03006"></a>03006   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03007"></a>03007   <span class="keywordtype">int</span> i;
<a name="l03008"></a>03008   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l03009"></a>03009 
<a name="l03010"></a>03010   <span class="comment">// default returns</span>
<a name="l03011"></a>03011   <span class="keywordflow">if</span>(numMember)
<a name="l03012"></a>03012     *numMember = -1;
<a name="l03013"></a>03013   <span class="keywordflow">if</span>(array)
<a name="l03014"></a>03014     *array = NULL;
<a name="l03015"></a>03015 
<a name="l03016"></a>03016   <span class="comment">// check input</span>
<a name="l03017"></a>03017   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l03018"></a>03018   <span class="keywordflow">if</span> (!subSlot || !numMember || !array) { 
<a name="l03019"></a>03019     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03020"></a>03020     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03021"></a>03021   }
<a name="l03022"></a>03022 
<a name="l03023"></a>03023   <span class="comment">// FIX? log?</span>
<a name="l03024"></a>03024 
<a name="l03025"></a>03025   <span class="comment">// trivial case, no members in subset </span>
<a name="l03026"></a>03026   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> == 0) {
<a name="l03027"></a>03027     *numMember = 0;
<a name="l03028"></a>03028     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03029"></a>03029   }
<a name="l03030"></a>03030 
<a name="l03031"></a>03031   <span class="comment">// lazy member fetching done here</span>
<a name="l03032"></a>03032   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1 &amp;&amp; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>.<a class="code" href="structFC__SortedIntArray.html#41c02abac0e388a077675863f16c325f">numVal</a> == 0) {
<a name="l03033"></a>03033     rc = <a class="code" href="group__PrivateFileIO.html#g4b8bf3d5b827394f97c52bc4dc497509" title="Read subset members from file into a subset.">_fc_readSubsetMembers</a>(subset);
<a name="l03034"></a>03034     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03035"></a>03035       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of members of subset '%s' failed"</span>,
<a name="l03036"></a>03036                             subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03037"></a>03037       <span class="keywordflow">return</span> rc;
<a name="l03038"></a>03038     }
<a name="l03039"></a>03039   }
<a name="l03040"></a>03040 
<a name="l03041"></a>03041   <span class="comment">// allocate memory for resulting array, copy subset members into it</span>
<a name="l03042"></a>03042   *array = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>);  
<a name="l03043"></a>03043   <span class="keywordflow">if</span>(!(*array)) {
<a name="l03044"></a>03044     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l03045"></a>03045     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l03046"></a>03046   }
<a name="l03047"></a>03047   <span class="comment">//FIX: why doesn't this work?</span>
<a name="l03048"></a>03048   <span class="comment">//memcpy(*array, subSlot-&gt;sia.vals, subSlot-&gt;numMember*sizeof(int));</span>
<a name="l03049"></a>03049   <span class="keywordflow">for</span> (i = 0; i &lt; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>; i++)
<a name="l03050"></a>03050     (*array)[i] = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>.<a class="code" href="structFC__SortedIntArray.html#fa5b781371ed7570eeecaac539f10426">vals</a>[i];
<a name="l03051"></a>03051   *numMember = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>;
<a name="l03052"></a>03052  
<a name="l03053"></a>03053   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03054"></a>03054 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g14c2c39f8333c77a7307e754ed7c2b5e"></a><!-- doxytag: member="subset.c::fc_getSubsetMembersAsMask" ref="g14c2c39f8333c77a7307e754ed7c2b5e" args="(FC_Subset subset, int *maskLength, int **mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetMembersAsMask           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maskLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a copy of subset members as mask. 
<p>
<b>Description:</b> <p>
Get a copy of a subset's members as mask array. Note It's user's responsibility to deallocate mask's memory.<p>
<b>Modifications:</b> <ul>
<li>04/30/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>maskLength</em>&nbsp;</td><td>
output - length of mask array </td></tr>
<tr><td valign="top"><em>mask</em>&nbsp;</td><td>
output - pointer to output mask array </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03069">3069</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="fileio_8c-source.html#l02108">_fc_readSubsetMembers()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, <a class="el" href="storage_8h-source.html#l00099">FC_SortedIntArray::numVal</a>, <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>, and <a class="el" href="storage_8h-source.html#l00101">FC_SortedIntArray::vals</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>, <a class="el" href="geom_8c-source.html#l07958">fc_getElementsThatContainPointFromSubset()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00081">myCharacterizationFunkyAve()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03073"></a>03073   {
<a name="l03074"></a>03074   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03075"></a>03075   <span class="keywordtype">int</span> i;  
<a name="l03076"></a>03076   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l03077"></a>03077 
<a name="l03078"></a>03078   <span class="comment">// default returns</span>
<a name="l03079"></a>03079   <span class="keywordflow">if</span>(maskLength)
<a name="l03080"></a>03080     *maskLength = -1;
<a name="l03081"></a>03081   <span class="keywordflow">if</span>(mask)
<a name="l03082"></a>03082     *mask = NULL;
<a name="l03083"></a>03083 
<a name="l03084"></a>03084   <span class="comment">// check input</span>
<a name="l03085"></a>03085   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l03086"></a>03086   <span class="keywordflow">if</span> ( !subSlot || !maskLength || !mask) { 
<a name="l03087"></a>03087     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03088"></a>03088     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03089"></a>03089   }     
<a name="l03090"></a>03090 
<a name="l03091"></a>03091   <span class="comment">// FIX? log?</span>
<a name="l03092"></a>03092 
<a name="l03093"></a>03093   <span class="comment">// lazy member fetching done here</span>
<a name="l03094"></a>03094   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1 &amp;&amp; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>.<a class="code" href="structFC__SortedIntArray.html#41c02abac0e388a077675863f16c325f">numVal</a> == 0) {
<a name="l03095"></a>03095     rc = <a class="code" href="group__PrivateFileIO.html#g4b8bf3d5b827394f97c52bc4dc497509" title="Read subset members from file into a subset.">_fc_readSubsetMembers</a>(subset);
<a name="l03096"></a>03096     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03097"></a>03097       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of members of subset '%s' failed"</span>,
<a name="l03098"></a>03098                             subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03099"></a>03099       <span class="keywordflow">return</span> rc;
<a name="l03100"></a>03100     }
<a name="l03101"></a>03101   }
<a name="l03102"></a>03102 
<a name="l03103"></a>03103   <span class="comment">// allocate memory for resulting mask array, initialize to zeros</span>
<a name="l03104"></a>03104   *mask = (<span class="keywordtype">int</span>*)calloc(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l03105"></a>03105   <span class="keywordflow">if</span> (!(*mask)) {
<a name="l03106"></a>03106     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l03107"></a>03107     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l03108"></a>03108   }
<a name="l03109"></a>03109 
<a name="l03110"></a>03110   <span class="comment">// and length</span>
<a name="l03111"></a>03111   *maskLength = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>;
<a name="l03112"></a>03112 
<a name="l03113"></a>03113   <span class="comment">// trivial case, no members in subset</span>
<a name="l03114"></a>03114   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> == 0) 
<a name="l03115"></a>03115     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03116"></a>03116 
<a name="l03117"></a>03117   <span class="keywordflow">for</span> (i = 0; i &lt; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>; i++) {
<a name="l03118"></a>03118     (*mask)[subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>.<a class="code" href="structFC__SortedIntArray.html#fa5b781371ed7570eeecaac539f10426">vals</a>[i]] = 1; 
<a name="l03119"></a>03119   }
<a name="l03120"></a>03120 
<a name="l03121"></a>03121   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03122"></a>03122 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g429e404a267e2f574e2578aa5d0aaa35"></a><!-- doxytag: member="subset.c::fc_getSubsetName" ref="g429e404a267e2f574e2578aa5d0aaa35" args="(FC_Subset subset, char **subsetName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>subsetName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get subset name. 
<p>
<b>Description:</b> <p>
Return copy of the name from the subset. User should free this memory later.<p>
<b>Modifications:</b> <ul>
<li>04/20/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>subsetName</em>&nbsp;</td><td>
output - subset name </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02700">2700</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="feature_8c-source.html#l01732">_fc_writeFeatureGroup()</a>, <a class="el" href="volumeSegments_8c-source.html#l00334">calcSegmentsVolumes()</a>, <a class="el" href="shape_8c-source.html#l02098">fc_copyShape()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="shape_8c-source.html#l01339">fc_getSubsetShapes()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="subset_8c-source.html#l03401">fc_printSubsetOfMesh()</a>, <a class="el" href="subset_8c-source.html#l03570">fc_printSubsetOfVariable()</a>, <a class="el" href="shape_8c-source.html#l01725">fc_reduceShapeNumSides()</a>, <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02703"></a>02703   {
<a name="l02704"></a>02704   <span class="keywordtype">char</span> *name;
<a name="l02705"></a>02705   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02706"></a>02706 
<a name="l02707"></a>02707   <span class="comment">// default return</span>
<a name="l02708"></a>02708   <span class="keywordflow">if</span>(subsetName)
<a name="l02709"></a>02709     *subsetName = NULL;
<a name="l02710"></a>02710         
<a name="l02711"></a>02711   <span class="comment">// check input</span>
<a name="l02712"></a>02712   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02713"></a>02713   <span class="keywordflow">if</span>(subSlot == NULL || subsetName == NULL) { 
<a name="l02714"></a>02714     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02715"></a>02715     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02716"></a>02716   }
<a name="l02717"></a>02717   
<a name="l02718"></a>02718   <span class="comment">// log message</span>
<a name="l02719"></a>02719   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting name for subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02720"></a>02720 
<a name="l02721"></a>02721   <span class="comment">// copy name</span>
<a name="l02722"></a>02722   name = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>;
<a name="l02723"></a>02723   *subsetName = malloc(strlen(name) + 1);
<a name="l02724"></a>02724   <span class="keywordflow">if</span> (*subsetName == NULL) {
<a name="l02725"></a>02725     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l02726"></a>02726     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l02727"></a>02727   }
<a name="l02728"></a>02728   strcpy(*subsetName, name); 
<a name="l02729"></a>02729 
<a name="l02730"></a>02730   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02731"></a>02731 } 
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gdf7851470403bb379426110abf7923ba"></a><!-- doxytag: member="subset.c::fc_getSubsetNumMember" ref="gdf7851470403bb379426110abf7923ba" args="(FC_Subset subset, int *numMember)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsetNumMember           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numMember</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get number of members in a subset. 
<p>
<b>Modifications:</b> <ul>
<li>04/20/04 RM, created.</li><li>05/11/05 WSK, changed to reflect changes to <a class="el" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>numMember</em>&nbsp;</td><td>
output - number of members in the subset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02828">2828</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="tears_8c-source.html#l00686">calcShapeIntersection()</a>, <a class="el" href="custom_8c-source.html#l00131">fc_computeBestMatchNumOverlapScore()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="elemdeath_8c-source.html#l00410">fc_getSubsetDecayType()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="gaplines_8c-source.html#l00433">main()</a>, <a class="el" href="gaplines_8c-source.html#l00377">printStats()</a>, <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>, and <a class="el" href="screwBreaks_8c-source.html#l00617">projection()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02831"></a>02831   {
<a name="l02832"></a>02832   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02833"></a>02833 
<a name="l02834"></a>02834   <span class="comment">// default return value</span>
<a name="l02835"></a>02835   <span class="keywordflow">if</span> (numMember)
<a name="l02836"></a>02836     *numMember = -1;
<a name="l02837"></a>02837 
<a name="l02838"></a>02838   <span class="comment">// check input</span>
<a name="l02839"></a>02839   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02840"></a>02840   <span class="keywordflow">if</span>(subSlot == NULL || !numMember) { 
<a name="l02841"></a>02841     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02842"></a>02842      <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02843"></a>02843   }  
<a name="l02844"></a>02844 
<a name="l02845"></a>02845   <span class="comment">// log message</span>
<a name="l02846"></a>02846   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting number of members in the subset '%s'"</span>, 
<a name="l02847"></a>02847                        subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02848"></a>02848 
<a name="l02849"></a>02849   *numMember = subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a>; 
<a name="l02850"></a>02850 
<a name="l02851"></a>02851   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02852"></a>02852 } 
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gb12aea784bf43ec6a29a8e51a3c0da51"></a><!-- doxytag: member="subset.c::fc_getSubsets" ref="gb12aea784bf43ec6a29a8e51a3c0da51" args="(FC_Mesh mesh, int *numSubset, FC_Subset **subsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_getSubsets           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> **&nbsp;</td>
          <td class="paramname"> <em>subsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the subsets in a mesh. 
<p>
<b>Description:</b> <p>
This returns an array of the subsets in the mesh. The caller is responsible for freeing the array of mesh handles.<p>
<b>Modifications:</b> <ul>
<li>05/13/04 WSK Created.</li><li>9/9/04 WSK, changed to return subset handles instead of subset names. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
<tr><td valign="top"><em>numSubset</em>&nbsp;</td><td>
output - number of subsets </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
output - array of subsets </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01253">1253</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="tableP_8h-source.html#l00076">_FC_GET_HANDLE</a>, <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="subset_8c-source.html#l03826">_fc_getSubSlotFromID()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8h-source.html#l00106">FC_MEMORY_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="meshP_8h-source.html#l00095">_FC_MeshSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="meshP_8h-source.html#l00178">_FC_MeshSlot::numSub</a>, and <a class="el" href="meshP_8h-source.html#l00179">_FC_MeshSlot::subIDs</a>.</p>

<p>Referenced by <a class="el" href="exodusio_8c-source.html#l01933">_fc_writeExodusDataset()</a>, <a class="el" href="mesh_8c-source.html#l00471">fc_copyMesh()</a>, <a class="el" href="mesh_8c-source.html#l00845">fc_createSubsetMesh()</a>, <a class="el" href="mesh_8c-source.html#l02626">fc_deleteMesh()</a>, <a class="el" href="mesh_8c-source.html#l02417">fc_releaseMesh()</a>, <a class="el" href="fileio_8c-source.html#l01776">fc_rewriteDataset()</a>, and <a class="el" href="ex1__intro_8c-source.html#l00069">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01257"></a>01257   {
<a name="l01258"></a>01258   <span class="keywordtype">int</span> i;
<a name="l01259"></a>01259   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l01260"></a>01260   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l01261"></a>01261   
<a name="l01262"></a>01262   <span class="comment">// set up defaults</span>
<a name="l01263"></a>01263   <span class="keywordflow">if</span> (numSubset != NULL)
<a name="l01264"></a>01264     *numSubset = -1;
<a name="l01265"></a>01265   <span class="keywordflow">if</span> (subsets != NULL)
<a name="l01266"></a>01266     *subsets = NULL;
<a name="l01267"></a>01267   
<a name="l01268"></a>01268   <span class="comment">// check input</span>
<a name="l01269"></a>01269   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(mesh);
<a name="l01270"></a>01270   <span class="keywordflow">if</span> (meshSlot == NULL || numSubset == NULL || subsets == NULL) {
<a name="l01271"></a>01271     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01272"></a>01272     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01273"></a>01273   }
<a name="l01274"></a>01274   
<a name="l01275"></a>01275   <span class="comment">// log message</span>
<a name="l01276"></a>01276   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Getting subsets from mesh '%s'"</span>, 
<a name="l01277"></a>01277                       meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#68621513bb50e53f850e0b3fe84f43f7">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l01278"></a>01278 
<a name="l01279"></a>01279   <span class="comment">// get num subset</span>
<a name="l01280"></a>01280   *numSubset = meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>;
<a name="l01281"></a>01281   
<a name="l01282"></a>01282   <span class="comment">// get subsets</span>
<a name="l01283"></a>01283   <span class="keywordflow">if</span> (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a> &gt; 0) {
<a name="l01284"></a>01284     *subsets = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structFC__Subset.html" title="Subset Handle.">FC_Subset</a>) * meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>);
<a name="l01285"></a>01285     <span class="keywordflow">if</span> (*subsets == NULL) {
<a name="l01286"></a>01286       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>));
<a name="l01287"></a>01287       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4db79475c8e6c2fcf3e4e7979a4139658">FC_MEMORY_ERROR</a>;
<a name="l01288"></a>01288     }
<a name="l01289"></a>01289     <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#322cb04d75ac3f1cc1ea50caddf31b0a">numSub</a>; i++) {
<a name="l01290"></a>01290       subSlot = <a class="code" href="group__PrivateSubset.html#ga46d94cb31db75157b76c3bb3b0a3dc9" title="Get a subset slot based on ID.">_fc_getSubSlotFromID</a>(meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#5c8e680484636a54a54e426087b3807d">subIDs</a>[i]);
<a name="l01291"></a>01291       <a class="code" href="group__PrivateTable.html#ge2db60dbe242b8f40b2677dce8db19de" title="Get a handle from a table slot.">_FC_GET_HANDLE</a>((*subsets)[i], subSlot);
<a name="l01292"></a>01292     }
<a name="l01293"></a>01293   }
<a name="l01294"></a>01294   
<a name="l01295"></a>01295   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01296"></a>01296 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g744afc439663b83d95a3eae277bfdbc0"></a><!-- doxytag: member="subset.c::fc_isMemberInSubset" ref="g744afc439663b83d95a3eae277bfdbc0" args="(FC_Subset subset, int memberID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isMemberInSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>memberID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check to see if a member is in a subset. 
<p>
<b>Description:</b> <p>
Check to see if a member is in a subset. Returns 1 if the member is present and 0 if not. If an error occurs, return an error code (always less than 1).<p>
<b>Modifications:</b> <ul>
<li>2006/8/17 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
<tr><td valign="top"><em>memberID</em>&nbsp;</td><td>
input - member ID </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02948">2948</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="fileio_8c-source.html#l02108">_fc_readSubsetMembers()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="storage_8c-source.html#l00367">fc_isIntInSortedIntArray()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00085">_FC_SubSlot::maxNumMember</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, <a class="el" href="subsetP_8h-source.html#l00082">_FC_SubSlot::numMember</a>, <a class="el" href="storage_8h-source.html#l00099">FC_SortedIntArray::numVal</a>, and <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>.</p>

<p>Referenced by <a class="el" href="gaplines_8c-source.html#l00286">findShapeSide()</a>, and <a class="el" href="gaplines_8c-source.html#l00433">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02951"></a>02951   {
<a name="l02952"></a>02952   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l02953"></a>02953   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02954"></a>02954 
<a name="l02955"></a>02955   <span class="comment">// check args</span>
<a name="l02956"></a>02956   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02957"></a>02957   <span class="keywordflow">if</span> (!subSlot) {
<a name="l02958"></a>02958     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02959"></a>02959     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02960"></a>02960   }
<a name="l02961"></a>02961 
<a name="l02962"></a>02962   <span class="comment">// easy case 1: out of range</span>
<a name="l02963"></a>02963   <span class="keywordflow">if</span> (memberID &lt; 0 || memberID &gt;= subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>) {
<a name="l02964"></a>02964     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Asked for member ID (%d) out of range (0-%d)"</span>,
<a name="l02965"></a>02965                    memberID, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#675230b545b189a6cf45cc5e6687ab67">maxNumMember</a>-1);
<a name="l02966"></a>02966     <span class="keywordflow">return</span> 0;
<a name="l02967"></a>02967   }
<a name="l02968"></a>02968 
<a name="l02969"></a>02969   <span class="comment">// easy case 2: empty</span>
<a name="l02970"></a>02970   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#42e80e2eaa2cfcf5c3e8b3dfa22f8cfe">numMember</a> &lt; 1) 
<a name="l02971"></a>02971     <span class="keywordflow">return</span> 0;
<a name="l02972"></a>02972 
<a name="l02973"></a>02973   <span class="comment">// lazy member fetching done here</span>
<a name="l02974"></a>02974   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1 &amp;&amp; subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>.<a class="code" href="structFC__SortedIntArray.html#41c02abac0e388a077675863f16c325f">numVal</a> == 0) {
<a name="l02975"></a>02975     rc = <a class="code" href="group__PrivateFileIO.html#g4b8bf3d5b827394f97c52bc4dc497509" title="Read subset members from file into a subset.">_fc_readSubsetMembers</a>(subset);
<a name="l02976"></a>02976     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l02977"></a>02977       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Lazy loading of members of subset '%s' failed"</span>,
<a name="l02978"></a>02978                             subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02979"></a>02979       <span class="keywordflow">return</span> rc;
<a name="l02980"></a>02980     }
<a name="l02981"></a>02981   }
<a name="l02982"></a>02982 
<a name="l02983"></a>02983   <span class="comment">// general case</span>
<a name="l02984"></a>02984   <span class="keywordflow">return</span> <a class="code" href="group__SimpleDataObjects.html#gb368940440bf63154bf7d0340b0f0bbc" title="Query for int in sorted int array.">fc_isIntInSortedIntArray</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>, memberID);
<a name="l02985"></a>02985 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gf1532331ef992fdd5c3dacfe060252df"></a><!-- doxytag: member="subset.c::fc_isSeqSubsetValid" ref="gf1532331ef992fdd5c3dacfe060252df" args="(int numStep, FC_Subset *seqSub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isSeqSubsetValid           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>seqSub</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the handle refers to a valid subset. 
<p>
<b>Description:</b> <p>
Returns 1 (true) if the seq subset handle is valid, and 0 (false) if it is not. Valid means numStep is correct and all subset handles are valid and in correct order)<p>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG created </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - num of steps in seq sub </td></tr>
<tr><td valign="top"><em>seqSub</em>&nbsp;</td><td>
input - seq subset (array of subsets) </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02643">2643</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="mesh_8c-source.html#l06054">_fc_getMeshSlot()</a>, <a class="el" href="sequence_8c-source.html#l02142">_fc_getSeqSlot()</a>, <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="subsetP_8h-source.html#l00075">_FC_SubSlot::mesh</a>, <a class="el" href="meshP_8h-source.html#l00180">_FC_MeshSlot::numSeqSub</a>, <a class="el" href="sequenceP_8h-source.html#l00080">_FC_SeqSlot::numStep</a>, <a class="el" href="meshP_8h-source.html#l00182">_FC_MeshSlot::seqSubIDs</a>, <a class="el" href="subsetP_8h-source.html#l00076">_FC_SubSlot::sequence</a>, and <a class="el" href="tableP_8h-source.html#l00095">_FC_SlotHeader::slotID</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l01958">fc_changeSeqSubsetName()</a>, <a class="el" href="subset_8c-source.html#l00747">fc_convertSeqSubsetToSubsets()</a>, <a class="el" href="subset_8c-source.html#l00438">fc_copySeqSubset()</a>, <a class="el" href="subset_8c-source.html#l02543">fc_deleteSeqSubset()</a>, <a class="el" href="subset_8c-source.html#l03131">fc_getSequenceFromSeqSubset()</a>, and <a class="el" href="subset_8c-source.html#l02427">fc_releaseSeqSubset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02646"></a>02646   {
<a name="l02647"></a>02647   <span class="keywordtype">int</span> i;
<a name="l02648"></a>02648   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02649"></a>02649   <a class="code" href="struct__FC__SeqSlot.html" title="Sequence Slot Structure for the Sequence Table.">_FC_SeqSlot</a>* seqSlot;
<a name="l02650"></a>02650   <a class="code" href="struct__FC__MeshSlot.html" title="Mesh Slot Structure for the Mesh Table.">_FC_MeshSlot</a>* meshSlot;
<a name="l02651"></a>02651   <span class="keywordtype">int</span> sub_id;  <span class="comment">//id's into mesh's slotID arrays</span>
<a name="l02652"></a>02652 
<a name="l02653"></a>02653   <span class="comment">//quick check</span>
<a name="l02654"></a>02654   <span class="keywordflow">if</span> (numStep &lt; 0 || seqSub == NULL || !<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(seqSub[0]))
<a name="l02655"></a>02655     <span class="keywordflow">return</span> 0;
<a name="l02656"></a>02656   <span class="comment">// check that numStep agrees with sequence</span>
<a name="l02657"></a>02657   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(seqSub[0]);
<a name="l02658"></a>02658   seqSlot = <a class="code" href="group__PrivateSequence.html#g311b52c3aa6307afba63b26ad035afe5" title="Get a sequence slot from a sequence handle.">_fc_getSeqSlot</a>(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#007eba0b38a45ac046dbb6bdb684cea5">sequence</a>);
<a name="l02659"></a>02659   <span class="keywordflow">if</span> (numStep != seqSlot-&gt;<a class="code" href="struct__FC__SeqSlot.html#ca6023886cf92e3f25c09d9a315e3631">numStep</a>)
<a name="l02660"></a>02660     <span class="keywordflow">return</span> 0;
<a name="l02661"></a>02661   <span class="comment">//check that all steps are valid and fromt he same subset</span>
<a name="l02662"></a>02662   <span class="comment">//instead of checking metadata, we check against the parent's list</span>
<a name="l02663"></a>02663   meshSlot = <a class="code" href="group__PrivateMesh.html#g6bb5928d0f0ecc4f5271315a3c7520d8" title="Get a mesh slot from a mesh handle.">_fc_getMeshSlot</a>(subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#62d7d3fdde10983984b076625afa02c5">mesh</a>);
<a name="l02664"></a>02664   sub_id = -1;
<a name="l02665"></a>02665   <span class="keywordflow">for</span> (i = 0; i &lt; meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#09b9a3454268b10a82248b46ec006255">numSeqSub</a>; i++){
<a name="l02666"></a>02666     <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#a9f69eb1eb640814d30ffec3d30077a5">slotID</a> == (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[i][0]){
<a name="l02667"></a>02667       sub_id = i;
<a name="l02668"></a>02668       <span class="keywordflow">break</span>;
<a name="l02669"></a>02669     }
<a name="l02670"></a>02670   }
<a name="l02671"></a>02671   <span class="keywordflow">if</span> (sub_id == -1){
<a name="l02672"></a>02672     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"bad code? shouldn't ever happen?"</span>);
<a name="l02673"></a>02673     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l02674"></a>02674   }
<a name="l02675"></a>02675   <span class="keywordflow">for</span> (i = 1; i &lt; numStep; i++){
<a name="l02676"></a>02676     <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(seqSub[i]) ||
<a name="l02677"></a>02677      seqSub[i].slotID != (meshSlot-&gt;<a class="code" href="struct__FC__MeshSlot.html#64c50982c8c97d56895a9dee310f6cc6">seqSubIDs</a>)[sub_id][i])
<a name="l02678"></a>02678       <span class="keywordflow">return</span> 0;
<a name="l02679"></a>02679   }
<a name="l02680"></a>02680 
<a name="l02681"></a>02681   <span class="comment">//passed all tests</span>
<a name="l02682"></a>02682   <span class="keywordflow">return</span> 1;
<a name="l02683"></a>02683 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gc645c9d211fb235acd08870890794c43"></a><!-- doxytag: member="subset.c::fc_isSubsetSuperset" ref="gc645c9d211fb235acd08870890794c43" args="(FC_Subset subset_super, FC_Subset subset_sub, int *indicator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_isSubsetSuperset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset_super</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset_sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>indicator</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test if first subset is a superset of the second subset. 
<p>
<b>Description:</b> <p>
The indicator flag is set to true (1) if the first subset is a superset of the second and false (0) if, not and -1 in case of error.<p>
Either input subset can be FC_NULL_SUBSET, but the routine will return early with an error if both are. Either subset can be empty, but the routine will return early with an error if both are.<p>
Subsets must have the same associatation type and be defined on the same mesh. These are the same constraints as in <a class="el" href="group__Subset.html#gebbcc05ef1a5287612b7767903e69b68">fc_createSubsetIntersection()</a>.<p>
<b>Modifications:</b> <ul>
<li>02/13/06 ACG created</li><li>09/28/06 ACG bug fix in walking the array and end condition </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset_super</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>subset_sub</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>indicator</em>&nbsp;</td><td>
output - indicator flag, 1 = is a superset </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l01809">1809</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="subset_8c-source.html#l02741">fc_getMeshFromSubset()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, and <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="elemdeath_8c-source.html#l00410">fc_getSubsetDecayType()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01813"></a>01813   {
<a name="l01814"></a>01814   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc1,rc2;
<a name="l01815"></a>01815   <a class="code" href="structFC__Mesh.html" title="Mesh Handle.">FC_Mesh</a> mesh1, mesh2;
<a name="l01816"></a>01816   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc1, assoc2;
<a name="l01817"></a>01817   <span class="keywordtype">int</span> numMember1, *members1, numMember2, *members2;
<a name="l01818"></a>01818   <span class="keywordtype">int</span> i,j;
<a name="l01819"></a>01819 
<a name="l01820"></a>01820   <span class="keywordflow">if</span> (indicator)
<a name="l01821"></a>01821     *indicator = -1;
<a name="l01822"></a>01822 
<a name="l01823"></a>01823   <span class="comment">// check input (1 NULL subset is o.k., but not both)</span>
<a name="l01824"></a>01824   <span class="keywordflow">if</span> (!indicator || 
<a name="l01825"></a>01825       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset_super) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset_super,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01826"></a>01826       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset_sub) &amp;&amp; !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset_sub,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) ||
<a name="l01827"></a>01827       (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset_super) &amp;&amp; !<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset_sub))   ) {
<a name="l01828"></a>01828     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l01829"></a>01829     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01830"></a>01830   }
<a name="l01831"></a>01831 
<a name="l01832"></a>01832   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"is Subset Superset ?"</span>);
<a name="l01833"></a>01833   
<a name="l01834"></a>01834   <span class="comment">//if one is NULL then return 0</span>
<a name="l01835"></a>01835   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset_super,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>) ||
<a name="l01836"></a>01836       <a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset_sub,<a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)){
<a name="l01837"></a>01837     *indicator = 0;
<a name="l01838"></a>01838     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01839"></a>01839   }
<a name="l01840"></a>01840 
<a name="l01841"></a>01841   <span class="comment">// check if subsets are defined on the same mesh, if not return input error</span>
<a name="l01842"></a>01842   rc1 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset_super, &amp;mesh1);
<a name="l01843"></a>01843   rc2 = <a class="code" href="group__Subset.html#gddbb3a2f8c43289a3c3754f1546462bc" title="Get the parent mesh of the subset.">fc_getMeshFromSubset</a>(subset_sub, &amp;mesh2);
<a name="l01844"></a>01844   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || !<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(mesh1,mesh2)) {
<a name="l01845"></a>01845     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get mesh from subset, or "</span>
<a name="l01846"></a>01846                           <span class="stringliteral">"subsets defined on different meshes"</span>);
<a name="l01847"></a>01847     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01848"></a>01848   } 
<a name="l01849"></a>01849   
<a name="l01850"></a>01850   <span class="comment">// get info about the subsets</span>
<a name="l01851"></a>01851   rc1 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset_super, NULL, NULL, &amp;assoc1);
<a name="l01852"></a>01852   rc2 = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset_sub, NULL, NULL, &amp;assoc2);
<a name="l01853"></a>01853   
<a name="l01854"></a>01854   <span class="comment">// check if both subsets have the same association</span>
<a name="l01855"></a>01855   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || assoc1 != assoc2 ) {
<a name="l01856"></a>01856     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't get info from subset, or "</span> 
<a name="l01857"></a>01857                           <span class="stringliteral">"subsets defined with different association type"</span>);
<a name="l01858"></a>01858     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01859"></a>01859   }
<a name="l01860"></a>01860 
<a name="l01861"></a>01861   <span class="comment">// setup</span>
<a name="l01862"></a>01862   rc1 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset_super, &amp;numMember1, &amp;members1);
<a name="l01863"></a>01863   rc2 = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset_sub, &amp;numMember2, &amp;members2);
<a name="l01864"></a>01864   <span class="keywordflow">if</span> (rc1 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a> || rc2 != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l01865"></a>01865     free(members1);
<a name="l01866"></a>01866     free(members2);
<a name="l01867"></a>01867     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l01868"></a>01868   }
<a name="l01869"></a>01869 
<a name="l01870"></a>01870   <span class="comment">//empty</span>
<a name="l01871"></a>01871   <span class="keywordflow">if</span> (numMember1 == 0 &amp;&amp; numMember2 == 0){
<a name="l01872"></a>01872     free(members1);
<a name="l01873"></a>01873     free(members2);
<a name="l01874"></a>01874     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"FC_INPUT_ERROR: Can't do two empty subsets"</span>);
<a name="l01875"></a>01875     <span class="keywordflow">return</span>  <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l01876"></a>01876   }
<a name="l01877"></a>01877 
<a name="l01878"></a>01878   <span class="keywordflow">if</span> (numMember1 == 0 || numMember2 == 0){
<a name="l01879"></a>01879     free(members1);
<a name="l01880"></a>01880     free(members2);
<a name="l01881"></a>01881     *indicator = 0;
<a name="l01882"></a>01882     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01883"></a>01883   }
<a name="l01884"></a>01884 
<a name="l01885"></a>01885   <span class="keywordflow">if</span> (numMember1 &lt; numMember2){
<a name="l01886"></a>01886     free(members1);
<a name="l01887"></a>01887     free(members2);
<a name="l01888"></a>01888     *indicator = 0;
<a name="l01889"></a>01889     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01890"></a>01890   }
<a name="l01891"></a>01891 
<a name="l01892"></a>01892 
<a name="l01893"></a>01893   <span class="comment">// Walk both arrays at same time</span>
<a name="l01894"></a>01894   i = 0;
<a name="l01895"></a>01895   j = 0;
<a name="l01896"></a>01896   <span class="keywordflow">while</span> (i &lt; numMember1 &amp;&amp; j &lt; numMember2){
<a name="l01897"></a>01897     <span class="keywordflow">if</span> (members1[i] &gt; members2[j]){
<a name="l01898"></a>01898       free(members1);
<a name="l01899"></a>01899       free(members2);
<a name="l01900"></a>01900       *indicator = 0;
<a name="l01901"></a>01901       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01902"></a>01902     }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (members1[i] == members2[j]){
<a name="l01903"></a>01903       i++;
<a name="l01904"></a>01904       j++;
<a name="l01905"></a>01905     }<span class="keywordflow">else</span>{
<a name="l01906"></a>01906       i++;
<a name="l01907"></a>01907     }
<a name="l01908"></a>01908   }
<a name="l01909"></a>01909 
<a name="l01910"></a>01910   free(members1);
<a name="l01911"></a>01911   free(members2);
<a name="l01912"></a>01912   <span class="comment">//did we get the last one ?</span>
<a name="l01913"></a>01913   *indicator = (j == numMember2);
<a name="l01914"></a>01914   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l01915"></a>01915 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g63bf248cb60435e458ea038036d6af90"></a><!-- doxytag: member="subset.c::fc_isSubsetValid" ref="g63bf248cb60435e458ea038036d6af90" args="(FC_Subset subset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fc_isSubsetValid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the handle refers to a valid subset. 
<p>
<b>Description:</b> <p>
Returns 1 (true) if the handle is valid, and 0 (false) if it is not.<p>
<b>Modifications:</b> <ul>
<li>05/25/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02622">2622</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="table_8c-source.html#l00332">_fc_isHandleValid()</a>, <a class="el" href="base_8h-source.html#l00286">FC_Subset::slotID</a>, <a class="el" href="subset_8c-source.html#l00099">subTableSize</a>, and <a class="el" href="base_8h-source.html#l00287">FC_Subset::uID</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l00402">_fc_buildFaceInfoListFromSubset()</a>, <a class="el" href="geom_8c-source.html#l05181">_fc_getSubsetsProximityArgsTest()</a>, <a class="el" href="elemdeath_8c-source.html#l01268">_fc_recursive_IndividuallySegmentingNodes()</a>, <a class="el" href="subset_8c-source.html#l00568">fc_convertSubsetsToSeqSubset()</a>, <a class="el" href="subset_8c-source.html#l00351">fc_copySubset()</a>, <a class="el" href="subset_8c-source.html#l00869">fc_copySubsetWithNewAssociation()</a>, <a class="el" href="shape_8c-source.html#l03142">fc_createSideAdjacencyMatrix()</a>, <a class="el" href="subset_8c-source.html#l00963">fc_createSubsetComplement()</a>, <a class="el" href="subset_8c-source.html#l01040">fc_createSubsetIntersection()</a>, <a class="el" href="subset_8c-source.html#l01684">fc_doSubsetsIntersect()</a>, <a class="el" href="elemdeath_8c-source.html#l00583">fc_getDecayedShapeSides()</a>, <a class="el" href="elemdeath_8c-source.html#l00499">fc_getDecayedShapeSkin()</a>, <a class="el" href="elemdeath_8c-source.html#l00262">fc_getDecayedSkin()</a>, <a class="el" href="geom_8c-source.html#l00956">fc_getDisplacedSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l03036">fc_getDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l01790">fc_getDisplacedSubsetDiameter()</a>, <a class="el" href="geom_8c-source.html#l02068">fc_getDisplacedSubsetsDiameter()</a>, <a class="el" href="geom_8c-source.html#l04240">fc_getDisplacedSubsetVolume()</a>, <a class="el" href="elemdeath_8c-source.html#l00130">fc_getExposedSkin()</a>, <a class="el" href="shape_8c-source.html#l03873">fc_getPlanarSideNormal()</a>, <a class="el" href="shape_8c-source.html#l03754">fc_getShapeSidesAreas()</a>, <a class="el" href="elemdeath_8c-source.html#l00669">fc_getShapeSidesDecayType()</a>, <a class="el" href="shape_8c-source.html#l04008">fc_getSideNormalMeanSdev()</a>, <a class="el" href="geom_8c-source.html#l04344">fc_getSubsetArea()</a>, <a class="el" href="geom_8c-source.html#l00847">fc_getSubsetBoundingBox()</a>, <a class="el" href="geom_8c-source.html#l02940">fc_getSubsetCentroid()</a>, <a class="el" href="elemdeath_8c-source.html#l00410">fc_getSubsetDecayType()</a>, <a class="el" href="geom_8c-source.html#l01753">fc_getSubsetDiameter()</a>, <a class="el" href="topo_8c-source.html#l00603">fc_getSubsetNeighbors()</a>, <a class="el" href="geom_8c-source.html#l02019">fc_getSubsetsDiameter()</a>, <a class="el" href="shape_8c-source.html#l01339">fc_getSubsetShapes()</a>, <a class="el" href="topo_8c-source.html#l01645">fc_getSubsetSkin()</a>, <a class="el" href="geom_8c-source.html#l04129">fc_getSubsetVolume()</a>, <a class="el" href="statistics_8c-source.html#l00542">fc_getVariableSubsetMeanSdev()</a>, <a class="el" href="statistics_8c-source.html#l00394">fc_getVariableSubsetMinMax()</a>, <a class="el" href="statistics_8c-source.html#l00664">fc_getVariableSubsetSum()</a>, <a class="el" href="geom_8c-source.html#l03267">fc_getVariableWeightedDisplacedSubsetCentroid()</a>, <a class="el" href="geom_8c-source.html#l03138">fc_getVariableWeightedSubsetCentroid()</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="subset_8c-source.html#l01809">fc_isSubsetSuperset()</a>, <a class="el" href="subset_8c-source.html#l03401">fc_printSubsetOfMesh()</a>, <a class="el" href="subset_8c-source.html#l03570">fc_printSubsetOfVariable()</a>, <a class="el" href="geom_8c-source.html#l01456">fc_projectedSubsetElementBoundingBoxIntersection()</a>, <a class="el" href="elemdeath_8c-source.html#l01072">fc_subsetPlusNeighborGreaterSegmentationMesh()</a>, <a class="el" href="elemdeath_8c-source.html#l00778">fc_subsetSegmentsMesh()</a>, <a class="el" href="elemdeath_8c-source.html#l00898">fc_subsetSegmentsSubset()</a>, and <a class="el" href="ex3__createCharactrztn_8c-source.html#l00081">myCharacterizationFunkyAve()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02624"></a>02624   {
<a name="l02625"></a>02625   <span class="keywordflow">return</span> <a class="code" href="group__PrivateTable.html#g7da0137a7b29468ab994bb65e96ebf99" title="Check that a handle is valid.">_fc_isHandleValid</a>(subset.<a class="code" href="structFC__Subset.html#80ef655812550faaf64914b279f848e8">slotID</a>, subset.<a class="code" href="structFC__Subset.html#30b3d9fa9b3e13cad3966084f59b0eff">uID</a>, <a class="code" href="group__PrivateSubset.html#gbd4eb08c79686bd3f9326e9815f3f7fc" title="The number of allocated slots in the subset table.">subTableSize</a>,
<a name="l02626"></a>02626                            (<a class="code" href="struct__FC__SlotHeader.html" title="Slot Header.">_FC_SlotHeader</a>**)<a class="code" href="group__PrivateSubset.html#g7576a7119655199fc241b542051c9405" title="The subset table.">subTable</a>);
<a name="l02627"></a>02627 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0184aa2c39184b61c7db173ca8ab1556"></a><!-- doxytag: member="subset.c::fc_printSeqSubset" ref="g0184aa2c39184b61c7db173ca8ab1556" args="(int numStep, FC_Subset *seqSubset, char *label, int print_members)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>seqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_members</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print sequence subset meta data to stdout, and optionally the member IDs. 
<p>
<b>Modifications:</b> <ul>
<li>04/29/08 CDU, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - number of steps in sequence subset </td></tr>
<tr><td valign="top"><em>seqSubset</em>&nbsp;</td><td>
input - the sequence subset </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend variable name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_members</em>&nbsp;</td><td>
input - print the data values. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03368">3368</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03256">fc_printSeqSubsetRange()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03374"></a>03374  {
<a name="l03375"></a>03375   <span class="keywordflow">return</span> <a class="code" href="group__Subset.html#g4eb8e5626568131aab4ce36f235b9227" title="Print sequence subset meta data to stdout, and optionally the member IDs (with start...">fc_printSeqSubsetRange</a>(numStep, seqSubset, -1, -2, label, print_members);
<a name="l03376"></a>03376 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4eb8e5626568131aab4ce36f235b9227"></a><!-- doxytag: member="subset.c::fc_printSeqSubsetRange" ref="g4eb8e5626568131aab4ce36f235b9227" args="(int numStep, FC_Subset *seqSubset, int range_start, int range_stop, char *label, int print_members)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSeqSubsetRange           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>seqSubset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>range_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>range_stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_members</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print sequence subset meta data to stdout, and optionally the member IDs (with start and stop index values). 
<p>
<b>Modifications:</b> <ul>
<li>04/29/08 CDU, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - number of steps in sequence subset </td></tr>
<tr><td valign="top"><em>seqSubset</em>&nbsp;</td><td>
input - the sequence subset </td></tr>
<tr><td valign="top"><em>range_start</em>&nbsp;</td><td>
input - offset of first variable to print or -1 for first, -2 for last </td></tr>
<tr><td valign="top"><em>range_stop</em>&nbsp;</td><td>
input - offset of last variable to print or -1 for first, -2 for last </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend variable name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_members</em>&nbsp;</td><td>
input - print the data values. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03256">3256</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, and <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>.</p>

<p>Referenced by <a class="el" href="subset_8c-source.html#l03368">fc_printSeqSubset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03267"></a>03267  {
<a name="l03268"></a>03268 
<a name="l03269"></a>03269   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03270"></a>03270   <span class="keywordtype">int</span> i,k;
<a name="l03271"></a>03271   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlots[numStep];
<a name="l03272"></a>03272   <span class="keywordtype">int</span> start, stop, mod;
<a name="l03273"></a>03273   <span class="keywordtype">int</span> maxNumMember, numMember;
<a name="l03274"></a>03274   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l03275"></a>03275   <span class="keywordtype">int</span>* members;
<a name="l03276"></a>03276 
<a name="l03277"></a>03277   <span class="comment">// special case: printing a null handle is not an error</span>
<a name="l03278"></a>03278   <span class="keywordflow">if</span>(numStep &lt;= 0 || seqSubset == NULL) {
<a name="l03279"></a>03279     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Printing a NULL sequence subset"</span>);
<a name="l03280"></a>03280     printf(<span class="stringliteral">"Sequence Subset: FC_NULL_VARIABLE\n"</span>);
<a name="l03281"></a>03281     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03282"></a>03282   }
<a name="l03283"></a>03283 
<a name="l03284"></a>03284   <span class="comment">//Check input</span>
<a name="l03285"></a>03285   <span class="keywordflow">for</span>(i=0; i&lt;numStep; i++){
<a name="l03286"></a>03286     subSlots[i] = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(seqSubset[i]);
<a name="l03287"></a>03287     <span class="keywordflow">if</span>(subSlots[i] == NULL){
<a name="l03288"></a>03288       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03289"></a>03289       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03290"></a>03290     }
<a name="l03291"></a>03291   }
<a name="l03292"></a>03292 
<a name="l03293"></a>03293   <span class="comment">//log message</span>
<a name="l03294"></a>03294   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Printing SeqSubset '%s'"</span>, subSlots[0]-&gt;header.name); 
<a name="l03295"></a>03295 
<a name="l03296"></a>03296   <span class="comment">// print label &amp; var name</span>
<a name="l03297"></a>03297   <span class="keywordflow">if</span> (label)
<a name="l03298"></a>03298     printf(<span class="stringliteral">"%s: "</span>, label);
<a name="l03299"></a>03299   <span class="keywordflow">else</span>
<a name="l03300"></a>03300     printf(<span class="stringliteral">"Sequence Subset: "</span>);
<a name="l03301"></a>03301   printf(<span class="stringliteral">"'%s'\n"</span>, subSlots[0]-&gt;header.name);
<a name="l03302"></a>03302   fflush(NULL);
<a name="l03303"></a>03303 
<a name="l03304"></a>03304   <span class="comment">// print meta data</span>
<a name="l03305"></a>03305   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(seqSubset[0], &amp;numMember, &amp;maxNumMember, &amp;assoc);
<a name="l03306"></a>03306   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03307"></a>03307     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for subset '%s'"</span>,
<a name="l03308"></a>03308                           subSlots[0]-&gt;header.name);
<a name="l03309"></a>03309     <span class="keywordflow">return</span> rc;
<a name="l03310"></a>03310   }
<a name="l03311"></a>03311 
<a name="l03312"></a>03312   printf(<span class="stringliteral">"%snumMember = %d, maxNumMember = %d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, 
<a name="l03313"></a>03313          numMember, maxNumMember);
<a name="l03314"></a>03314   printf(<span class="stringliteral">"%sassoc = %s\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc));
<a name="l03315"></a>03315   fflush(NULL);  
<a name="l03316"></a>03316 
<a name="l03317"></a>03317   <span class="keywordflow">if</span>( print_members &amp;&amp; numStep){
<a name="l03318"></a>03318 
<a name="l03319"></a>03319     <span class="comment">//Handle special case where start/stop are the first/last steps</span>
<a name="l03320"></a>03320     <span class="keywordflow">if</span>(range_start&lt;0){
<a name="l03321"></a>03321       start = (range_start==-2) ? numStep-1 : 0;
<a name="l03322"></a>03322     } <span class="keywordflow">else</span> {
<a name="l03323"></a>03323       start = (range_start&gt;numStep-1) ? numStep-1 : range_start;
<a name="l03324"></a>03324     }
<a name="l03325"></a>03325     <span class="keywordflow">if</span>(range_stop&lt;0){
<a name="l03326"></a>03326       stop = (range_stop==-2) ? numStep-1 : 0;
<a name="l03327"></a>03327     } <span class="keywordflow">else</span> {
<a name="l03328"></a>03328       stop = (range_stop&gt;numStep-1) ? numStep-1 : range_stop;
<a name="l03329"></a>03329     }
<a name="l03330"></a>03330 
<a name="l03331"></a>03331     <span class="comment">//Calculate the step size's direction</span>
<a name="l03332"></a>03332     mod   = (start&lt;=stop)   ? 1 : -1;
<a name="l03333"></a>03333 
<a name="l03334"></a>03334     <span class="keywordflow">for</span>(k=start; (mod&gt;0) ? (k&lt;=stop) : (k&gt;=stop) ; k+= mod){
<a name="l03335"></a>03335       rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(seqSubset[k], &amp;numMember, &amp;members);
<a name="l03336"></a>03336       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03337"></a>03337      <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get members for sequence subset '%s' step %d"</span>,
<a name="l03338"></a>03338                      subSlots[k]-&gt;header.name, k);
<a name="l03339"></a>03339      <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l03340"></a>03340       }
<a name="l03341"></a>03341 
<a name="l03342"></a>03342       <span class="comment">// print the members</span>
<a name="l03343"></a>03343       printf(<span class="stringliteral">"%sMember IDs (Step %d of seqSubset '%s'):\n"</span>, 
<a name="l03344"></a>03344           <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, k, subSlots[0]-&gt;header.name);
<a name="l03345"></a>03345       <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) 
<a name="l03346"></a>03346      printf(<span class="stringliteral">"%s%s%d:  %6d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, members[i]);
<a name="l03347"></a>03347       fflush(NULL);
<a name="l03348"></a>03348       
<a name="l03349"></a>03349       free(members);
<a name="l03350"></a>03350     }
<a name="l03351"></a>03351   }
<a name="l03352"></a>03352 
<a name="l03353"></a>03353   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;  
<a name="l03354"></a>03354 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g9e2ce19c0ca2d3f08df7f02643f82ce3"></a><!-- doxytag: member="subset.c::fc_printSubset" ref="g9e2ce19c0ca2d3f08df7f02643f82ce3" args="(FC_Subset subset, char *label, int print_members)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>print_members</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print subset meta data to stdout, and optionally the member IDs. 
<p>
<b>Modifications:</b> <ul>
<li>05/24/04 WSK, created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - the subset </td></tr>
<tr><td valign="top"><em>label</em>&nbsp;</td><td>
input - label to prepend subset name with, can be NULL </td></tr>
<tr><td valign="top"><em>print_members</em>&nbsp;</td><td>
input - 1 = print the member IDs. </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03173">3173</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="shape_8c-source.html#l02449">fc_printShape()</a>, <a class="el" href="fcdump_8c-source.html#l00194">main()</a>, <a class="el" href="screwBreaks_8c-source.html#l00481">printScrew()</a>, and <a class="el" href="subsetter_8c-source.html#l00344">processOneVar()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03178"></a>03178   {
<a name="l03179"></a>03179   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03180"></a>03180   <span class="keywordtype">int</span> i;
<a name="l03181"></a>03181   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l03182"></a>03182   <span class="keywordtype">int</span> maxNumMember, numMember;
<a name="l03183"></a>03183   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l03184"></a>03184   <span class="keywordtype">int</span>* members;
<a name="l03185"></a>03185 
<a name="l03186"></a>03186   <span class="comment">// special case: printing a null handle is not an error</span>
<a name="l03187"></a>03187   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) {
<a name="l03188"></a>03188     printf(<span class="stringliteral">"Subset: FC_NULL_SUBSET\n"</span>);
<a name="l03189"></a>03189     fflush(NULL);
<a name="l03190"></a>03190     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03191"></a>03191   }
<a name="l03192"></a>03192 
<a name="l03193"></a>03193   <span class="comment">// check input</span>
<a name="l03194"></a>03194   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l03195"></a>03195   <span class="keywordflow">if</span> (subSlot == NULL) {
<a name="l03196"></a>03196     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03197"></a>03197     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03198"></a>03198   }
<a name="l03199"></a>03199 
<a name="l03200"></a>03200   <span class="comment">// log message</span>
<a name="l03201"></a>03201   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Printing subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03202"></a>03202 
<a name="l03203"></a>03203   <span class="comment">// print label &amp; var name</span>
<a name="l03204"></a>03204   <span class="keywordflow">if</span> (label)
<a name="l03205"></a>03205     printf(<span class="stringliteral">"%s: "</span>, label);
<a name="l03206"></a>03206   <span class="keywordflow">else</span>
<a name="l03207"></a>03207     printf(<span class="stringliteral">"Subset: "</span>);
<a name="l03208"></a>03208   printf(<span class="stringliteral">"'%s'\n"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03209"></a>03209   fflush(NULL);
<a name="l03210"></a>03210 
<a name="l03211"></a>03211   <span class="comment">// print meta data</span>
<a name="l03212"></a>03212   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset, &amp;numMember, &amp;maxNumMember, &amp;assoc);
<a name="l03213"></a>03213   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03214"></a>03214     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get info for subset '%s'"</span>,
<a name="l03215"></a>03215                           subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03216"></a>03216     <span class="keywordflow">return</span> rc;
<a name="l03217"></a>03217   }
<a name="l03218"></a>03218   printf(<span class="stringliteral">"%snumMember = %d, maxNumMember = %d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, 
<a name="l03219"></a>03219          numMember, maxNumMember);
<a name="l03220"></a>03220   printf(<span class="stringliteral">"%sassoc = %s\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc));
<a name="l03221"></a>03221   fflush(NULL);
<a name="l03222"></a>03222 
<a name="l03223"></a>03223   <span class="comment">// print values</span>
<a name="l03224"></a>03224   <span class="keywordflow">if</span> (print_members &amp;&amp; numMember &gt; 0) {
<a name="l03225"></a>03225     rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset, &amp;numMember, &amp;members);
<a name="l03226"></a>03226     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>) {
<a name="l03227"></a>03227       <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Failed to get members for subset '%s'"</span>,
<a name="l03228"></a>03228                             subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l03229"></a>03229       <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l03230"></a>03230     }
<a name="l03231"></a>03231     
<a name="l03232"></a>03232     <span class="comment">// print the members</span>
<a name="l03233"></a>03233     printf(<span class="stringliteral">"%sMember IDs:\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l03234"></a>03234     <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) 
<a name="l03235"></a>03235       printf(<span class="stringliteral">"%s%s%d:  %6d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, i, members[i]);
<a name="l03236"></a>03236     fflush(NULL);
<a name="l03237"></a>03237 
<a name="l03238"></a>03238     free(members);
<a name="l03239"></a>03239   }
<a name="l03240"></a>03240 
<a name="l03241"></a>03241   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03242"></a>03242 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g739c9fccb9b12a8d8a28a85883ad65b8"></a><!-- doxytag: member="subset.c::fc_printSubsetOfMesh" ref="g739c9fccb9b12a8d8a28a85883ad65b8" args="(FC_Subset subset, FC_Mesh mesh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSubsetOfMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Mesh.html">FC_Mesh</a>&nbsp;</td>
          <td class="paramname"> <em>mesh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print the subset of a mesh. 
<p>
<b>Description:</b> <p>
If the association is the vertices, this will print the coordinates. If the association is not the vertices, this will print the appropriate connectivities.<p>
This routine can be used with a subset on a different mesh, as long as the meshes are similar enough (i.e. same number of mesh subentities for the association type).<p>
<b>Modifications:</b> <ul>
<li>11/23/03 WSK Created to replace lots and lots of too specific printBLAH routines.</li><li>05/24/04 WSK Changed to printing a subset of a mesh.</li><li>12/15/04 WSK Fixed up - can handle edges &amp; faces. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>mesh</em>&nbsp;</td><td>
input - mesh </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03401">3401</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="base_8h-source.html#l00192">FC_AT_EDGE</a>, <a class="el" href="base_8h-source.html#l00196">FC_AT_ELEMENT</a>, <a class="el" href="base_8h-source.html#l00194">FC_AT_FACE</a>, <a class="el" href="base_8h-source.html#l00191">FC_AT_VERTEX</a>, <a class="el" href="base_8h-source.html#l00197">FC_AT_WHOLE_MESH</a>, <a class="el" href="base_8h-source.html#l00105">FC_ERROR</a>, <a class="el" href="base_8h-source.html#l00129">FC_ET_MIXED</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="base_8c-source.html#l00550">fc_getElementTypeNumVertex()</a>, <a class="el" href="base_8c-source.html#l00385">fc_getElementTypeText()</a>, <a class="el" href="mesh_8c-source.html#l03436">fc_getMeshCoordsPtr()</a>, <a class="el" href="mesh_8c-source.html#l02953">fc_getMeshDim()</a>, <a class="el" href="mesh_8c-source.html#l03571">fc_getMeshEdgeConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l03762">fc_getMeshElementConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l03061">fc_getMeshElementType()</a>, <a class="el" href="mesh_8c-source.html#l03691">fc_getMeshFaceConnsPtr()</a>, <a class="el" href="mesh_8c-source.html#l03256">fc_getMeshFaceType()</a>, <a class="el" href="mesh_8c-source.html#l02762">fc_getMeshName()</a>, <a class="el" href="mesh_8c-source.html#l03299">fc_getMeshNumEntity()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="subset_8c-source.html#l02700">fc_getSubsetName()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="mesh_8c-source.html#l02742">fc_isMeshValid()</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, and <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03404"></a>03404   {
<a name="l03405"></a>03405   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03406"></a>03406   <span class="keywordtype">int</span> i, j;
<a name="l03407"></a>03407   <span class="keywordtype">int</span> dim, numMember, maxNumMember, *members, numEntity;
<a name="l03408"></a>03408   <span class="keywordtype">char</span>* meshName, *subsetName;
<a name="l03409"></a>03409   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc;
<a name="l03410"></a>03410   <a class="code" href="group__DataTypes.html#g57a0abe7a63cc2c6c9fb0a3db339884a" title="Possible element types.">FC_ElementType</a> elemType;
<a name="l03411"></a>03411   
<a name="l03412"></a>03412   <span class="comment">// check input</span>
<a name="l03413"></a>03413   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset) || !<a class="code" href="group__Mesh.html#gab6b9ca1bc6e1e7d549ce9fcd396a5e6" title="Check that the handle refers to a valid mesh.">fc_isMeshValid</a>(mesh)) {
<a name="l03414"></a>03414     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03415"></a>03415     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03416"></a>03416   }    
<a name="l03417"></a>03417 
<a name="l03418"></a>03418   <span class="comment">// get meta data</span>
<a name="l03419"></a>03419   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset, &amp;numMember, &amp;maxNumMember, &amp;assoc);
<a name="l03420"></a>03420   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03421"></a>03421     <span class="keywordflow">return</span> rc;
<a name="l03422"></a>03422   rc = <a class="code" href="group__Mesh.html#g12d76ae817fee1f4ea941aad228923bc" title="Returns number of a type of mesh entity.">fc_getMeshNumEntity</a>(mesh, assoc, &amp;numEntity);
<a name="l03423"></a>03423   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03424"></a>03424     <span class="keywordflow">return</span> rc;
<a name="l03425"></a>03425   
<a name="l03426"></a>03426   <span class="comment">// a little more checking - have to have same total number of entity</span>
<a name="l03427"></a>03427   <span class="keywordflow">if</span> (maxNumMember != numEntity) {
<a name="l03428"></a>03428     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Subset and mesh do not have similar enough "</span>
<a name="l03429"></a>03429                           <span class="stringliteral">"associations"</span>);
<a name="l03430"></a>03430     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03431"></a>03431   }
<a name="l03432"></a>03432 
<a name="l03433"></a>03433   <span class="comment">// get some more info</span>
<a name="l03434"></a>03434   rc = <a class="code" href="group__Mesh.html#g3d701a44941883311e4940d7d3b4146a" title="Return name of a mesh.">fc_getMeshName</a>(mesh, &amp;meshName);
<a name="l03435"></a>03435   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03436"></a>03436     <span class="keywordflow">return</span> rc;
<a name="l03437"></a>03437   rc = <a class="code" href="group__Subset.html#g429e404a267e2f574e2578aa5d0aaa35" title="Get subset name.">fc_getSubsetName</a>(subset, &amp;subsetName);
<a name="l03438"></a>03438   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03439"></a>03439     <span class="keywordflow">return</span> rc;
<a name="l03440"></a>03440   rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset, &amp;numMember, &amp;members);
<a name="l03441"></a>03441   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03442"></a>03442     <span class="keywordflow">return</span> rc;
<a name="l03443"></a>03443 
<a name="l03444"></a>03444   <span class="comment">// log message</span>
<a name="l03445"></a>03445   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Printing subset '%s' of mesh '%s'"</span>, subsetName,
<a name="l03446"></a>03446                       meshName);
<a name="l03447"></a>03447   
<a name="l03448"></a>03448   <span class="comment">// print meta data</span>
<a name="l03449"></a>03449   printf(<span class="stringliteral">"Subset '%s' of Mesh '%s'\n"</span>, subsetName, meshName);
<a name="l03450"></a>03450   printf(<span class="stringliteral">"%snumMember = %d (of %d), assoc = %s, "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, numMember, 
<a name="l03451"></a>03451          maxNumMember, <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc));
<a name="l03452"></a>03452   fflush(NULL);
<a name="l03453"></a>03453   <span class="keywordflow">switch</span>(assoc) {
<a name="l03454"></a>03454   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af633c84fbf48ae06b5f39adac0b92fbaed">FC_AT_EDGE</a>: <span class="comment">// fall through to FC_AT_WHOLE_MESH</span>
<a name="l03455"></a>03455   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af62b7e38452f200e9abd5767534b43d670">FC_AT_WHOLE_MESH</a>:
<a name="l03456"></a>03456     printf(<span class="stringliteral">"\n"</span>);
<a name="l03457"></a>03457     <span class="keywordflow">break</span>;
<a name="l03458"></a>03458   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af644ec6296999025f1ac12940f0c8e36d3">FC_AT_VERTEX</a>: 
<a name="l03459"></a>03459     <a class="code" href="group__Mesh.html#g1dbe9de126f08baea03de91a37b0258b" title="Returns dimensionality of the mesh coordinates.">fc_getMeshDim</a>(mesh, &amp;dim);
<a name="l03460"></a>03460     printf(<span class="stringliteral">"dim = %d\n"</span>, dim);
<a name="l03461"></a>03461     <span class="keywordflow">break</span>;
<a name="l03462"></a>03462   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af640a4ba10b4045dfe3aef0e0c0588cbd0">FC_AT_FACE</a>:
<a name="l03463"></a>03463     <a class="code" href="group__Mesh.html#g847f92c370cfa4d85fdd8d4be7d9b88c" title="Get element type of the face in the mesh.">fc_getMeshFaceType</a>(mesh, &amp;elemType);
<a name="l03464"></a>03464     printf(<span class="stringliteral">"faceType = %s\n"</span>, <a class="code" href="group__DataTypes.html#g4152b6e700d60abe601b48ce595db9a7" title="Return the name of the FC_ElementType&amp;#39;s value.">fc_getElementTypeText</a>(elemType));
<a name="l03465"></a>03465     <span class="keywordflow">break</span>;
<a name="l03466"></a>03466   <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af690a2a90b49747de25e69b3bfdad27f4a">FC_AT_ELEMENT</a>:
<a name="l03467"></a>03467     <a class="code" href="group__Mesh.html#g1c1684ecf98e82a0ab18f7f9dbdddfc5" title="Returns type of elements in the mesh.">fc_getMeshElementType</a>(mesh, &amp;elemType);
<a name="l03468"></a>03468     printf(<span class="stringliteral">"elemType = %s\n"</span>, <a class="code" href="group__DataTypes.html#g4152b6e700d60abe601b48ce595db9a7" title="Return the name of the FC_ElementType&amp;#39;s value.">fc_getElementTypeText</a>(elemType));
<a name="l03469"></a>03469     <span class="keywordflow">break</span>;
<a name="l03470"></a>03470   <span class="keywordflow">default</span>:
<a name="l03471"></a>03471     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce4dfe7727a339a5a362cd2b90d81aeef76">FC_ERROR</a>;
<a name="l03472"></a>03472   }
<a name="l03473"></a>03473   fflush(NULL);
<a name="l03474"></a>03474 
<a name="l03475"></a>03475   <span class="comment">// print the data</span>
<a name="l03476"></a>03476   <span class="keywordflow">if</span> (numMember &gt; 0) {
<a name="l03477"></a>03477 
<a name="l03478"></a>03478     <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af62b7e38452f200e9abd5767534b43d670">FC_AT_WHOLE_MESH</a>) { 
<a name="l03479"></a>03479       ; <span class="comment">// do nothing</span>
<a name="l03480"></a>03480     }
<a name="l03481"></a>03481 
<a name="l03482"></a>03482     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af644ec6296999025f1ac12940f0c8e36d3">FC_AT_VERTEX</a>) { <span class="comment">// print coords of members</span>
<a name="l03483"></a>03483       <span class="keywordtype">double</span>* coords;      
<a name="l03484"></a>03484       rc = <a class="code" href="group__Mesh.html#gff8561557c19ae03be9ff18cc73a6823" title="Return the vertex coordinates of the mesh.">fc_getMeshCoordsPtr</a>(mesh, &amp;coords);
<a name="l03485"></a>03485       <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03486"></a>03486         <span class="keywordflow">return</span> rc;
<a name="l03487"></a>03487       printf(<span class="stringliteral">"%sVertex Coordinates:\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l03488"></a>03488       <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03489"></a>03489         printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03490"></a>03490         <span class="keywordflow">for</span> (j = 0; j &lt; dim; j++)
<a name="l03491"></a>03491           printf(<span class="stringliteral">"%11g "</span>, coords[members[i]*dim +j]);
<a name="l03492"></a>03492         printf(<span class="stringliteral">"\n"</span>);
<a name="l03493"></a>03493       }
<a name="l03494"></a>03494       fflush(NULL);
<a name="l03495"></a>03495     }
<a name="l03496"></a>03496 
<a name="l03497"></a>03497     <span class="keywordflow">else</span> { <span class="comment">// print connectivities of members</span>
<a name="l03498"></a>03498       <span class="keywordtype">int</span>* conns;
<a name="l03499"></a>03499       <span class="keywordtype">int</span> numVertPerEntity = 0, *numVertPerFace = NULL, numVert;
<a name="l03500"></a>03500 
<a name="l03501"></a>03501       <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af633c84fbf48ae06b5f39adac0b92fbaed">FC_AT_EDGE</a>) {
<a name="l03502"></a>03502         numVertPerEntity = 2;
<a name="l03503"></a>03503         rc = <a class="code" href="group__Mesh.html#gcae096882dec5f984503869f5f64acfc" title="Return edge connectivities.">fc_getMeshEdgeConnsPtr</a>(mesh, &amp;conns);
<a name="l03504"></a>03504         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03505"></a>03505           <span class="keywordflow">return</span> rc;
<a name="l03506"></a>03506         printf(<span class="stringliteral">"%sEdge connectivities:\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l03507"></a>03507       }
<a name="l03508"></a>03508       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af640a4ba10b4045dfe3aef0e0c0588cbd0">FC_AT_FACE</a> &amp;&amp; elemType == <a class="code" href="group__DataTypes.html#gg57a0abe7a63cc2c6c9fb0a3db339884a9f716d199046924e5d22004f83daaa50">FC_ET_MIXED</a>) {
<a name="l03509"></a>03509         rc = <a class="code" href="group__Mesh.html#g8e318f4b17572413004acf14b18deb2b" title="Return face connectivities.">fc_getMeshFaceConnsPtr</a>(mesh, &amp;numVertPerFace, &amp;numVertPerEntity, 
<a name="l03510"></a>03510                                     &amp;conns);
<a name="l03511"></a>03511         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03512"></a>03512           <span class="keywordflow">return</span> rc;
<a name="l03513"></a>03513         printf(<span class="stringliteral">"%sFace connectivities (3 or 4 vertices per face):\n"</span>,
<a name="l03514"></a>03514                <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l03515"></a>03515       }
<a name="l03516"></a>03516       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af640a4ba10b4045dfe3aef0e0c0588cbd0">FC_AT_FACE</a>) {
<a name="l03517"></a>03517         rc = <a class="code" href="group__Mesh.html#g8e318f4b17572413004acf14b18deb2b" title="Return face connectivities.">fc_getMeshFaceConnsPtr</a>(mesh, NULL, &amp;numVertPerEntity, &amp;conns);
<a name="l03518"></a>03518         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03519"></a>03519           <span class="keywordflow">return</span> rc;
<a name="l03520"></a>03520         printf(<span class="stringliteral">"%sFace connectivities (%d vertices per face):\n"</span>,
<a name="l03521"></a>03521                <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, numVertPerEntity);
<a name="l03522"></a>03522       }
<a name="l03523"></a>03523       <span class="keywordflow">else</span> {
<a name="l03524"></a>03524         numVertPerEntity = <a class="code" href="group__DataTypes.html#g2a400f7126e79f149032162c87c4eee8" title="Returns number of vertices in a type of element.">fc_getElementTypeNumVertex</a>(elemType);
<a name="l03525"></a>03525         rc = <a class="code" href="group__Mesh.html#g19906bcae562d226991740da142000c0" title="Return element to vertex connectivities for the mesh.">fc_getMeshElementConnsPtr</a>(mesh, &amp;conns);
<a name="l03526"></a>03526         <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03527"></a>03527           <span class="keywordflow">return</span> rc;
<a name="l03528"></a>03528         printf(<span class="stringliteral">"%sElement connectivities (%d vertices per element):\n"</span>, 
<a name="l03529"></a>03529                <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, numVertPerEntity);
<a name="l03530"></a>03530       }
<a name="l03531"></a>03531       fflush(NULL);
<a name="l03532"></a>03532 
<a name="l03533"></a>03533       <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03534"></a>03534         printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03535"></a>03535         <span class="keywordflow">if</span> (assoc == <a class="code" href="group__DataTypes.html#gg28b7cdba59395ddc988888d01dd19af640a4ba10b4045dfe3aef0e0c0588cbd0">FC_AT_FACE</a> &amp;&amp; elemType == <a class="code" href="group__DataTypes.html#gg57a0abe7a63cc2c6c9fb0a3db339884a9f716d199046924e5d22004f83daaa50">FC_ET_MIXED</a>) 
<a name="l03536"></a>03536           numVert = numVertPerFace[members[i]];
<a name="l03537"></a>03537         <span class="keywordflow">else</span> 
<a name="l03538"></a>03538           numVert = numVertPerEntity;
<a name="l03539"></a>03539         <span class="keywordflow">for</span> (j = 0; j &lt; numVert; j++)
<a name="l03540"></a>03540           printf(<span class="stringliteral">"%6d "</span>, conns[members[i]*numVertPerEntity + j]);
<a name="l03541"></a>03541         printf(<span class="stringliteral">"\n"</span>);
<a name="l03542"></a>03542       }
<a name="l03543"></a>03543       fflush(NULL);
<a name="l03544"></a>03544     }
<a name="l03545"></a>03545   } 
<a name="l03546"></a>03546 
<a name="l03547"></a>03547   <span class="comment">// cleanup</span>
<a name="l03548"></a>03548   free(members);
<a name="l03549"></a>03549   free(meshName);
<a name="l03550"></a>03550   free(subsetName);
<a name="l03551"></a>03551 
<a name="l03552"></a>03552   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03553"></a>03553 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gceeae96d99f142584714200658adf5dc"></a><!-- doxytag: member="subset.c::fc_printSubsetOfVariable" ref="gceeae96d99f142584714200658adf5dc" args="(FC_Subset subset, FC_Variable variable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_printSubsetOfVariable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Variable.html">FC_Variable</a>&nbsp;</td>
          <td class="paramname"> <em>variable</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print the subset of a variable. 
<p>
<b>Description:</b> <p>
Print the data values on the subset of the mesh. This only works if the subset and variable share the same association type, and their parent meshes are similar enough (i.e. same number of mesh subentities for association type).<p>
<b>Modifications:</b> <ul>
<li>11/26/03 WSK Created.</li><li>05/24/04 WSK Changed to printing a subset of a variable. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset </td></tr>
<tr><td valign="top"><em>variable</em>&nbsp;</td><td>
input - variable </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l03570">3570</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="base_8h-source.html#l00139">FC_DT_CHAR</a>, <a class="el" href="base_8h-source.html#l00150">FC_DT_DOUBLE</a>, <a class="el" href="base_8h-source.html#l00149">FC_DT_FLOAT</a>, <a class="el" href="base_8h-source.html#l00143">FC_DT_INT</a>, <a class="el" href="base_8h-source.html#l00138">FC_DT_UNKNOWN</a>, <a class="el" href="base_8c-source.html#l00477">fc_getAssociationTypeText()</a>, <a class="el" href="base_8c-source.html#l00419">fc_getDataTypeText()</a>, <a class="el" href="base_8c-source.html#l00448">fc_getMathTypeText()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="subset_8c-source.html#l02782">fc_getSubsetInfo()</a>, <a class="el" href="subset_8c-source.html#l03001">fc_getSubsetMembersAsArray()</a>, <a class="el" href="subset_8c-source.html#l02700">fc_getSubsetName()</a>, <a class="el" href="variable_8c-source.html#l05715">fc_getVariableDataPtr()</a>, <a class="el" href="variable_8c-source.html#l05433">fc_getVariableInfo()</a>, <a class="el" href="variable_8c-source.html#l05276">fc_getVariableName()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02622">fc_isSubsetValid()</a>, <a class="el" href="variable_8c-source.html#l05156">fc_isVariableValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, and <a class="el" href="tableP_8h-source.html#l00057">INDENT_STR</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l03573"></a>03573   {
<a name="l03574"></a>03574   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc;
<a name="l03575"></a>03575   <span class="keywordtype">int</span> i, j;
<a name="l03576"></a>03576   <span class="keywordtype">int</span> numDataPoint, numComp, numMember, maxNumMember, *members;
<a name="l03577"></a>03577   <span class="keywordtype">char</span>* varName, *subsetName;
<a name="l03578"></a>03578   <a class="code" href="group__DataTypes.html#g28b7cdba59395ddc988888d01dd19af6" title="Possible association of the data to the mesh.">FC_AssociationType</a> assoc, temp_assoc;
<a name="l03579"></a>03579   <a class="code" href="group__DataTypes.html#gcca24e957488bb76e40a84ea651975d9" title="Possible data types.">FC_DataType</a> dataType;
<a name="l03580"></a>03580   <a class="code" href="group__DataTypes.html#g60d16c50c365cd12f1f61ce8f4cebb20" title="Possible ways of organizing data values.">FC_MathType</a> mathType;
<a name="l03581"></a>03581   
<a name="l03582"></a>03582   <span class="comment">// check input</span>
<a name="l03583"></a>03583   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#g63bf248cb60435e458ea038036d6af90" title="Check that the handle refers to a valid subset.">fc_isSubsetValid</a>(subset) || !<a class="code" href="group__Variable.html#g31f5830cdcafcce9ffec2c8bb2ff46e2" title="Check that the handle refers to a valid variable.">fc_isVariableValid</a>(variable)) {
<a name="l03584"></a>03584     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l03585"></a>03585     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03586"></a>03586   }
<a name="l03587"></a>03587 
<a name="l03588"></a>03588   <span class="comment">// get meta data</span>
<a name="l03589"></a>03589   rc = <a class="code" href="group__Subset.html#g815857d0e2d573d0418a3892229c0d83" title="Get information about a subset.">fc_getSubsetInfo</a>(subset, &amp;numMember, &amp;maxNumMember, &amp;temp_assoc);
<a name="l03590"></a>03590   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03591"></a>03591     <span class="keywordflow">return</span> rc;
<a name="l03592"></a>03592   rc = <a class="code" href="group__Variable.html#gcd52b4ee0552c63ff2819e5f30549cbc" title="Get information about a variable.">fc_getVariableInfo</a>(variable, &amp;numDataPoint, &amp;numComp, &amp;assoc, 
<a name="l03593"></a>03593                           &amp;mathType, &amp;dataType);
<a name="l03594"></a>03594   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03595"></a>03595     <span class="keywordflow">return</span> rc;
<a name="l03596"></a>03596 
<a name="l03597"></a>03597   <span class="comment">// a little more checking - have to have same total number of entity</span>
<a name="l03598"></a>03598   <span class="keywordflow">if</span> (temp_assoc != assoc || maxNumMember != numDataPoint) {
<a name="l03599"></a>03599     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"Subset and mesh do not have similar enough "</span>
<a name="l03600"></a>03600                           <span class="stringliteral">"associations"</span>);
<a name="l03601"></a>03601     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l03602"></a>03602   }
<a name="l03603"></a>03603 
<a name="l03604"></a>03604   rc = <a class="code" href="group__Variable.html#g233584b319c5dd90a13582fc9ac3484e" title="Return name of a variable.">fc_getVariableName</a>(variable, &amp;varName);
<a name="l03605"></a>03605   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03606"></a>03606     <span class="keywordflow">return</span> rc;
<a name="l03607"></a>03607   rc = <a class="code" href="group__Subset.html#g429e404a267e2f574e2578aa5d0aaa35" title="Get subset name.">fc_getSubsetName</a>(subset, &amp;subsetName);
<a name="l03608"></a>03608   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03609"></a>03609     <span class="keywordflow">return</span> rc;
<a name="l03610"></a>03610   rc = <a class="code" href="group__Subset.html#g6cebfda6e20e2a518636838b170185da" title="Get a copy of subset members as array.">fc_getSubsetMembersAsArray</a>(subset, &amp;numMember, &amp;members);
<a name="l03611"></a>03611   <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03612"></a>03612     <span class="keywordflow">return</span> rc;
<a name="l03613"></a>03613 
<a name="l03614"></a>03614   <span class="comment">// log message</span>
<a name="l03615"></a>03615   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Printing subset '%s' of variable '%s'"</span>, subsetName,
<a name="l03616"></a>03616                       varName);
<a name="l03617"></a>03617 
<a name="l03618"></a>03618   <span class="comment">// print meta data</span>
<a name="l03619"></a>03619   printf(<span class="stringliteral">"Subset '%s' of Variable '%s'\n"</span>, subsetName, varName);
<a name="l03620"></a>03620   printf(<span class="stringliteral">"%snumMember = %d (of %d), numComponent = %d\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>,
<a name="l03621"></a>03621          numMember, maxNumMember, numComp);
<a name="l03622"></a>03622   printf(<span class="stringliteral">"%sassoc = %s, mathType = %s, dataType = %s\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, 
<a name="l03623"></a>03623          <a class="code" href="group__DataTypes.html#g615e96c3b13331857b5ba45d597c49de" title="Return the name of the FC_AssociationType&amp;#39;s value.">fc_getAssociationTypeText</a>(assoc), <a class="code" href="group__DataTypes.html#g3a795f9de32c21f27a3eb5e1748f2efb" title="Return the name of the FC_MathType&amp;#39;s value.">fc_getMathTypeText</a>(mathType), 
<a name="l03624"></a>03624          <a class="code" href="group__DataTypes.html#g688d0934eac6d388ad21c461e22fd19f" title="Return the name of the FC_DataType&amp;#39;s value.">fc_getDataTypeText</a>(dataType));
<a name="l03625"></a>03625   fflush(NULL);
<a name="l03626"></a>03626   
<a name="l03627"></a>03627   <span class="keywordflow">if</span> (numMember &gt; 0) {
<a name="l03628"></a>03628 
<a name="l03629"></a>03629     <span class="comment">// print the values</span>
<a name="l03630"></a>03630     <span class="keywordtype">void</span>* dbuf;
<a name="l03631"></a>03631     rc = <a class="code" href="group__Variable.html#g40a4d68cafd7134b908b78d053d3c47d" title="Get the data in a variable.">fc_getVariableDataPtr</a>(variable, &amp;dbuf);
<a name="l03632"></a>03632     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l03633"></a>03633       <span class="keywordflow">return</span> rc;
<a name="l03634"></a>03634     printf(<span class="stringliteral">"%sData:\n"</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>);
<a name="l03635"></a>03635     fflush(NULL);
<a name="l03636"></a>03636     <span class="keywordflow">switch</span> (dataType) {
<a name="l03637"></a>03637     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d91103921fcb19c46b788b514185b6f596">FC_DT_CHAR</a>: 
<a name="l03638"></a>03638       {
<a name="l03639"></a>03639         <span class="keywordtype">char</span>* cast_buf = (<span class="keywordtype">char</span> *)dbuf;
<a name="l03640"></a>03640         <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03641"></a>03641           printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03642"></a>03642           <span class="keywordflow">for</span> (j = 0; j &lt; numComp; j++)
<a name="l03643"></a>03643             printf(<span class="stringliteral">"%c "</span>, cast_buf[members[i]*numComp + j]);
<a name="l03644"></a>03644           printf(<span class="stringliteral">"\n"</span>);
<a name="l03645"></a>03645         }
<a name="l03646"></a>03646       }
<a name="l03647"></a>03647       <span class="keywordflow">break</span>;
<a name="l03648"></a>03648     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d963896eb450c264fe236185788362b270">FC_DT_INT</a>:
<a name="l03649"></a>03649       {
<a name="l03650"></a>03650         <span class="keywordtype">int</span>* cast_buf = (<span class="keywordtype">int</span> *)dbuf;
<a name="l03651"></a>03651         <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03652"></a>03652           printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03653"></a>03653           <span class="keywordflow">for</span> (j = 0; j &lt; numComp; j++)
<a name="l03654"></a>03654             printf(<span class="stringliteral">"%6d "</span>, cast_buf[members[i]*numComp + j]);
<a name="l03655"></a>03655           printf(<span class="stringliteral">"\n"</span>);
<a name="l03656"></a>03656         }
<a name="l03657"></a>03657       }
<a name="l03658"></a>03658       <span class="keywordflow">break</span>;
<a name="l03659"></a>03659     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9b32c04c999cf2998e57c184acc553eb7">FC_DT_FLOAT</a>:
<a name="l03660"></a>03660       {
<a name="l03661"></a>03661         <span class="keywordtype">float</span>* cast_buf = (<span class="keywordtype">float</span> *)dbuf;
<a name="l03662"></a>03662         <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03663"></a>03663           printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03664"></a>03664           <span class="keywordflow">for</span> (j = 0; j &lt; numComp; j++)
<a name="l03665"></a>03665             printf(<span class="stringliteral">"%11.6g "</span>, cast_buf[members[i]*numComp + j]);
<a name="l03666"></a>03666           printf(<span class="stringliteral">"\n"</span>);
<a name="l03667"></a>03667         }
<a name="l03668"></a>03668       }
<a name="l03669"></a>03669       <span class="keywordflow">break</span>;
<a name="l03670"></a>03670     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9250e83e5dab9b5c1872f0f82665ff905">FC_DT_DOUBLE</a>:
<a name="l03671"></a>03671       {
<a name="l03672"></a>03672         <span class="keywordtype">double</span>* cast_buf = (<span class="keywordtype">double</span> *)dbuf;
<a name="l03673"></a>03673         <span class="keywordflow">for</span> (i = 0; i &lt; numMember; i++) {
<a name="l03674"></a>03674           printf(<span class="stringliteral">"%s%s%d:  "</span>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, <a class="code" href="group__PrivateTable.html#gb05872de60287ffb4f9743c0d9ddf2b8" title="Indent string for _fc_printXTable() routines.">INDENT_STR</a>, members[i]);
<a name="l03675"></a>03675           <span class="keywordflow">for</span> (j = 0; j &lt; numComp; j++)
<a name="l03676"></a>03676             <span class="comment">// print the same way as in fc_printVariable()</span>
<a name="l03677"></a>03677             printf(<span class="stringliteral">"%16.11g "</span>, cast_buf[members[i]*numComp + j]);
<a name="l03678"></a>03678           printf(<span class="stringliteral">"\n"</span>);
<a name="l03679"></a>03679         }
<a name="l03680"></a>03680       }
<a name="l03681"></a>03681       <span class="keywordflow">break</span>;
<a name="l03682"></a>03682     <span class="keywordflow">case</span> <a class="code" href="group__DataTypes.html#ggcca24e957488bb76e40a84ea651975d9c76e1a6b572327d5433db69f08eddde1">FC_DT_UNKNOWN</a>:
<a name="l03683"></a>03683       printf(<span class="stringliteral">"Cannot print data type '%s'\n"</span>, <a class="code" href="group__DataTypes.html#g688d0934eac6d388ad21c461e22fd19f" title="Return the name of the FC_DataType&amp;#39;s value.">fc_getDataTypeText</a>(dataType));
<a name="l03684"></a>03684     }
<a name="l03685"></a>03685     fflush(NULL);
<a name="l03686"></a>03686   }
<a name="l03687"></a>03687 
<a name="l03688"></a>03688   <span class="comment">// cleanup</span>
<a name="l03689"></a>03689   free(members);
<a name="l03690"></a>03690   free(varName);
<a name="l03691"></a>03691   free(subsetName);
<a name="l03692"></a>03692 
<a name="l03693"></a>03693   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l03694"></a>03694 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="gbc9f1845d70b66a70098f99b217bfbac"></a><!-- doxytag: member="subset.c::fc_releaseSeqSubset" ref="gbc9f1845d70b66a70098f99b217bfbac" args="(int numStep, FC_Subset *subsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_releaseSeqSubset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a> *&nbsp;</td>
          <td class="paramname"> <em>subsets</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to minimize seq subset's memory usage. 
<p>
<b>Description:</b> <p>
Call to try and release un-needed memory in a seq subset. If the subset has been saved to disk, the large data is released. If the subset has not been saved to disk, this will do nothing.<p>
<a class="el" href="group__Subset.html#g4deb677b461d276676f290e7c7879595" title="Attempt to minimize subset&#39;s memory usage.">fc_releaseSubset()</a> can be called on specific steps of the seq subset.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000097">Todo:</a></b></dt><dd><ul>
<li>test this. note that there is no way to have commmitted seqSubsets in exodus</li></ul>
</dd></dl>
<b>Modifications:</b> <ul>
<li>03/03/08 ACG Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numStep</em>&nbsp;</td><td>
input - number of steps in the seq subset </td></tr>
<tr><td valign="top"><em>subsets</em>&nbsp;</td><td>
input - subset handles </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02427">2427</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="subset_8c-source.html#l02643">fc_isSeqSubsetValid()</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="subset_8c-source.html#l02376">fc_releaseSubset()</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, and <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>.</p>

<p>Referenced by <a class="el" href="mesh_8c-source.html#l02417">fc_releaseMesh()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02430"></a>02430   {
<a name="l02431"></a>02431   <a class="code" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4" title="Possible function return values.">FC_ReturnCode</a> rc, rc_keep = <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02432"></a>02432   <span class="keywordtype">int</span> i;
<a name="l02433"></a>02433   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02434"></a>02434 
<a name="l02435"></a>02435   <span class="comment">// special case: releasing a null handle is not an error</span>
<a name="l02436"></a>02436   <span class="keywordflow">if</span> ( numStep &lt; 1 || subsets == NULL) {
<a name="l02437"></a>02437     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Releasing NULL seq subset"</span>);
<a name="l02438"></a>02438     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02439"></a>02439   }
<a name="l02440"></a>02440 
<a name="l02441"></a>02441   <span class="comment">// check input</span>
<a name="l02442"></a>02442   <span class="keywordflow">if</span> (!<a class="code" href="group__Subset.html#gf1532331ef992fdd5c3dacfe060252df" title="Check that the handle refers to a valid subset.">fc_isSeqSubsetValid</a>(numStep, subsets)) {
<a name="l02443"></a>02443     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02444"></a>02444     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02445"></a>02445   }
<a name="l02446"></a>02446   
<a name="l02447"></a>02447   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subsets[0]);
<a name="l02448"></a>02448   <span class="keywordflow">if</span> (subSlot == NULL) {
<a name="l02449"></a>02449     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02450"></a>02450     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02451"></a>02451   }
<a name="l02452"></a>02452   
<a name="l02453"></a>02453   <span class="comment">// log message</span>
<a name="l02454"></a>02454   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Cleaning up subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02455"></a>02455 
<a name="l02456"></a>02456   <span class="comment">//do it</span>
<a name="l02457"></a>02457   rc_keep = <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02458"></a>02458   <span class="keywordflow">for</span> (i = 0; i &lt; numStep; i++) {
<a name="l02459"></a>02459     rc = <a class="code" href="group__Subset.html#g4deb677b461d276676f290e7c7879595" title="Attempt to minimize subset&amp;#39;s memory usage.">fc_releaseSubset</a>(subsets[i]);
<a name="l02460"></a>02460     <span class="keywordflow">if</span> (rc != <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>)
<a name="l02461"></a>02461       rc_keep = rc;
<a name="l02462"></a>02462   }
<a name="l02463"></a>02463 
<a name="l02464"></a>02464   <span class="keywordflow">return</span> rc_keep;
<a name="l02465"></a>02465 
<a name="l02466"></a>02466 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4deb677b461d276676f290e7c7879595"></a><!-- doxytag: member="subset.c::fc_releaseSubset" ref="g4deb677b461d276676f290e7c7879595" args="(FC_Subset subset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DataTypes.html#g2a40aa471d085988d5b582669f766ce4">FC_ReturnCode</a> fc_releaseSubset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFC__Subset.html">FC_Subset</a>&nbsp;</td>
          <td class="paramname"> <em>subset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to minimize subset's memory usage. 
<p>
<b>Description:</b> <p>
Call to try and release un-needed memory in a subset. If the subset has been saved to disk, the large data is released. If the subset has not been saved to disk, this will do nothing.<p>
<b>Modifications:</b> <ul>
<li>04/19/04 WSK Created. </li></ul>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subset</em>&nbsp;</td><td>
input - subset handle </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="subset_8c-source.html#l02376">2376</a> of file <a class="el" href="subset_8c-source.html">subset.c</a>.</p>

<p>References <a class="el" href="subset_8c-source.html#l03800">_fc_getSubSlot()</a>, <a class="el" href="tableP_8h-source.html#l00104">_FC_SlotHeader::committed</a>, <a class="el" href="storage_8c-source.html#l00846">fc_freeSortedIntArray()</a>, <a class="el" href="base_8c-source.html#l00355">fc_getReturnCodeText()</a>, <a class="el" href="base_8h-source.html#l00319">FC_HANDLE_EQUIV</a>, <a class="el" href="base_8h-source.html#l00107">FC_INPUT_ERROR</a>, <a class="el" href="base_8c-source.html#l00784">FC_NULL_SUBSET</a>, <a class="el" href="library_8h-source.html#l00120">fc_printfErrorMessage</a>, <a class="el" href="library_8h-source.html#l00188">fc_printfLogMessage</a>, <a class="el" href="library_8h-source.html#l00154">fc_printfWarningMessage</a>, <a class="el" href="base_8h-source.html#l00104">FC_SUCCESS</a>, <a class="el" href="subsetP_8h-source.html#l00074">_FC_SubSlot::header</a>, <a class="el" href="tableP_8h-source.html#l00100">_FC_SlotHeader::name</a>, and <a class="el" href="subsetP_8h-source.html#l00087">_FC_SubSlot::sia</a>.</p>

<p>Referenced by <a class="el" href="mesh_8c-source.html#l02417">fc_releaseMesh()</a>, and <a class="el" href="subset_8c-source.html#l02427">fc_releaseSeqSubset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l02378"></a>02378   {
<a name="l02379"></a>02379   <a class="code" href="struct__FC__SubSlot.html" title="Struct describing subset elements.">_FC_SubSlot</a>* subSlot;
<a name="l02380"></a>02380   
<a name="l02381"></a>02381   <span class="comment">// special case: releasing a null handle is not an error</span>
<a name="l02382"></a>02382   <span class="keywordflow">if</span> (<a class="code" href="group__Handles.html#g390004fca0870147d490f32c55afab8d" title="Check two handles for equality.">FC_HANDLE_EQUIV</a>(subset, <a class="code" href="group__Handles.html#gd007f5eb6e7e7f2febca17b53420fd15" title="Null (default) subset handle.">FC_NULL_SUBSET</a>)) {
<a name="l02383"></a>02383     <a class="code" href="group__Library.html#g160cfb8cb557ccf48fee07ae11e65482" title="Print a warning message to stdout.">fc_printfWarningMessage</a>(<span class="stringliteral">"Releasing FC_NULL_SUBSET"</span>);
<a name="l02384"></a>02384     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02385"></a>02385   }
<a name="l02386"></a>02386 
<a name="l02387"></a>02387   <span class="comment">// check input</span>
<a name="l02388"></a>02388   subSlot = <a class="code" href="group__PrivateSubset.html#gfcfa40671d6a71442d882bf0926d7895" title="Get a subset slot from a subset handle.">_fc_getSubSlot</a>(subset);
<a name="l02389"></a>02389   <span class="keywordflow">if</span> (subSlot == NULL) {
<a name="l02390"></a>02390     <a class="code" href="group__Library.html#g1473e77471cd1319f76eb9a32e4ad91f" title="Print an error message to stderr.">fc_printfErrorMessage</a>(<span class="stringliteral">"%s"</span>, <a class="code" href="group__DataTypes.html#g510d74cc1e13d4cdc5bde247a25d48e4" title="Return the name of the FC_ReturnCode&amp;#39;s value.">fc_getReturnCodeText</a>(<a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>));
<a name="l02391"></a>02391     <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce464a3d55131c355cdf036f95d0d7e1a6e">FC_INPUT_ERROR</a>;
<a name="l02392"></a>02392   }
<a name="l02393"></a>02393   
<a name="l02394"></a>02394   <span class="comment">// log message</span>
<a name="l02395"></a>02395   <a class="code" href="group__Library.html#g7e9664a8765cc08c313df880421c496b" title="Print a log message to stdout.">fc_printfLogMessage</a>(<span class="stringliteral">"Cleaning up subset '%s'"</span>, subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#b14afe27fdf25b95ceacb0ca867696a5">name</a>);
<a name="l02396"></a>02396 
<a name="l02397"></a>02397   <span class="comment">// remove big data if this slot is committed</span>
<a name="l02398"></a>02398   <span class="keywordflow">if</span> (subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#07d50e7e118f4d4c1c7c70caa2d9d2f6">header</a>.<a class="code" href="struct__FC__SlotHeader.html#df0a17b8284aa195791caff85ff62743">committed</a> == 1) {
<a name="l02399"></a>02399     <a class="code" href="group__SimpleDataObjects.html#g20daa2fb7f38e75da823116f5c41a579" title="Free the sorted int array&amp;#39;s values.">fc_freeSortedIntArray</a>(&amp;subSlot-&gt;<a class="code" href="struct__FC__SubSlot.html#c1075cb184da39370ebf466be2ace9f1">sia</a>);
<a name="l02400"></a>02400   }
<a name="l02401"></a>02401 
<a name="l02402"></a>02402   <span class="keywordflow">return</span> <a class="code" href="group__DataTypes.html#gg2a40aa471d085988d5b582669f766ce46687acb19dbc2e15e6e89cdc39e8e18e">FC_SUCCESS</a>;
<a name="l02403"></a>02403 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 27 13:26:17 2008 for FCLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
